!function(){if("undefined"==typeof window||window.Promise||(window.Promise=function(){var t=setTimeout;function r(){}function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function i(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,a._immediateFn(function(){var e=1===n._state?r.onFulfilled:r.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void s(r.promise,e)}o(r.promise,t)}else(1===n._state?o:s)(r.promise,n._value)})):n._deferreds.push(r)}function o(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof a)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void c((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){s(t,e)}var r,i}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}return a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(r);return i(this,new u(e,t,n)),n},a.all=function(e){var s=Array.prototype.slice.call(e);return new a(function(r,i){if(0===s.length)return r([]);var a=s.length;function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){o(t,e)},i)}s[t]=e,0==--a&&r(s)}catch(e){i(e)}}for(var e=0;e<s.length;e++)o(e,s[e])})},a.resolve=function(t){return t&&"object"==typeof t&&t.constructor===a?t:new a(function(e){e(t)})},a.reject=function(n){return new a(function(e,t){t(n)})},a.race=function(i){return new a(function(e,t){for(var n=0,r=i.length;n<r;n++)i[n].then(e,t)})},a._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){t(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},a._setImmediateFn=function(e){a._immediateFn=e},a._setUnhandledRejectionFn=function(e){a._unhandledRejectionFn=e},a}()),!window.$fsx){var r=window.$fsx={};r.f={},r.m={},r.r=function(e){var t=r.m[e];if(t)return t.m.exports;var n=r.f[e];return n?((t=r.m[e]={}).exports={},t.m={exports:t.exports},n.call(t.exports,t.m,t.exports),t.m.exports):void 0}}}(),function(A){A.f[0]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(62),r=A.r(1);n.configure(r.App).then(function(e){e.start(document.body)}),console.log("build-07.09.2018-v2")},A.f[1]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(62),a=A.r(2);A.r(3);var o=function(){function e(e){this.copyright="Copyright (c) 2018 Vegar Ringdal vegar.ringdal@gmail.com",this.textArea="",this.showTools=!0,this.toToBottom=!0,this.testCables=[{tag:"R-82-7895_01",tagFrom:"Dist_board",tagTo:"JUNCTION_BOX_1",type:"BFOU-2x4mm2",areaFrom:"LV Room",areaTo:"Hall"},{tag:"R-82-7895_02",tagFrom:"JUNCTION_BOX_1",tagTo:"LIGHT_02",type:"BFOU-2x2.5mm2",areaFrom:"Hall",areaTo:"Hall"},{tag:"R-82-7895_04",tagFrom:"JUNCTION_BOX_1",tagTo:"LIGHT_04",type:"BFOU-2x2.5mm2",areaFrom:"Hall",areaTo:"Office_1"},{tag:"R-82-7895_07",tagFrom:"JUNCTION_BOX_1",tagTo:"LIGHT_07",type:"BFOU-2x2.5mm2",areaFrom:"Hall",areaTo:"Office_2"},{tag:"R-82-7895_12",tagFrom:"JUNCTION_BOX_1",tagTo:"LIGHT_12",type:"BFOU-2x2.5mm2",areaFrom:"Hall",areaTo:"Office_3"},{tag:"R-82-7895_03",tagFrom:"LIGHT_02",tagTo:"LIGHT_03",type:"BFOU-2x2.5mm2",areaFrom:"Hall",areaTo:"Hall"},{tag:"R-82-7895_05",tagFrom:"LIGHT_04",tagTo:"LIGHT_05",type:"BFOU-2x2.5mm2",areaFrom:"Office_1",areaTo:"Office_1"},{tag:"R-82-7895_06",tagFrom:"LIGHT_05",tagTo:"LIGHT_06",type:"BFOU-2x2.5mm2",areaFrom:"Office_1",areaTo:"Office_1"},{tag:"R-82-7895_08",tagFrom:"LIGHT_07",tagTo:"LIGHT_08",type:"BFOU-2x2.5mm2",areaFrom:"Office_2",areaTo:"Office_2"},{tag:"R-82-7895_09",tagFrom:"LIGHT_08",tagTo:"LIGHT_09",type:"BFOU-2x2.5mm2",areaFrom:"Office_2",areaTo:"Office_2"},{tag:"R-82-7895_10",tagFrom:"LIGHT_08",tagTo:"LIGHT_10",type:"BFOU-2x2.5mm2",areaFrom:"Office_2",areaTo:"Office_2"},{tag:"R-82-7895_11",tagFrom:"LIGHT_10",tagTo:"LIGHT_11",type:"BFOU-2x2.5mm2",areaFrom:"Office_2",areaTo:"Office_2"},{tag:"R-82-7895_13",tagFrom:"LIGHT_12",tagTo:"LIGHT_13",type:"BFOU-2x2.5mm2",areaFrom:"Office_3",areaTo:"Office_3"}],this.cytoscape=e}return e.prototype.loadTemplate=function(){return A.r(4)},e.prototype.showConfig=function(){this.showTools=!0},e.prototype.setImage=function(){this.cytoscape.setImage()},e.prototype.generateImage=function(){var e=this.cytoscape.cy.png({full:!0,scale:3}),t=new Image;t.src=e,window.open("").document.write(t.outerHTML)},e.prototype.generate=function(){var n=[];""!==this.textArea&&this.textArea.split("\n").forEach(function(e){var t=e.split("\t");1===t.length&&1===(t=e.split(";")).length&&(t=e.split("    ")),n.push({tag:t[0]||"NA",tagFrom:t[1]||"NA",tagTo:t[2]||"NA",type:t[3]||"NA",areaFrom:t[4]||"NA",areaTo:t[5]||"NA"})});this.showTools=!1;var e=n.length?n:this.testCables;this.cytoscape.generate(e,this.toToBottom)},e=n([i.inject(a.CytoscapeHelper),r("design:paramtypes",[Object])],e)}();t.App=o},A.f[2]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(6),r=A.r(5);n.use(r);var i=function(){function e(){this.dagreLayout={name:"dagre",nodeSep:50,edgeSep:10,rankSep:50,rankDir:"TB",minLen:function(){return.5},edgeWeight:function(){return 1},fit:!0,padding:20,animate:!1,animationDuration:500,animationEasing:void 0,boundingBox:void 0,ready:function(){},stop:function(){}}}return e.prototype.generate=function(e,t){this.dagreLayout.rankDir=t?"TB":"LR",this.createCY(),this.addStyle(),this.createData(e),this.setLayout()},e.prototype.createCY=function(){this.cy=n({container:document.getElementById("cy"),wheelSensitivity:.1})},e.prototype.createData=function(e){var f=new Set,p=[],v=[];e.forEach(function(e,t){var n=e.tag,r=e.type,i=e.areaFrom,a=e.areaTo,o=e.tagFrom,s=e.tagTo;f.has(o)||(f.add(o),f.has(i)||(f.add(i),p.push({data:{id:i}})),p.push({data:{id:o,parent:i}})),f.has(s)||(f.add(s),f.has(a)||(f.add(a),p.push({data:{id:a}})),p.push({data:{id:s,parent:a}}));var l=n+"\n"+r+" ";p.push({data:{id:l,parent:a,type:"cableTag"}});var u=t+"pointX"+t;p.push({data:{id:u,parent:a,type:"bendPoint"}});var c=o+u+t;v.push({data:{id:c,source:o,target:u,type:"bendPoint"}});var h=u+l+t;v.push({data:{id:h,source:u,target:l,type:"bendPoint"}});var d=l+s+t;v.push({data:{id:d,source:l,target:s,customType:"line"}})}),this.cy.add({nodes:p,edges:v})},e.prototype.addStyle=function(){this.cy.style().resetToDefault().selector("node").css({content:"data(id)","text-valign":"center","text-halign":"center",shape:"rectangle","background-color":"white","border-width":"1","border-color":"#ccc",width:"150",height:"18","font-size":11}).selector('node[type = "bendPoint"]').css({width:"1.00001px",height:"1.00001px",label:"data(none)"}).selector("$node > node").css({"padding-top":"10px","padding-left":"10px","margin-left":"40px","padding-bottom":"10px","padding-right":"10px","text-valign":"top","text-halign":"left","background-color":"white"}).selector("edge").css({"target-arrow-shape":"triangle","curve-style":"bezier"}).selector("edge").css({width:1,"line-color":"#ccc","text-wrap":"wrap","font-size":10}).selector('edge[type = "bendPoint" ]').css({width:1,"target-arrow-shape":"none",opacity:1,label:"data(none)"}).selector('node[type = "cableTag" ]').css({width:100,"target-arrow-shape":"none",opacity:1,"border-width":"0","background-color":"white","text-wrap":"wrap","font-size":10,label:"data(id)"})},e.prototype.setLayout=function(){this.cy.layout(this.dagreLayout).run()},e}();t.CytoscapeHelper=i},A.f[3]=function(){A.r(37)("default/index.css",'\r\n\r\nhtml, body {\r\nmargin:20px;\r\nheight:100%;\r\nwidth:100%;\r\n}\r\n\r\n.splash {\r\ntext-align: center;\r\nmargin: 10% 0 0 0;\r\nbox-sizing: border-box;\r\n}\r\n\r\n.splash .message {\r\nfont-size: 72px;\r\nline-height: 72px;\r\ntext-shadow: rgba(0, 0, 0, 0.5) 0 0 15px;\r\ntext-transform: uppercase;\r\nfont-family: "Helvetica Neue", Helvetica, Arial, sans-serif;\r\n}\r\n\r\n.splash .fa-spinner {\r\ntext-align: center;\r\ndisplay: inline-block;\r\nfont-size: 72px;\r\nmargin-top: 50px;\r\n}\r\n  \r\n  \r\n#cy {\r\n    height: 100%;\r\n    width: 100%;\r\n    position: absolute;\r\n    left: 150px;\r\n    top: 20px;\r\n}\r\n\r\n#tools{\r\n    position: absolute;\r\n    z-index:100;\r\n}\r\n\r\n.copy{\r\n    left: 0;\r\n    top: 0;\r\n    float: right;\r\n    position: absolute;\r\n}')},A.f[4]=function(e,t){e.exports.default='<template>\r\n  <div class="copy">${copyright}</div>\r\n\r\n  <div id="tools">\r\n\r\n    <button show.bind="!showTools" click.delegate="showConfig()">Back</button>\r\n\r\n    <button show.bind="!showTools" click.delegate="generateImage()">Generate image</button>\r\n\r\n    <div class="col-md-12 col-md-offset-1" if.bind="showTools">\r\n      <h2>Block Generator</h2>\r\n\r\n      <div class="row">\r\n        <button click.delegate="generate()">Generate block</button>\r\n        <br>\r\n        <label>\r\n          <input type="checkbox" checked.bind="toToBottom"> vertical block\r\n        </label>\r\n      </div>\r\n\r\n      <div class="row">\r\n        <p>Paste in tab delimited data with these columns (copy from excel..)\r\n          <ul>\r\n            <li>Tag</li>\r\n            <li>TagFrom</li>\r\n            <li>TagTo</li>\r\n            <li>CableType</li>\r\n            <li>AreaFrom</li>\r\n            <li>AreaTo</li>\r\n          </ul>\r\n        </p>\r\n        <br> Generator will use test data if nothing is added.\r\n        <br>\r\n\r\n        <textarea style="width:600px;height:300px;border:1px solid" value.bind="textArea"></textarea>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div show.bind="!showTools" style="width:100%;height:100%" id="cy"></div>\r\n  <image id="image"></image>\r\n</template>'},A.f[5]=function(e,t){var n;n=function(n){return function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=n,i.c=r,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(e,t,n){var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(2),i=n(1),E=n(4);function a(e){this.options=i({},r,e)}a.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=function(e,t){return"function"==typeof t?t.apply(e,[e]):t},i=r.boundingBox||{x1:0,y1:0,w:e.width(),h:e.height()};void 0===i.x2&&(i.x2=i.x1+i.w),void 0===i.w&&(i.w=i.x2-i.x1),void 0===i.y2&&(i.y2=i.y1+i.h),void 0===i.h&&(i.h=i.y2-i.y1);var a=new E.graphlib.Graph({multigraph:!0,compound:!0}),o={},s=function(e,t){null!=t&&(o[e]=t)};s("nodesep",r.nodeSep),s("edgesep",r.edgeSep),s("ranksep",r.rankSep),s("rankdir",r.rankDir),s("ranker",r.ranker),a.setGraph(o),a.setDefaultEdgeLabel(function(){return{}}),a.setDefaultNodeLabel(function(){return{}});for(var l=t.nodes(),u=0;u<l.length;u++){var c=l[u],h=c.layoutDimensions(r);a.setNode(c.id(),{width:h.w,height:h.h,name:c.id()})}for(var d=0;d<l.length;d++){var f=l[d];f.isChild()&&a.setParent(f.id(),f.parent().id())}for(var p=t.edges().stdFilter(function(e){return!e.source().isParent()&&!e.target().isParent()}),v=0;v<p.length;v++){var g=p[v];a.setEdge(g.source().id(),g.target().id(),{minlen:n(g,r.minLen),weight:n(g,r.edgeWeight),name:g.id()},g.id())}E.layout(a);for(var y=a.nodes(),m=0;m<y.length;m++){var b=y[m],x=a.node(b);e.getElementById(b).scratch().dagre=x}var w=void 0;r.boundingBox?(w={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0},l.forEach(function(e){var t=e.scratch().dagre;w.x1=Math.min(w.x1,t.x),w.x2=Math.max(w.x2,t.x),w.y1=Math.min(w.y1,t.y),w.y2=Math.max(w.y2,t.y)}),w.w=w.x2-w.x1,w.h=w.y2-w.y1):w=i;return l.layoutPositions(this,r,function(e){var t=(e="object"===(void 0===e?"undefined":_(e))?e:this).scratch().dagre;return function(e){if(r.boundingBox){var t=0===w.w?0:(e.x-w.x1)/w.w,n=0===w.h?0:(e.y-w.y1)/w.h;return{x:i.x1+t*i.w,y:i.y1+n*i.h}}return e}({x:t.x,y:t.y})}),this},e.exports=a},function(e,t,n){e.exports=null!=Object.assign?Object.assign.bind(Object):function(n){for(var e=arguments.length,t=Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return t.forEach(function(t){Object.keys(t).forEach(function(e){return n[e]=t[e]})}),n}},function(e,t,n){var r={nodeSep:void 0,edgeSep:void 0,rankSep:void 0,rankDir:void 0,ranker:void 0,minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:30,spacingFactor:void 0,nodeDimensionsIncludeLabels:!1,animate:!1,animateFilter:function(e,t){return!0},animationDuration:500,animationEasing:void 0,boundingBox:void 0,transform:function(e,t){return t},ready:function(){},stop:function(){}};e.exports=r},function(e,t,n){var r=n(0),i=function(e){e&&e("layout","dagre",r)};"undefined"!=typeof cytoscape&&i(cytoscape),e.exports=i},function(e,t){e.exports=n}])},"object"==typeof e?e.exports=n(A.r(7)):t.cytoscapeDagre=n(A.r(7))},A.f[6]=function(e,t){var n;"undefined"!=typeof self&&self,n=function(n,r){return function(n){var r={};function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=20)}([function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(3),a=i?i.navigator:null,o=i?i.document:null,s=r(""),l=r({}),u=r(function(){}),c="undefined"==typeof HTMLElement?"undefined":r(HTMLElement),h=function(e){return e&&e.instanceString&&d.fn(e.instanceString)?e.instanceString():null},d={defined:function(e){return null!=e},string:function(e){return null!=e&&(void 0===e?"undefined":r(e))==s},fn:function(e){return null!=e&&(void 0===e?"undefined":r(e))===u},array:function(e){return Array.isArray?Array.isArray(e):null!=e&&e instanceof Array},plainObject:function(e){return null!=e&&(void 0===e?"undefined":r(e))===l&&!d.array(e)&&e.constructor===Object},object:function(e){return null!=e&&(void 0===e?"undefined":r(e))===l},number:function(e){return null!=e&&(void 0===e?"undefined":r(e))===r(1)&&!isNaN(e)},integer:function(e){return d.number(e)&&Math.floor(e)===e},bool:function(e){return null!=e&&(void 0===e?"undefined":r(e))===r(!0)},htmlElement:function(e){return"undefined"===c?void 0:null!=e&&e instanceof HTMLElement},elementOrCollection:function(e){return d.element(e)||d.collection(e)},element:function(e){return"collection"===h(e)&&e._private.single},collection:function(e){return"collection"===h(e)&&!e._private.single},core:function(e){return"core"===h(e)},style:function(e){return"style"===h(e)},stylesheet:function(e){return"stylesheet"===h(e)},event:function(e){return"event"===h(e)},thread:function(e){return"thread"===h(e)},fabric:function(e){return"fabric"===h(e)},emptyString:function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},nonemptyString:function(e){return!(!e||!d.string(e)||""===e||e.match(/^\s+$/))},domElement:function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement},boundingBox:function(e){return d.plainObject(e)&&d.number(e.x1)&&d.number(e.x2)&&d.number(e.y1)&&d.number(e.y2)},promise:function(e){return d.object(e)&&d.fn(e.then)},touch:function(){return i&&("ontouchstart"in i||i.DocumentTouch&&o instanceof DocumentTouch)},gecko:function(){return i&&("undefined"!=typeof InstallTrigger||"MozAppearance"in o.documentElement.style)},webkit:function(){return i&&("undefined"!=typeof webkitURL||"WebkitAppearance"in o.documentElement.style)},chromium:function(){return i&&"undefined"!=typeof chrome},khtml:function(){return a&&a.vendor.match(/kde/i)},khtmlEtc:function(){return d.khtml()||d.webkit()||d.chromium()},ms:function(){return a&&a.userAgent.match(/msie|trident|edge/i)},windows:function(){return a&&a.appVersion.match(/Win/i)},mac:function(){return a&&a.appVersion.match(/Mac/i)},linux:function(){return a&&a.appVersion.match(/Linux/i)},unix:function(){return a&&a.appVersion.match(/X11/i)}};e.exports=d},function(e,t,n){var r=n(0),i=n(2),a={MAX_INT:Number.MAX_SAFE_INTEGER||9007199254740991,trueify:function(){return!0},falsify:function(){return!1},zeroify:function(){return 0},noop:function(){},error:function(e){console.error?console.error.apply(console,arguments):console.log.apply(console,arguments),console.trace&&console.trace()},clone:function(e){return this.extend({},e)},copy:function(e){return null==e?e:r.array(e)?e.slice():r.plainObject(e)?this.clone(e):e},copyArray:function(e){return e.slice()},clonePosition:function(e){return{x:e.x,y:e.y}},uuid:function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}};a.makeBoundingBox=i.makeBoundingBox.bind(i),a._staticEmptyObject={},a.staticEmptyObject=function(){return a._staticEmptyObject},a.extend=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var i=Object.keys(r),a=0;a<i.length;a++){var o=i[a];e[o]=r[o]}}return e},a.assign=a.extend,a.default=function(e,t){return void 0===e?t:e},a.removeFromArray=function(e,t,n){for(var r=e.length;0<=r&&(e[r]!==t||(e.splice(r,1),n));r--);},a.clearArray=function(e){e.splice(0,e.length)},a.push=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}},a.getPrefixedProperty=function(e,t,n){return n&&(t=this.prependCamel(n,t)),e[t]},a.setPrefixedProperty=function(e,t,n,r){n&&(t=this.prependCamel(n,t)),e[t]=r},[n(21),n(22),{memoize:n(13)},n(23),n(24),n(25),n(27)].forEach(function(e){a.extend(a,e)}),e.exports=a},function(e,t,n){var x={arePositionsSame:function(e,t){return e.x===t.x&&e.y===t.y},copyPosition:function(e){return{x:e.x,y:e.y}},modelToRenderedPosition:function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},renderedToModelPosition:function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},array2point:function(e){return{x:e[0],y:e[1]}},deg2rad:function(e){return Math.PI*e/180},getAngleFromDisp:function(e,t){return Math.atan2(t,e)-Math.PI/2}};x.log2=Math.log2||function(e){return Math.log(e)/Math.log(2)},x.signum=function(e){return 0<e?1:e<0?-1:0},x.dist=function(e,t){return Math.sqrt(x.sqdist(e,t))},x.sqdist=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},x.qbezierAt=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},x.qbezierPtAt=function(e,t,n,r){return{x:x.qbezierAt(e.x,t.x,n.x,r),y:x.qbezierAt(e.y,t.y,n.y,r)}},x.lineAt=function(e,t,n,r){var i=t.x-e.x,a=t.y-e.y,o=x.dist(e,t),s=i/o,l=a/o;return n=null==n?0:n,r=null!=r?r:n*o,{x:e.x+s*r,y:e.y+l*r}},x.lineAtDist=function(e,t,n){return x.lineAt(e,t,void 0,n)},x.triangleAngle=function(e,t,n){var r=x.dist(t,n),i=x.dist(e,n),a=x.dist(e,t);return Math.acos((r*r+i*i-a*a)/(2*r*i))},x.bound=function(e,t,n){return Math.max(e,Math.min(n,t))},x.makeBoundingBox=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&0<=e.w&&0<=e.h)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},x.updateBoundingBox=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},x.expandBoundingBoxByPoint=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},x.expandBoundingBox=function(e,t){return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},x.boundingBoxesIntersect=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},x.inBoundingBox=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},x.pointInBoundingBox=function(e,t){return this.inBoundingBox(e,t.x,t.y)},x.boundingBoxInBoundingBox=function(e,t){return x.inBoundingBox(e,t.x1,t.y1)&&x.inBoundingBox(e,t.x2,t.y2)},x.roundRectangleIntersectLine=function(e,t,n,r,i,a,o){var s=this.getRoundRectangleRadius(i,a),l=i/2,u=a/2,c=void 0,h=n-l+s-o,d=r-u-o,f=n+l-s+o,p=d;if(0<(c=this.finiteLinesIntersect(e,t,n,r,h,d,f,p,!1)).length)return c;var v=n+l+o,g=r-u+s-o,y=v,m=r+u-s+o;if(0<(c=this.finiteLinesIntersect(e,t,n,r,v,g,y,m,!1)).length)return c;var b=n-l+s-o,x=r+u+o,w=n+l-s+o,_=x;if(0<(c=this.finiteLinesIntersect(e,t,n,r,b,x,w,_,!1)).length)return c;var E=n-l-o,C=r-u+s-o,k=E,T=r+u-s+o;if(0<(c=this.finiteLinesIntersect(e,t,n,r,E,C,k,T,!1)).length)return c;var P=void 0,A=n-l+s,N=r-u+s;if(0<(P=this.intersectLineCircle(e,t,n,r,A,N,s+o)).length&&P[0]<=A&&P[1]<=N)return[P[0],P[1]];var S=n+l-s,O=r-u+s;if(0<(P=this.intersectLineCircle(e,t,n,r,S,O,s+o)).length&&P[0]>=S&&P[1]<=O)return[P[0],P[1]];var I=n+l-s,M=r+u-s;if(0<(P=this.intersectLineCircle(e,t,n,r,I,M,s+o)).length&&P[0]>=I&&P[1]>=M)return[P[0],P[1]];var R=n-l+s,B=r+u-s;return 0<(P=this.intersectLineCircle(e,t,n,r,R,B,s+o)).length&&P[0]<=R&&P[1]>=B?[P[0],P[1]]:[]},x.inLineVicinity=function(e,t,n,r,i,a,o){var s=o,l=Math.min(n,i),u=Math.max(n,i),c=Math.min(r,a),h=Math.max(r,a);return l-s<=e&&e<=u+s&&c-s<=t&&t<=h+s},x.inBezierVicinity=function(e,t,n,r,i,a,o,s,l){var u=Math.min(n,o,i)-l,c=Math.max(n,o,i)+l,h=Math.min(r,s,a)-l,d=Math.max(r,s,a)+l;return!(e<u||c<e||t<h||d<t)},x.solveQuadratic=function(e,t,n,r){var i=t*t-4*e*(n-=r);if(i<0)return[];var a=Math.sqrt(i),o=2*e;return[(-t+a)/o,(-t-a)/o]},x.solveCubic=function(e,t,n,r,i){var a,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0,d=void 0;return s=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),a=(o=(3*n-t*t)/9)*o*o+(s/=54)*s,h=t/3,(i[1]=0)<a?(u=(u=s+Math.sqrt(a))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),c=(c=s-Math.sqrt(a))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-h+u+c,h+=(u+c)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-c+u)/2,i[3]=h,void(i[5]=-h)):(i[5]=i[3]=0,0===a?(d=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*d-h,void(i[4]=i[2]=-(d+h))):(l=(o=-o)*o*o,l=Math.acos(s/Math.sqrt(l)),d=2*Math.sqrt(o),i[0]=-h+d*Math.cos(l/3),i[2]=-h+d*Math.cos((l+2*Math.PI)/3),void(i[4]=-h+d*Math.cos((l+4*Math.PI)/3))))},x.sqdistToQuadraticBezier=function(e,t,n,r,i,a,o,s){var l=1*n*n-4*n*i+2*n*o+4*i*i-4*i*o+o*o+r*r-4*r*a+2*r*s+4*a*a-4*a*s+s*s,u=9*n*i-3*n*n-3*n*o-6*i*i+3*i*o+9*r*a-3*r*r-3*r*s-6*a*a+3*a*s,c=3*n*n-6*n*i+n*o-n*e+2*i*i+2*i*e-o*e+3*r*r-6*r*a+r*s-r*t+2*a*a+2*a*t-s*t,h=1*n*i-n*n+n*e-i*e+r*a-r*r+r*t-a*t,d=[];this.solveCubic(l,u,c,h,d);for(var f=[],p=0;p<6;p+=2)Math.abs(d[p+1])<1e-7&&0<=d[p]&&d[p]<=1&&f.push(d[p]);f.push(1),f.push(0);for(var v=-1,g=void 0,y=void 0,m=void 0,b=0;b<f.length;b++)g=Math.pow(1-f[b],2)*n+2*(1-f[b])*f[b]*i+f[b]*f[b]*o,y=Math.pow(1-f[b],2)*r+2*(1-f[b])*f[b]*a+f[b]*f[b]*s,m=Math.pow(g-e,2)+Math.pow(y-t,2),0<=v?m<v&&(v=m):v=m;return v},x.sqdistToFiniteLine=function(e,t,n,r,i,a){var o=[e-n,t-r],s=[i-n,a-r],l=s[0]*s[0]+s[1]*s[1],u=o[0]*o[0]+o[1]*o[1],c=o[0]*s[0]+o[1]*s[1],h=c*c/l;return c<0?u:l<h?(e-i)*(e-i)+(t-a)*(t-a):u-h},x.pointInsidePolygonPoints=function(e,t,n){for(var r=void 0,i=void 0,a=void 0,o=void 0,s=0,l=0;l<n.length/2;l++)if(r=n[2*l],i=n[2*l+1],o=l+1<n.length/2?(a=n[2*(l+1)],n[2*(l+1)+1]):(a=n[2*(l+1-n.length/2)],n[2*(l+1-n.length/2)+1]),r==e&&a==e);else{if(!(e<=r&&a<=e||r<=e&&e<=a))continue;t<(e-r)/(a-r)*(o-i)+i&&s++}return s%2!=0},x.pointInsidePolygon=function(e,t,n,r,i,a,o,s,l){var u=new Array(n.length),c=void 0;null!=s[0]?(c=Math.atan(s[1]/s[0]),s[0]<0?c+=Math.PI/2:c=-c-Math.PI/2):c=s;for(var h=Math.cos(-c),d=Math.sin(-c),f=0;f<u.length/2;f++)u[2*f]=a/2*(n[2*f]*h-n[2*f+1]*d),u[2*f+1]=o/2*(n[2*f+1]*h+n[2*f]*d),u[2*f]+=r,u[2*f+1]+=i;var p=void 0;if(0<l){var v=this.expandPolygon(u,-l);p=this.joinLines(v)}else p=u;return x.pointInsidePolygonPoints(e,t,p)},x.joinLines=function(e){for(var t=new Array(e.length/2),n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=0;c<e.length/4;c++){n=e[4*c],r=e[4*c+1],i=e[4*c+2],a=e[4*c+3],u=c<e.length/4-1?(o=e[4*(c+1)],s=e[4*(c+1)+1],l=e[4*(c+1)+2],e[4*(c+1)+3]):(o=e[0],s=e[1],l=e[2],e[3]);var h=this.finiteLinesIntersect(n,r,i,a,o,s,l,u,!0);t[2*c]=h[0],t[2*c+1]=h[1]}return t},x.expandPolygon=function(e,t){for(var n=new Array(2*e.length),r=void 0,i=void 0,a=void 0,o=void 0,s=0;s<e.length/2;s++){r=e[2*s],i=e[2*s+1];var l=(o=s<e.length/2-1?(a=e[2*(s+1)],e[2*(s+1)+1]):(a=e[0],e[1]))-i,u=-(a-r),c=Math.sqrt(l*l+u*u),h=l/c,d=u/c;n[4*s]=r+h*t,n[4*s+1]=i+d*t,n[4*s+2]=a+h*t,n[4*s+3]=o+d*t}return n},x.intersectLineEllipse=function(e,t,n,r,i,a){var o=n-e,s=r-t;o/=i,s/=a;var l=Math.sqrt(o*o+s*s),u=l-1;if(u<0)return[];var c=u/l;return[(n-e)*c+e,(r-t)*c+t]},x.checkInEllipse=function(e,t,n,r,i,a,o){return e-=i,t-=a,(e/=n/2+o)*e+(t/=r/2+o)*t<=1},x.intersectLineCircle=function(e,t,n,r,i,a,o){var s=[n-e,r-t],l=[e-i,t-a],u=s[0]*s[0]+s[1]*s[1],c=2*(l[0]*s[0]+l[1]*s[1]),h=c*c-4*u*(l[0]*l[0]+l[1]*l[1]-o*o);if(h<0)return[];var d=(-c+Math.sqrt(h))/(2*u),f=(-c-Math.sqrt(h))/(2*u),p=Math.min(d,f),v=Math.max(d,f),g=[];if(0<=p&&p<=1&&g.push(p),0<=v&&v<=1&&g.push(v),0===g.length)return[];var y=g[0]*s[0]+e,m=g[0]*s[1]+t;return 1<g.length?g[0]==g[1]?[y,m]:[y,m,g[1]*s[0]+e,g[1]*s[1]+t]:[y,m]},x.findCircleNearPoint=function(e,t,n,r,i){var a=r-e,o=i-t,s=Math.sqrt(a*a+o*o);return[e+a/s*n,t+o/s*n]},x.findMaxSqDistanceToOrigin=function(e){for(var t=1e-6,n=void 0,r=0;r<e.length/2;r++)t<(n=e[2*r]*e[2*r]+e[2*r+1]*e[2*r+1])&&(t=n);return t},x.midOfThree=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},x.finiteLinesIntersect=function(e,t,n,r,i,a,o,s,l){var u=e-i,c=n-e,h=o-i,d=t-a,f=r-t,p=s-a,v=h*d-p*u,g=c*d-f*u,y=p*c-h*f;if(0===y)return 0===v||0===g?this.midOfThree(e,n,o)===o?[o,s]:this.midOfThree(e,n,i)===i?[i,a]:this.midOfThree(i,o,n)===n?[n,r]:[]:[];var m=v/y,b=g/y;return-.001<=m&&m<=1.001&&-.001<=b&&b<=1.001?[e+m*c,t+m*f]:l?[e+m*c,t+m*f]:[]},x.polygonIntersectLine=function(e,t,n,r,i,a,o,s){var l=[],u=void 0,c=new Array(n.length),h=!0;5===arguments.length&&(h=!1);var d=void 0;if(h){for(var f=0;f<c.length/2;f++)c[2*f]=n[2*f]*a+r,c[2*f+1]=n[2*f+1]*o+i;if(0<s){var p=x.expandPolygon(c,-s);d=x.joinLines(p)}else d=c}else d=n;for(var v=void 0,g=void 0,y=void 0,m=void 0,b=0;b<d.length/2;b++)v=d[2*b],g=d[2*b+1],m=b<d.length/2-1?(y=d[2*(b+1)],d[2*(b+1)+1]):(y=d[0],d[1]),0!==(u=this.finiteLinesIntersect(e,t,r,i,v,g,y,m)).length&&l.push(u[0],u[1]);return l},x.shortenIntersection=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),a=(i-n)/i;return a<0&&(a=1e-5),[t[0]+a*r[0],t[1]+a*r[1]]},x.generateUnitNgonPointsFitToSquare=function(e,t){var n=x.generateUnitNgonPoints(e,t);return n=x.fitPolygonToSquare(n)},x.fitPolygonToSquare=function(e){for(var t=void 0,n=void 0,r=e.length/2,i=1/0,a=1/0,o=-1/0,s=-1/0,l=0;l<r;l++)t=e[2*l],n=e[2*l+1],i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);for(var u=2/(o-i),c=2/(s-a),h=0;h<r;h++)t=e[2*h]=e[2*h]*u,n=e[2*h+1]=e[2*h+1]*c,i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,n),s=Math.max(s,n);if(a<-1)for(var d=0;d<r;d++)n=e[2*d+1]=e[2*d+1]+(-1-a);return e},x.generateUnitNgonPoints=function(e,t){var n=1/e*2*Math.PI,r=e%2==0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i=new Array(2*e),a=void 0,o=0;o<e;o++)a=o*n+r,i[2*o]=Math.cos(a),i[2*o+1]=Math.sin(-a);return i},x.getRoundRectangleRadius=function(e,t){return Math.min(e/4,t/4,8)},x.getCutRectangleCornerLength=function(){return 8},x.bezierPtsToQuadCoeff=function(e,t,n){return[e-2*t+n,2*(t-e),e]},x.getBarrelCurveConstants=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},e.exports=x},function(e,t,n){e.exports="undefined"==typeof window?null:window},function(e,t,n){var r=n(1),i={};[n(43),n(45),n(46)].forEach(function(e){r.assign(i,e)}),e.exports=i},function(e,t,n){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};r.prototype={fulfill:function(e){return i(this,1,"fulfillValue",e)},reject:function(e){return i(this,2,"rejectReason",e)},then:function(e,t){var n=new r;return this.onFulfilled.push(l(e,n,"fulfill")),this.onRejected.push(l(t,n,"reject")),o(this),n.proxy}};var i=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,o(e)),e},o=function(e){1===e.state?s(e,"onFulfilled",e.fulfillValue):2===e.state&&s(e,"onRejected",e.rejectReason)},s=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"==typeof setImmediate?setImmediate(i):setTimeout(i,0)}},l=function(n,r,i){return function(e){if("function"!=typeof n)r[i].call(r,e);else{var t;try{t=n(e)}catch(e){return void r.reject(e)}u(r,t)}}},u=function t(n,r){if(n!==r&&n.proxy!==r){var e;if("object"===(void 0===r?"undefined":a(r))&&null!==r||"function"==typeof r)try{e=r.then}catch(e){return void n.reject(e)}if("function"!=typeof e)n.fulfill(r);else{var i=!1;try{e.call(r,function(e){i||(i=!0,e===r?n.reject(new TypeError("circular thenable chain")):t(n,e))},function(e){i||(i=!0,n.reject(e))})}catch(e){i||n.reject(e)}}}else n.reject(new TypeError("cannot resolve promise with itself"))};r.all=function(s){return new r(function(n,r){for(var i=new Array(s.length),a=0,o=function(e,t){i[e]=t,++a===s.length&&n(i)},e=0;e<s.length;e++)!function(t){var e=s[t];null!=e&&null!=e.then?e.then(function(e){o(t,e)},function(e){r(e)}):o(t,e)}(e)})},r.resolve=function(n){return new r(function(e,t){e(n)})},r.reject=function(n){return new r(function(e,t){t(n)})},e.exports="undefined"!=typeof Promise?Promise:r},function(e,t,n){var r=n(0),i=n(1),a=n(10),o=function(e){var t=this;if(t._private={selectorText:e,invalid:!0},null==e||r.string(e)&&e.match(/^\s*$/))t.length=0;else if("*"===e||"edge"===e||"node"===e)t[0]=a(),t[0].group="*"===e?e:e+"s",t[0].groupOnly=!0,t[0].length=1,t._private.invalid=!1,t.length=1;else if(r.elementOrCollection(e)){var n=e.collection();t[0]=a(),t[0].collection=n,t[0].length=1,t.length=1}else if(r.fn(e))t[0]=a(),t[0].filter=e,t[0].length=1,t.length=1;else{if(!r.string(e))return void i.error("A selector must be created from a string; found ",e);if(!t.parse(e))return}t._private.invalid=!1},s=o.prototype;s.valid=function(){return!this._private.invalid},s.invalid=function(){return this._private.invalid},s.text=function(){return this._private.selectorText},s.size=function(){return this.length},s.eq=function(e){return this[e]},s.sameText=function(e){return this.text()===e.text()},s.toString=s.selector=function(){if(null!=this._private.toStringCache)return this._private.toStringCache;var l=void 0,e="",u=function(e){return null==e?"":e},c=function(e){return r.string(e)?'"'+e+'"':u(e)},h=function(e){return" "+e+" "},t=function e(t){var n="",r=void 0;t.subject===t&&(n+="$");var i=u(t.group);for(n+=i.substring(0,i.length-1),r=0;r<t.data.length;r++){var a=t.data[r];a.value?n+="["+a.field+h(u(a.operator))+c(a.value)+"]":n+="["+u(a.operator)+a.field+"]"}for(r=0;r<t.meta.length;r++){var o=t.meta[r];n+="[["+o.field+h(u(o.operator))+c(o.value)+"]]"}for(r=0;r<t.colonSelectors.length;r++)n+=t.colonSelectors[l];for(r=0;r<t.ids.length;r++)n+="#"+t.ids[l];for(r=0;r<t.classes.length;r++)n+="."+t.classes[r];if(null!=t.source&&null!=t.target&&(n=e(t.source)+" -> "+e(t.target)),null!=t.connectedNodes){var s=t.connectedNodes;n=e(s[0])+" <-> "+e(s[1])}return null!=t.parent&&(n=e(t.parent)+" > "+n),null!=t.ancestor&&(n=e(t.ancestor)+" "+n),null!=t.child&&(n+=" > "+e(t.child)),null!=t.descendant&&(n+=" "+e(t.descendant)),n};for(l=0;l<this.length;l++){e+=t(this[l]),1<this.length&&l<this.length-1&&(e+=", ")}return this._private.toStringCache=e},[n(49),n(52)].forEach(function(e){return i.assign(s,e)}),e.exports=o},function(e,t,n){var B=n(1),D=n(0),L=n(28),g=n(8),y=n(14),j=function(e,t,n){for(var r=null!=n?n:B.uuid();e.hasElementWithId(r);)r=B.uuid();return r},z=function(e,t,n){if(void 0!==e&&D.core(e)){var r=new L,i=!1;if(t){if(0<t.length&&D.plainObject(t[0])&&!D.element(t[0])){i=!0;for(var a=[],o=new g,s=0,l=t.length;s<l;s++){var u=t[s];null==u.data&&(u.data={});var c=u.data;if(null==c.id)c.id=j(e,u);else if(e.hasElementWithId(c.id)||o.has(c.id))continue;var h=new y(e,u,!1);a.push(h),o.add(c.id)}t=a}}else t=[];for(var d=this.length=0,f=t.length;d<f;d++){var p=t[d];if(null!=p){var v=p._private.data.id;(null==n||n.unique&&!r.has(v))&&(r.set(v,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={cy:e,map:r},i&&this.restore()}else B.error("A collection must have a reference to the core")},r=y.prototype=z.prototype;r.instanceString=function(){return"collection"},r.spawn=function(e,t,n){return D.core(e)||(n=t,t=e,e=this.cy()),new z(e,t,n)},r.spawnSelf=function(){return this.spawn(this)},r.cy=function(){return this._private.cy},r.renderer=function(){return this._private.cy.renderer()},r.element=function(){return this[0]},r.collection=function(){return D.collection(this)?this:new z(this._private.cy,[this])},r.unique=function(){return new z(this._private.cy,this,{unique:!0})},r.hasElementWithId=function(e){return this._private.map.has(e)},r.getElementById=function(e){var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new z(t)},r.$id=r.getElementById,r.poolIndex=function(){var e=this._private.cy._private.elements,t=this._private.data.id;return e._private.map.get(t).index},r.json=function(i){var a=this.element(),e=this.cy();if(null==a&&i)return this;if(null!=a){var o=a._private;if(D.plainObject(i)){e.startBatch(),i.data&&a.data(i.data),i.position&&a.position(i.position);var t=function(e,t,n){var r=i[e];null!=r&&r!==o[e]&&(r?a[t]():a[n]())};return t("removed","remove","restore"),t("selected","select","unselect"),t("selectable","selectify","unselectify"),t("locked","lock","unlock"),t("grabbable","grabify","ungrabify"),null!=i.classes&&a.classes(i.classes),e.endBatch(),this}if(void 0===i){var n={data:B.copy(o.data),position:B.copy(o.position),group:o.group,removed:o.removed,selected:o.selected,selectable:o.selectable,locked:o.locked,grabbable:o.grabbable,classes:null,classes:""},r=0;return o.classes.forEach(function(e){return n.classes+=0==r++?e:" "+e}),n}}},r.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},r.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),i=new y(e,r,!1);t.push(i)}return new z(e,t)},r.copy=r.clone,r.restore=function(e){var t=this.cy(),n=t._private;void 0===e&&(e=!0);for(var r=[],i=[],a=void 0,o=0,s=this.length;o<s;o++){var l=this[o];l.removed()&&(l.isNode()?r.push(l):i.push(l))}a=r.concat(i);var u=void 0,c=function(){a.splice(u,1),u--};for(u=0;u<a.length;u++){var h=a[u],d=h._private,f=d.data;if(h.clearTraversalCache(),void 0===f.id)f.id=j(t,h);else if(D.number(f.id))f.id=""+f.id;else{if(D.emptyString(f.id)||!D.string(f.id)){B.error("Can not create element with invalid string ID `"+f.id+"`"),c();continue}if(t.hasElementWithId(f.id)){B.error("Can not create second element with ID `"+f.id+"`"),c();continue}}var p=f.id;if(h.isNode()){var v=d.position;null==v.x&&(v.x=0),null==v.y&&(v.y=0)}if(h.isEdge()){for(var g=h,y=["source","target"],m=y.length,b=!1,x=0;x<m;x++){var w=y[x],_=f[w];D.number(_)&&(_=f[w]=""+f[w]),null==_||""===_?(B.error("Can not create edge `"+p+"` with unspecified "+w),b=!0):t.hasElementWithId(_)||(B.error("Can not create edge `"+p+"` with nonexistant "+w+" `"+_+"`"),b=!0)}if(b){c();continue}var E=t.getElementById(f.source),C=t.getElementById(f.target);E._private.edges.push(g),C._private.edges.push(g),g._private.source=E,g._private.target=C}d.map=new L,d.map.set(p,{ele:h,index:0}),d.removed=!1,t.addToPool(h)}for(var k=0;k<r.length;k++){var T=r[k],P=T._private.data;D.number(P.parent)&&(P.parent=""+P.parent);var A=P.parent;if(null!=A){var N=t.getElementById(A);if(N.empty())P.parent=void 0;else{for(var S=!1,O=N;!O.empty();){if(T.same(O)){S=!0,P.parent=void 0;break}O=O.parent()}S||(N[0]._private.children.push(T),T._private.parent=N[0],n.hasCompoundNodes=!0)}}}if(0<a.length){for(var I=new z(t,a),M=0;M<I.length;M++){var R=I[M];R.isNode()||(R.parallelEdges().clearTraversalCache(),R.source().clearTraversalCache(),R.target().clearTraversalCache())}(n.hasCompoundNodes?t.collection().merge(I).merge(I.connectedNodes()).merge(I.parent()):I).dirtyCompoundBoundsCache().updateStyle(e),e?I.emitAndNotify("add"):I.emit("add")}return this},r.removed=function(){var e=this[0];return e&&e._private.removed},r.inside=function(){var e=this[0];return e&&!e._private.removed},r.remove=function(e){var t=[],n=[],r={},i=this._private.cy;function a(e){var t=r[e.id()];e.removed()||t||(r[e.id()]=!0,e.isNode()?(n.push(e),function(e){for(var t=e._private.edges,n=0;n<t.length;n++)a(t[n])}(e),function(e){for(var t=e._private.children,n=0;n<t.length;n++)a(t[n])}(e)):n.unshift(e))}void 0===e&&(e=!0);for(var o=0,s=this.length;o<s;o++){a(this[o])}function l(e,t){var n=e._private.edges;B.removeFromArray(n,t),e.clearTraversalCache()}var u=[];function c(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();B.removeFromArray(n,t),u.ids[r]||(u.ids[r]=!0,u.push(e))}u.ids={},this.dirtyCompoundBoundsCache(),i.removeFromPool(n);for(var h=0;h<n.length;h++){var d=n[h];if(d._private.removed=!0,t.push(d),d.isEdge()){var f=d.source()[0],p=d.target()[0];l(f,d),l(p,d),d.parallelEdges().clearTraversalCache()}else{var v=d.parent();0!==v.length&&c(v,d)}}var g=i._private.elements;i._private.hasCompoundNodes=!1;for(var y=0;y<g.length;y++){if(g[y].isParent()){i._private.hasCompoundNodes=!0;break}}var m=new z(this.cy(),t);0<m.size()&&(e&&this.cy().notify({type:"remove",eles:m}),m.emit("remove"));for(var b=0;b<u.length;b++){var x=u[b];x.removed()||x.updateStyle()}return new z(i,t)},r.move=function(e){var t=this._private.cy;if(void 0!==e.source||void 0!==e.target){var n=e.source,r=e.target,i=t.hasElementWithId(n),a=t.hasElementWithId(r);if(i||a){var o=this.jsons();this.remove();for(var s=0;s<o.length;s++){var l=o[s],u=this[s];"edges"===l.group&&(i&&(l.data.source=n),a&&(l.data.target=r),l.scratch=u._private.scratch)}return t.add(o)}}else if(void 0!==e.parent){var c=e.parent;if(null===c||t.hasElementWithId(c)){var h=this.jsons(),d=this.descendants(),f=d.union(d.union(this).connectedEdges()).jsons();this.remove();for(var p=0;p<h.length;p++){var v=h[p],g=this[p];"nodes"===v.group&&(v.data.parent=null===c?void 0:c,v.scratch=g._private.scratch)}return t.add(h.concat(f))}}return this},[n(29),n(42),n(47),n(48),n(53),n(54),n(55),n(56),n(61),n(62),n(63),n(7),n(64),n(65),n(66),n(67),n(68)].forEach(function(e){B.extend(r,e)}),e.exports=z},function(e,t,n){var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();"function"==typeof Symbol&&Symbol.iterator;var r=function(){function r(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._obj=Object.create(null),null!=e){var t=void 0;t=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var n=0;n<t.length;n++)this.add(t[n])}}return i(r,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){this._obj[e]=1}},{key:"delete",value:function(e){this._obj[e]=0}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(e){return t.has(e)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}},{key:"size",get:function(){return this.toArray().length}}]),r}();e.exports=r},function(e,t,n){e.exports=n(32)},function(e,t,n){e.exports=function(){return{classes:[],colonSelectors:[],data:[],group:null,ids:[],meta:[],collection:null,filter:null,parent:null,ancestor:null,subject:null,child:null,descendant:null}}},function(e,t,n){var h=n(1),d=n(0),r=n(16),f=/^([^.]+)(\.(?:[^.]+))?$/,i={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},eventFields:function(){return{}},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:void 0};function a(e){h.assign(this,i,e),this.listeners=[],this.emitting=0}var o=a.prototype,u=function(e,t,n,r,i,a,o){d.fn(r)&&(i=r,r=null),o&&(a=null==a?o:h.assign({},a,o));for(var s=n.split(/\s+/),l=0;l<s.length;l++){var u=s[l];if(!d.emptyString(u)){var c=u.match(f);if(c)if(!1===t(e,u,c[1],c[2]?c[2]:null,r,i,a))break}}},c=function(e,t){return new r(t.type,h.assign(t,e.eventFields(e.context)))};o.on=o.addListener=function(e,t,n,r,i){return u(this,function(e,t,n,r,i,a,o){d.fn(a)&&e.listeners.push({event:t,callback:a,type:n,namespace:r,qualifier:i,conf:o})},e,t,n,r,i),this},o.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},o.removeListener=o.off=function(e,t,n,r){var i=this;0!==this.emitting&&(this.listeners=h.copyArray(this.listeners));for(var l=this.listeners,a=function(o){var s=l[o];u(i,function(e,t,n,r,i,a){if(s.type===n&&(!r||s.namespace===r)&&(!i||e.qualifierCompare(s.qualifier,i))&&(!a||s.callback===a))return l.splice(o,1),!1},e,t,n,r)},o=l.length-1;0<=o;o--)a(o);return this},o.emit=o.trigger=function(e,s,n){var l=this.listeners,r=l.length;return this.emitting++,d.array(s)||(s=[s]),function(e,t,n){if(d.event(n))t(e,n);else if(d.plainObject(n))t(e,c(e,n));else for(var r=n.split(/\s+/),i=0;i<r.length;i++){var a=r[i];if(!d.emptyString(a)){var o=a.match(f);if(o){var s=o[1],l=o[2]?o[2]:null;t(e,c(e,{type:s,namespace:l,target:e.context}))}}}}(this,function(a,o){null!=n&&(l=[{event:o.event,type:o.type,namespace:o.namespace,callback:n}],r=l.length);for(var e=function(e){var t=l[e];if(t.type===o.type&&(!t.namespace||t.namespace===o.namespace||".*"===t.namespace)&&a.eventMatches(a.context,t,o)){var n=[o];null!=s&&h.push(n,s),a.beforeEmit(a.context,t,o),t.conf&&t.conf.one&&(a.listeners=a.listeners.filter(function(e){return e!==t}));var r=a.callbackContext(a.context,t,o),i=t.callback.apply(r,n);a.afterEmit(a.context,t,o),!1===i&&(o.stopPropagation(),o.preventDefault())}},t=0;t<r;t++)e(t);a.bubble(a.context)&&!o.isPropagationStopped()&&a.parent(a.context).emit(o,s)},e),this.emitting--,this},e.exports=a},function(e,t,n){var c=n(3),p=n(1),h=n(7),v=n(0),d=n(5),r=n(4),i=function(e){var a=this,t=(e=p.extend({},e)).container;t&&!v.htmlElement(t)&&v.htmlElement(t[0])&&(t=t[0]);var r=t?t._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var i=r.readies=r.readies||[];t&&(t._cyreg=r),r.cy=a;var n=void 0!==c&&void 0!==t&&!e.headless,o=e;o.layout=p.extend({name:n?"grid":"null"},o.layout),o.renderer=p.extend({name:n?"canvas":"null"},o.renderer);var s=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},l=this._private={container:t,ready:!1,options:o,elements:new h(this),listeners:[],aniEles:new h(this),scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,o.zoomingEnabled),userZoomingEnabled:s(!0,o.userZoomingEnabled),panningEnabled:s(!0,o.panningEnabled),userPanningEnabled:s(!0,o.userPanningEnabled),boxSelectionEnabled:s(!0,o.boxSelectionEnabled),autolock:s(!1,o.autolock,o.autolockNodes),autoungrabify:s(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:s(!1,o.autounselectify),styleEnabled:void 0===o.styleEnabled?n:o.styleEnabled,zoom:v.number(o.zoom)?o.zoom:1,pan:{x:v.plainObject(o.pan)&&v.number(o.pan.x)?o.pan.x:0,y:v.plainObject(o.pan)&&v.number(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter();var u=o.selectionType;l.selectionType=void 0===u||"additive"!==u&&"single"!==u?"single":u,v.number(o.minZoom)&&v.number(o.maxZoom)&&o.minZoom<o.maxZoom?(l.minZoom=o.minZoom,l.maxZoom=o.maxZoom):v.number(o.minZoom)&&void 0===o.maxZoom?l.minZoom=o.minZoom:v.number(o.maxZoom)&&void 0===o.minZoom&&(l.maxZoom=o.maxZoom);l.styleEnabled&&a.setStyle([]),a.initRenderer(p.extend({hideEdgesOnViewport:o.hideEdgesOnViewport,textureOnViewport:o.textureOnViewport,wheelSensitivity:v.number(o.wheelSensitivity)&&0<o.wheelSensitivity?o.wheelSensitivity:1,motionBlur:void 0!==o.motionBlur&&o.motionBlur,motionBlurOpacity:void 0===o.motionBlurOpacity?.05:o.motionBlurOpacity,pixelRatio:v.number(o.pixelRatio)&&0<o.pixelRatio?o.pixelRatio:void 0,desktopTapThreshold:void 0===o.desktopTapThreshold?4:o.desktopTapThreshold,touchTapThreshold:void 0===o.touchTapThreshold?8:o.touchTapThreshold},o.renderer));!function(e,t){if(e.some(v.promise))return d.all(e).then(t);t(e)}([o.style,o.elements],function(e){var t=e[0],n=e[1];l.styleEnabled&&a.style().append(t),function(e,t,n){a.notifications(!1);var r=a.mutableElements();0<r.length&&r.remove(),null!=e&&(v.plainObject(e)||v.array(e))&&a.add(e),a.one("layoutready",function(e){a.notifications(!0),a.emit(e),a.notify({type:"load",eles:a.mutableElements()}),a.one("load",t),a.emit("load")}).one("layoutstop",function(){a.one("done",n),a.emit("done")});var i=p.extend({},a._private.options.layout);i.eles=a.elements(),a.layout(i).run()}(n,function(){a.startAnimationLoop(),l.ready=!0,v.fn(o.ready)&&a.on("ready",o.ready);for(var e=0;e<i.length;e++){var t=i[e];a.on("ready",t)}r&&(r.readies=[]),a.emit("ready")},o.done)})},a=i.prototype;p.extend(a,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},isDestroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.isDestroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},selectionType:function(){return this._private.selectionType},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return"null"===this._private.options.renderer.name},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container},options:function(){return p.copy(this._private.options)},json:function(e){var o=this,t=o._private,n=o.mutableElements();if(v.plainObject(e)){if(o.startBatch(),e.elements){var s={},r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.data.id,a=o.getElementById(i);s[i]=!0,0!==a.length?a.json(r):t?o.add(p.extend({group:t},r)):o.add(r)}};if(v.array(e.elements))r(e.elements);else for(var i=["nodes","edges"],a=0;a<i.length;a++){var l=i[a],u=e.elements[l];v.array(u)&&r(u,l)}n.stdFilter(function(e){return!s[e.id()]}).remove()}e.style&&o.style(e.style),null!=e.zoom&&e.zoom!==t.zoom&&o.zoom(e.zoom),e.pan&&(e.pan.x===t.pan.x&&e.pan.y===t.pan.y||o.pan(e.pan));for(var c=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],h=0;h<c.length;h++){var d=c[h];null!=e[d]&&o[d](e[d])}return o.endBatch(),this}if(void 0===e){var f={elements:{}};return n.forEach(function(e){var t=e.group();f.elements[t]||(f.elements[t]=[]),f.elements[t].push(e.json())}),this._private.styleEnabled&&(f.style=o.style().json()),f.zoomingEnabled=o._private.zoomingEnabled,f.userZoomingEnabled=o._private.userZoomingEnabled,f.zoom=o._private.zoom,f.minZoom=o._private.minZoom,f.maxZoom=o._private.maxZoom,f.panningEnabled=o._private.panningEnabled,f.userPanningEnabled=o._private.userPanningEnabled,f.pan=p.copy(o._private.pan),f.boxSelectionEnabled=o._private.boxSelectionEnabled,f.renderer=p.copy(o._private.options.renderer),f.hideEdgesOnViewport=o._private.options.hideEdgesOnViewport,f.textureOnViewport=o._private.options.textureOnViewport,f.wheelSensitivity=o._private.options.wheelSensitivity,f.motionBlur=o._private.options.motionBlur,f}},scratch:r.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:r.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})}),a.$id=a.getElementById,[n(69),n(70),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(93)].forEach(function(e){p.extend(a,e)}),e.exports=i},function(e,t,n){e.exports=function(a,o){o||(o=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var e=function e(){var t=arguments,n=void 0,r=o.apply(this,t),i=e.cache;return(n=i[r])||(n=i[r]=a.apply(this,t)),n};return e.cache={},e}},function(e,t,n){var d=n(1),f=n(0),p=n(8);e.exports=function(e,t,n){if(n=!(void 0!==n&&!n),void 0!==e&&void 0!==t&&f.core(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1;var i=(this[0]=this)._private={cy:e,single:!0,data:t.data||{},position:t.position||{},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,active:!1,classes:new p,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1};if(t.renderedPosition){var a=t.renderedPosition,o=e.pan(),s=e.zoom();i.position={x:(a.x-o.x)/s,y:(a.y-o.y)/s}}if(f.string(t.classes))for(var l=t.classes.split(/\s+/),u=0,c=l.length;u<c;u++){var h=l[u];h&&""!==h&&i.classes.add(h)}(t.style||t.css)&&e.style().applyBypass(this,t.style||t.css),this.createEmitter(),(void 0===n||n)&&this.restore()}else d.error("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else d.error("An element must have a core reference and parameters set")}},function(e,t,n){var r=n(1),i=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return r.sort.descending(e.selector,t.selector)}),a="("+i.map(function(e){return e.selector}).join("|")+")";e.exports={stateSelectors:i,stateSelectorMatches:function e(t,n){return(e.lookup=e.lookup||function(){for(var e={},t=void 0,n=0;n<i.length;n++)e[(t=i[n]).selector]=t.matches;return e}())[t](n)},stateSelectorRegex:a}},function(e,t,n){var r=function(e,t){this.recycle(e,t)};function a(){return!1}function o(){return!0}r.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=a,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?o:a):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*r+i.x,y:n.y*r+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},e.exports=r},function(e,t,n){var l=n(1);e.exports=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?l.MAX_INT:0}var i=r(e)-r(t);if(0!==i)return i;function a(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=a(e)-a(t);if(0!==o)return o;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()}},function(e,t,n){var r=n(0),a=n(1),i=n(6),o=function e(t){if(!(this instanceof e))return new e(t);r.core(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):a.error("A style must have a core reference")},s=o.prototype;s.instanceString=function(){return"style"},s.clear=function(){for(var e=0;e<this.length;e++)this[e]=void 0;return this.length=0,this._private.newStyle=!0,this},s.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},s.core=function(){return this._private.coreStyle},s.selector=function(e){var t="core"===e?null:new i(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},s.css=function(){var e=arguments;switch(e.length){case 1:for(var t=e[0],n=0;n<this.properties.length;n++){var r=this.properties[n],i=t[r.name];void 0===i&&(i=t[a.dash2camel(r.name)]),void 0!==i&&this.cssRule(r.name,i)}break;case 2:this.cssRule(e[0],e[1])}return this},s.style=s.css,s.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),(this[r].properties[n.name]=n).name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},s.append=function(e){return r.stylesheet(e)?e.appendToStyle(this):r.array(e)?this.appendFromJson(e):r.string(e)&&this.appendFromString(e),this},o.fromJson=function(e,t){var n=new o(e);return n.fromJson(t),n},o.fromString=function(e,t){return new o(e).fromString(t)},[n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92)].forEach(function(e){a.extend(s,e)}),o.types=s.types,o.properties=s.properties,e.exports=o},function(e,t,n){var m=n(1),b=1e3/60;e.exports={setupDequeueing:function(y){return function(){var p=this,v=this.renderer;if(!p.dequeueingSetup){p.dequeueingSetup=!0;var g=m.debounce(function(){v.redrawHint("eles",!0),v.redrawHint("drag",!0),v.redraw()},y.deqRedrawThreshold),e=y.priority||m.noop;v.beforeRender(function(e,t){for(var n=m.performanceNow(),r=v.averageRedrawTime,i=v.lastRedrawTime,a=[],o=v.cy.extent(),s=v.getPixelRatio();;){var l=m.performanceNow(),u=l-n,c=l-t;if(i<b){var h=b-(e?r:0);if(c>=y.deqFastCost*h)break}else if(e){if(u>=y.deqCost*i||u>=y.deqAvgCost*r)break}else if(c>=y.deqNoDrawCost*b)break;var d=y.deq(p,s,o);if(!(0<d.length))break;for(var f=0;f<d.length;f++)a.push(d[f])}0<a.length&&(y.onDeqd(p,a),!e&&y.shouldRedraw(p,a,s,o)&&g())},e(p))}}}}},function(e,t,n){var r=n(0),i=n(12),a=n(94),o=n(136),s=function(e){return void 0===e&&(e={}),r.plainObject(e)?new i(e):r.string(e)?a.apply(a,arguments):void 0};s.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(s),e.apply(null,t),this},s.version=n(137),s.stylesheet=s.Stylesheet=o,e.exports=s},function(e,t,n){var r=n(0);e.exports={hex2tuple:function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t=void 0,n=void 0,r=void 0;return r=4===e.length?(t=parseInt(e[1]+e[1],16),n=parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)):(t=parseInt(e[1]+e[2],16),n=parseInt(e[3]+e[4],16),parseInt(e[5]+e[6],16)),[t,n,r]}},hsl2tuple:function(e){var t=void 0,n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0;function u(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var c=new RegExp("^"+this.regex.hsla+"$").exec(e);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:360<n&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||100<r)return;if(r/=100,(i=parseFloat(c[3]))<0||100<i)return;if(i/=100,void 0!==(a=c[4])&&((a=parseFloat(a))<0||1<a))return;if(0===r)o=s=l=Math.round(255*i);else{var h=i<.5?i*(1+r):i+r-i*r,d=2*i-h;o=Math.round(255*u(d,h,n+1/3)),s=Math.round(255*u(d,h,n)),l=Math.round(255*u(d,h,n-1/3))}t=[o,s,l,a]}return t},rgb2tuple:function(e){var t=void 0,n=new RegExp("^"+this.regex.rgba+"$").exec(e);if(n){t=[];for(var r=[],i=1;i<=3;i++){var a=n[i];if("%"===a[a.length-1]&&(r[i]=!0),a=parseFloat(a),r[i]&&(a=a/100*255),a<0||255<a)return;t.push(Math.floor(a))}var o=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(o&&!s)return;var l=n[4];if(void 0!==l){if((l=parseFloat(l))<0||1<l)return;t.push(l)}}return t},colorname2tuple:function(e){return this.colors[e.toLowerCase()]},color2tuple:function(e){return(r.array(e)?e:null)||this.colorname2tuple(e)||this.hex2tuple(e)||this.rgb2tuple(e)||this.hsl2tuple(e)},colors:{transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}},function(e,t,n){var c=n(0);e.exports={mapEmpty:function(e){return null==e||0===Object.keys(e).length},pushMap:function(e){var t=this.getMap(e);null==t?this.setMap(this.extend({},e,{value:[e.value]})):t.push(e.value)},setMap:function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var a=n[i];c.plainObject(a)&&this.error("Tried to set map with object key"),i<n.length-1?(null==t[a]&&(t[a]={}),t=t[a]):t[a]=e.value}},getMap:function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var a=n[i];if(c.plainObject(a)&&this.error("Tried to get map with object key"),null==(t=t[a]))return t}return t},deleteMap:function(e){for(var t=e.map,n=e.keys,r=n.length,i=e.keepChildren,a=0;a<r;a++){var o=n[a];if(c.plainObject(o)&&this.error("Tried to delete map with object key"),a===e.keys.length-1)if(i)for(var s=Object.keys(t),l=0;l<s.length;l++){var u=s[l];i[u]||(t[u]=void 0)}else t[o]=void 0;else t=t[o]}}}},function(e,t,n){var r="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))";e.exports={regex:{number:r,rgba:"rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",rgbaNoBackRefs:"rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hsla:"hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hslaNoBackRefs:"hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)",hex3:"\\#[0-9a-fA-F]{3}",hex6:"\\#[0-9a-fA-F]{6}"}}},function(e,t,n){var r=n(13),i=n(0);e.exports={camel2dash:r(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),dash2camel:r(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),prependCamel:r(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),capitalize:function(e){return i.emptyString(e)?e:e.charAt(0).toUpperCase()+e.substring(1)}}},function(e,t,n){var r=n(3),i=r?r.performance:null,a={},o=i&&i.now?function(){return i.now()}:function(){return Date.now()},s=function(){if(r){if(r.requestAnimationFrame)return function(e){r.requestAnimationFrame(e)};if(r.mozRequestAnimationFrame)return function(e){r.mozRequestAnimationFrame(e)};if(r.webkitRequestAnimationFrame)return function(e){r.webkitRequestAnimationFrame(e)};if(r.msRequestAnimationFrame)return function(e){r.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(o())},1e3/60)}}();a.requestAnimationFrame=function(e){s(e)},a.performanceNow=o,a.debounce=n(26),a.now=function(){return Date.now()},e.exports=a},function(e,t){e.exports=n},function(e,t,n){function r(e,t){return e<t?-1:t<e?1:0}e.exports={sort:{ascending:r,descending:function(e,t){return-1*r(e,t)}}}},function(e,t,n){function r(){this._obj={}}var i=r.prototype;i.set=function(e,t){this._obj[e]=t},i.delete=function(e){this._obj[e]=null},i.has=function(e){return null!=this._obj[e]},i.get=function(e){return this._obj[e]},e.exports=r},function(e,t,n){var r=n(1),i={};[n(30),n(31),n(33),n(34),n(35),n(36),n(37),n(38),n(39),n(40),n(41)].forEach(function(e){r.extend(i,e)}),e.exports=i},function(e,t,n){var P=n(0),r=function(T){return T={bfs:T.bfs||!T.dfs,dfs:T.dfs||!T.bfs},function(e,t,n){var r;P.plainObject(e)&&!P.elementOrCollection(e)&&(e=(r=e).roots||r.root,t=r.visit,n=r.directed),n=2!==arguments.length||P.fn(t)?n:t,t=P.fn(t)?t:function(){};for(var i,a=this._private.cy,o=e=P.string(e)?this.filter(e):e,s=[],l=[],u={},c={},h={},d=0,f=this.nodes(),p=this.edges(),v=0;v<o.length;v++)o[v].isNode()&&(s.unshift(o[v]),T.bfs&&(h[o[v].id()]=!0,l.push(o[v])),c[o[v].id()]=0);for(;0!==s.length;){o=T.bfs?s.shift():s.pop();if(T.dfs){if(h[o.id()])continue;h[o.id()]=!0,l.push(o)}var g,y=c[o.id()],m=u[o.id()],b=null==m?void 0:m.connectedNodes().not(o)[0];if(!0===(g=t(o,m,b,d++,y))){i=o;break}if(!1===g)break;var x=o.connectedEdges(n?function(e){return e.data("source")===o.id()}:void 0).intersect(p);for(v=0;v<x.length;v++){var w=x[v],_=w.connectedNodes(function(e){return e.id()!==o.id()}).intersect(f);0===_.length||h[_.id()]||(_=_[0],s.push(_),T.bfs&&(h[_.id()]=!0,l.push(_)),u[_.id()]=w,c[_.id()]=c[o.id()]+1)}}var E=[];for(v=0;v<l.length;v++){var C=l[v],k=u[C.id()];k&&E.push(k),E.push(C)}return{path:a.collection(E,{unique:!0}),found:a.collection(i)}}},i={breadthFirstSearch:r({bfs:!0}),depthFirstSearch:r({dfs:!0})};i.bfs=i.breadthFirstSearch,i.dfs=i.depthFirstSearch,e.exports=i},function(e,t,n){var T=n(0),P=n(9),r={dijkstra:function(e,l,u){var t;T.plainObject(e)&&!T.elementOrCollection(e)&&(e=(t=e).root,l=t.weight,u=t.directed);var a=this._private.cy;l=T.fn(l)?l:function(){return 1};for(var n=T.string(e)?this.filter(e)[0]:e[0],r={},o={},i={},c=this.edges().filter(function(e){return!e.isLoop()}),s=this.nodes(),h=function(e){return r[e.id()]},d=new P(function(e,t){return h(e)-h(t)}),f=0;f<s.length;f++){var p=s[f];r[p.id()]=p.same(n)?0:1/0,d.push(p)}for(var v,g,y=function(e,t){for(var n,r=(u?e.edgesTo(t):e.edgesWith(t)).intersect(c),i=1/0,a=0;a<r.length;a++){var o=r[a],s=l(o);(s<i||!n)&&(i=s,n=o)}return{edge:n,dist:i}};0<d.size();){var m=d.pop(),b=h(m),x=m.id();if((i[x]=b)!==1/0){var w=m.neighborhood().intersect(s);for(f=0;f<w.length;f++){var _=w[f],E=_.id(),C=y(m,_),k=b+C.dist;k<h(_)&&(g=k,r[(v=_).id()]=g,d.updateItem(v),o[E]={node:m,edge:C.edge})}}}return{distanceTo:function(e){var t=T.string(e)?s.filter(e)[0]:e[0];return i[t.id()]},pathTo:function(e){var t=T.string(e)?s.filter(e)[0]:e[0],n=[],r=t;if(0<t.length)for(n.unshift(t);o[r.id()];){var i=o[r.id()];n.unshift(i.edge),n.unshift(i.node),r=i.node}return a.collection(n)}}}};e.exports=r},function(e,t){e.exports=r},function(e,t,n){var f=n(0),r={kruskal:function(n){var e=this.cy();function t(e){for(var t=0;t<i.length;t++){var n=i[t];if(n.anySame(e))return{eles:n,index:t}}}n=f.fn(n)?n:function(){return 1};for(var r=e.collection(e,[]),i=[],a=this.nodes(),o=0;o<a.length;o++)i.push(a[o].collection());var s=this.edges().toArray().sort(function(e,t){return n(e)-n(t)});for(o=0;o<s.length;o++){var l=s[o],u=l.source()[0],c=l.target()[0],h=t(u),d=t(c);h.index!==d.index&&(r=r.add(l),i[h.index]=h.eles.add(d.eles),i.splice(d.index,1))}return a.add(r)}};e.exports=r},function(e,t,n){var S=n(0),r={aStar:function(e){e=e||{};var t=function e(t,n,r,i){if(t==n)return i.unshift(s.getElementById(n)),i;if(n in r){var a=r[n],o=p[n];return i.unshift(s.getElementById(o)),i.unshift(s.getElementById(n)),e(t,a,r,i)}},n=function(e,t){if(0!==e.length){for(var n=0,r=t[e[0]],i=1;i<e.length;i++){var a=t[e[i]];a<r&&(r=a,n=i)}return n}},s=this._private.cy;if(null!=e&&null!=e.root){var r=S.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.goal){var i=S.string(e.goal)?this.filter(e.goal)[0]:e.goal[0];if(null!=e.heuristic&&S.fn(e.heuristic))var a=e.heuristic;else a=function(){return 0};if(null!=e.weight&&S.fn(e.weight))var o=e.weight;else o=function(e){return 1};if(null!=e.directed)var l=e.directed;else l=!1;var u=r.id(),c=i.id(),h=[],d=[u],f={},p={},v={},g={};v[u]=0,g[u]=a(r);for(var y=0;0<d.length;){var m=n(d,g),b=s.getElementById(d[m]),x=b.id();if(y++,x==c){var w=t(u,c,f,[]);return{found:!0,distance:v[x],path:this.spawn(w),steps:y}}h.push(x),d.splice(m,1);for(var _=b._private.edges,E=0;E<_.length;E++){var C=_[E];if(this.hasElementWithId(C.id())&&(!l||C.data("source")===x)){var k=C.source(),T=C.target(),P=k.id()!==x?k:T,A=P.id();if(this.hasElementWithId(A)&&-1==h.indexOf(A)){var N=v[x]+o(C);-1!=d.indexOf(A)?N<v[A]&&(v[A]=N,g[A]=N+a(P),f[A]=x):(v[A]=N,g[A]=N+a(P),d.push(A),f[A]=x,p[A]=C.id())}}}}return{found:!1,distance:void 0,path:void 0,steps:y}}}}};e.exports=r},function(e,t,n){var x=n(0),r={floydWarshall:function(e){e=e||{};var l=this.cy();if(null!=e.weight&&x.fn(e.weight))var t=e.weight;else t=function(e){return 1};if(null!=e.directed)var n=e.directed;else n=!1;for(var r=this.edges().stdFilter(function(e){return!e.isLoop()}),i=this.nodes(),a=i.length,o={},s=0;s<a;s++)o[i[s].id()]=s;var u=[];for(s=0;s<a;s++){for(var c=new Array(a),h=0;h<a;h++)c[h]=s==h?0:1/0;u.push(c)}var d=[],f=[],p=function(e){for(var t=0;t<a;t++){for(var n=new Array(a),r=0;r<a;r++)n[r]=void 0;e.push(n)}};p(d),p(f);for(s=0;s<r.length;s++){var v=o[r[s].source().id()],g=o[r[s].target().id()],y=t(r[s]);u[v][g]>y&&(u[v][g]=y,d[v][g]=g,f[v][g]=r[s])}if(!n)for(s=0;s<r.length;s++){v=o[r[s].target().id()],g=o[r[s].source().id()],y=t(r[s]);u[v][g]>y&&(u[v][g]=y,d[v][g]=g,f[v][g]=r[s])}for(var m=0;m<a;m++)for(s=0;s<a;s++)for(h=0;h<a;h++)u[s][m]+u[m][h]<u[s][h]&&(u[s][h]=u[s][m]+u[m][h],d[s][h]=d[s][m]);var b=[];for(s=0;s<a;s++)b.push(i[s].id());return{distance:function(e,t){if(x.string(e))var n=l.filter(e)[0].id();else n=e.id();if(x.string(t))var r=l.filter(t)[0].id();else r=t.id();return u[o[n]][o[r]]},path:function(e,t){if(x.string(e))var n=l.filter(e)[0].id();else n=e.id();if(x.string(t))var r=l.filter(t)[0].id();else r=t.id();var i=function(e,t,n,r,i){if(e===t)return l.getElementById(r[e]);if(void 0!==n[e][t]){for(var a=[l.getElementById(r[e])],o=e;e!==t;){e=n[o=e][t];var s=i[o][e];a.push(s),a.push(l.getElementById(r[e]))}return a}}(o[n],o[r],d,b,f);return l.collection(i)}}}};e.exports=r},function(e,t,n){var w=n(0),_=n(1),r={bellmanFord:function(e){var r=this;if(null!=(e=e||{}).weight&&w.fn(e.weight))var t=e.weight;else t=function(e){return 1};if(null!=e.directed)var n=e.directed;else n=!1;if(null!=e.root){if(w.string(e.root))var i=this.filter(e.root)[0];else i=e.root[0];for(var s=this._private.cy,a=this.edges().stdFilter(function(e){return!e.isLoop()}),o=this.nodes(),l=o.length,u={},c=0;c<l;c++)u[o[c].id()]=c;var h=[],d=[],f=[];for(c=0;c<l;c++)o[c].id()===i.id()?h[c]=0:h[c]=1/0,d[c]=void 0;var p=!1;for(c=1;c<l;c++){p=!1;for(var v=0;v<a.length;v++){var g,y=u[a[v].source().id()],m=u[a[v].target().id()],b=t(a[v]);if((g=h[y]+b)<h[m]&&(h[m]=g,d[m]=y,f[m]=a[v],p=!0),!n)(g=h[m]+b)<h[y]&&(h[y]=g,d[y]=m,f[y]=a[v],p=!0)}if(!p)break}if(p)for(v=0;v<a.length;v++){y=u[a[v].source().id()],m=u[a[v].target().id()],b=t(a[v]);if(h[y]+b<h[m])return _.error("Graph contains a negative weight cycle for Bellman-Ford"),{pathTo:void 0,distanceTo:void 0,hasNegativeWeightCycle:!0}}var x=[];for(c=0;c<l;c++)x.push(o[c].id());return{distanceTo:function(e){if(w.string(e))var t=s.filter(e)[0].id();else t=e.id();return h[u[t]]},pathTo:function(e){if(w.string(e))var t=s.filter(e)[0].id();else t=e.id();var n=function(e,t,n,r,i,a){for(;;){if(i.push(s.getElementById(r[n])),i.push(a[n]),t===n)return i;var o=e[n];if(void 0===o)return;n=o}}(d,u[i.id()],u[t],x,[],f);return null!=n&&n.reverse(),r.spawn(n)},hasNegativeWeightCycle:!1}}}};e.exports=r},function(e,t,n){var T=n(1),r={kargerStein:function(e){e=e||{};var t=function e(t,n,r,i){return r<=i?n:e(t,function(e,t,n){for(var r=n[e],i=r[1],a=r[2],o=t[i],s=t[a],l=n.filter(function(e){return!(t[e[1]]===o&&t[e[2]]===s||t[e[1]]===s&&t[e[2]]===o)}),u=0;u<l.length;u++){var c=l[u];c[1]===s?(l[u]=c.slice(0),l[u][1]=o):c[2]===s&&(l[u]=c.slice(0),l[u][2]=o)}for(u=0;u<t.length;u++)t[u]===s&&(t[u]=o);return l}(Math.floor(Math.random()*n.length),t,n),r-1,i)},n=this._private.cy,r=this.edges().stdFilter(function(e){return!e.isLoop()}),i=this.nodes(),a=i.length,o=r.length,s=Math.ceil(Math.pow(Math.log(a)/Math.LN2,2)),l=Math.floor(a/Math.sqrt(2));if(!(a<2)){for(var u={},c=0;c<a;c++)u[i[c].id()]=c;var h=[];for(c=0;c<o;c++){var d=r[c];h.push([c,u[d.source().id()],u[d.target().id()]])}var f,p=1/0,v=[];for(c=0;c<a;c++)v.push(c);for(var g=0;g<=s;g++){var y=v.slice(0),m=t(y,h,a,l),b=y.slice(0),x=t(y,m,l,2),w=t(b,m,l,2);x.length<=w.length&&x.length<p?(p=x.length,f=[x,y]):w.length<=x.length&&w.length<p&&(p=w.length,f=[w,b])}var _=f[0].map(function(e){return r[e[0]]}),E=[],C=[],k=f[1][0];for(c=0;c<f[1].length;c++){f[1][c]===k?E.push(i[c]):C.push(i[c])}return{cut:this.spawn(n,_),partition1:this.spawn(E),partition2:this.spawn(C)}}T.error("At least 2 nodes are required for Karger-Stein algorithm")}};e.exports=r},function(e,t,n){var N=n(0),r={pageRank:function(e){var t=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(r=0;r<t;r++)e[r]=e[r]/n};if(null!=(e=e||{})&&null!=e.dampingFactor)var n=e.dampingFactor;else n=.8;if(null!=e&&null!=e.precision)var r=e.precision;else r=1e-6;if(null!=e&&null!=e.iterations)var i=e.iterations;else i=200;if(null!=e&&null!=e.weight&&N.fn(e.weight))var a=e.weight;else a=function(e){return 1};for(var o=this._private.cy,s=this.edges().stdFilter(function(e){return!e.isLoop()}),l=this.nodes(),u=l.length,c=s.length,h={},d=0;d<u;d++)h[l[d].id()]=d;var f=[],p=[],v=(1-n)/u;for(d=0;d<u;d++){for(var g=[],y=0;y<u;y++)g.push(0);f.push(g),p.push(0)}for(d=0;d<c;d++){var m=s[d],b=h[m.source().id()],x=h[m.target().id()],w=a(m);f[x][b]+=w,p[b]+=w}var _=1/u+v;for(y=0;y<u;y++)if(0===p[y])for(d=0;d<u;d++)f[d][y]=_;else for(d=0;d<u;d++)f[d][y]=f[d][y]/p[y]+v;var E,C=[],k=[];for(d=0;d<u;d++)C.push(1),k.push(0);for(var T=0;T<i;T++){var P=k.slice(0);for(d=0;d<u;d++)for(y=0;y<u;y++)P[d]+=f[d][y]*C[y];t(P),E=C,C=P;var A=0;for(d=0;d<u;d++)A+=Math.pow(E[d]-C[d],2);if(A<r)break}return{rank:function(e){if(N.string(e))var t=o.filter(e)[0].id();else t=e.id();return C[h[t]]}}}};e.exports=r},function(e,t,n){var v=n(0),p=n(1),r={degreeCentralityNormalized:function(e){e=e||{};var t=this.cy();if(null!=e.directed)var n=e.directed;else n=!1;var r=this.nodes(),i=r.length;if(n){var a={},o={},s=0,l=0;for(h=0;h<i;h++){d=r[h],f=this.degreeCentrality(p.extend({},e,{root:d}));s<f.indegree&&(s=f.indegree),l<f.outdegree&&(l=f.outdegree),a[d.id()]=f.indegree,o[d.id()]=f.outdegree}return{indegree:function(e){if(0==s)return 0;if(v.string(e))e=t.filter(e)[0].id();else e=e.id();return a[e]/s},outdegree:function(e){if(0==l)return 0;if(v.string(e))e=t.filter(e)[0].id();else e=e.id();return o[e]/l}}}for(var u={},c=0,h=0;h<i;h++){var d=r[h],f=this.degreeCentrality(p.extend({},e,{root:d}));c<f.degree&&(c=f.degree),u[d.id()]=f.degree}return{degree:function(e){if(0==c)return 0;if(v.string(e))e=t.filter(e)[0].id();else e=e.id();return u[e]/c}}},degreeCentrality:function(e){if(null!=(e=e||{})&&null!=e.root){var t=v.string(e.root)?this.filter(e.root)[0]:e.root[0];if(null!=e.weight&&v.fn(e.weight))var n=e.weight;else n=function(e){return 1};if(null!=e.directed)var r=e.directed;else r=!1;if(null!=e.alpha&&v.number(e.alpha))var i=e.alpha;else i=0;if(r){var a=t.connectedEdges('edge[target = "'+t.id()+'"]').intersection(this),o=t.connectedEdges('edge[source = "'+t.id()+'"]').intersection(this),s=a.length,l=o.length,u=0,c=0;for(p=0;p<a.length;p++){u+=n(a[p])}for(p=0;p<o.length;p++){c+=n(o[p])}return{indegree:Math.pow(s,1-i)*Math.pow(u,i),outdegree:Math.pow(l,1-i)*Math.pow(c,i)}}for(var h=t.connectedEdges().intersection(this),d=h.length,f=0,p=0;p<h.length;p++){f+=n(h[p])}return{degree:Math.pow(d,1-i)*Math.pow(f,i)}}}};r.dc=r.degreeCentrality,r.dcn=r.degreeCentralityNormalised=r.degreeCentralityNormalized,e.exports=r},function(e,t,n){var h=n(0),r={closenessCentralityNormalized:function(e){e=e||{};var t=this.cy(),n=e.harmonic;void 0===n&&(n=!0);for(var r={},i=0,a=this.nodes(),o=this.floydWarshall({weight:e.weight,directed:e.directed}),s=0;s<a.length;s++){for(var l=0,u=0;u<a.length;u++)if(s!=u){var c=o.distance(a[s],a[u]);l+=n?1/c:c}n||(l=1/l),i<l&&(i=l),r[a[s].id()]=l}return{closeness:function(e){if(0==i)return 0;if(h.string(e))e=t.filter(e)[0].id();else e=e.id();return r[e]/i}}},closenessCentrality:function(e){if(null!=(e=e||{}).root){if(h.string(e.root))var t=this.filter(e.root)[0];else t=e.root[0];if(null!=e.weight&&h.fn(e.weight))var n=e.weight;else n=function(){return 1};if(null!=e.directed&&h.bool(e.directed))var r=e.directed;else r=!1;var i=e.harmonic;void 0===i&&(i=!0);for(var a=this.dijkstra({root:t,weight:n,directed:r}),o=0,s=this.nodes(),l=0;l<s.length;l++)if(s[l].id()!=t.id()){var u=a.distanceTo(s[l]);o+=i?1/u:u}return i?o:1/o}}};r.cc=r.closenessCentrality,r.ccn=r.closenessCentralityNormalised=r.closenessCentralityNormalized,e.exports=r},function(e,t,n){var P=n(0),A=n(9),r={betweennessCentrality:function(e){var t,n;e=e||{},t=!!P.fn(e.weight)&&(n=e.weight,!0);for(var r=null!=e.directed&&e.directed,i=this._private.cy,a=this.nodes(),o={},s={},l=0,u=function(e,t){s[e]=t,l<t&&(l=t)},c=function(e){return s[e]},h=0;h<a.length;h++){o[b=(x=a[h]).id()]=r?x.outgoers().nodes():x.openNeighborhood().nodes(),u(b,0)}for(var d=0;d<a.length;d++){var f=a[d].id(),p=[],v={},g={},y={},m=new A(function(e,t){return y[e]-y[t]});for(h=0;h<a.length;h++){var b;v[b=a[h].id()]=[],g[b]=0,y[b]=1/0}for(g[f]=1,y[f]=0,m.push(f);!m.empty();){var x=m.pop();if(p.push(x),t)for(var w=0;w<o[x].length;w++){var _=o[x][w],E=i.getElementById(x),C=n(0<E.edgesTo(_).length?E.edgesTo(_)[0]:_.edgesTo(E)[0]);_=_.id(),y[_]>y[x]+C&&(y[_]=y[x]+C,m.nodes.indexOf(_)<0?m.push(_):m.updateItem(_),g[_]=0,v[_]=[]),y[_]==y[x]+C&&(g[_]=g[_]+g[x],v[_].push(x))}else for(w=0;w<o[x].length;w++){_=o[x][w].id();y[_]==1/0&&(m.push(_),y[_]=y[x]+1),y[_]==y[x]+1&&(g[_]=g[_]+g[x],v[_].push(x))}}var k={};for(h=0;h<a.length;h++)k[a[h].id()]=0;for(;0<p.length;)for(_=p.pop(),w=0;w<v[_].length;w++){k[x=v[_][w]]=k[x]+g[x]/g[_]*(1+k[_]),_!=a[d].id()&&u(_,c(_)+k[_])}}var T={betweenness:function(e){if(P.string(e))e=i.filter(e).id();else e=e.id();return c(e)},betweennessNormalized:function(e){if(0==l)return 0;if(P.string(e))e=i.filter(e).id();else e=e.id();return c(e)/l}};return T.betweennessNormalised=T.betweennessNormalized,T}};r.bc=r.betweennessCentrality,e.exports=r},function(e,t,n){var r=n(4),i={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop()};e.exports=i},function(e,t,n){var m=n(1),b=n(44),x=n(2),w=n(0),r={animated:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var t=e[0];return t?0<t._private.animation.current.length:void 0}},clearQueue:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var t=0;t<e.length;t++){e[t]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=void 0!==this.length,r=n?this:[this],i=this._private.cy||this,a=!n,o=!a;if(!i.styleEnabled())return this;var s=i.style();if(e=m.assign({},e,t),0===Object.keys(e).length)return new b(r[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(o&&(e.style=s.getPropsList(e.style||e.css),e.css=void 0),o&&null!=e.renderedPosition){var l=e.renderedPosition,u=i.pan(),c=i.zoom();e.position=x.renderedToModelPosition(l,c,u)}if(a&&null!=e.panBy){var h=e.panBy,d=i.pan();e.pan={x:d.x+h.x,y:d.y+h.y}}var f=e.center||e.centre;if(a&&null!=f){var p=i.getCenterPan(f.eles,e.zoom);null!=p&&(e.pan=p)}if(a&&null!=e.fit){var v=e.fit,g=i.getFitViewport(v.eles||v.boundingBox,v.padding);null!=g&&(e.pan=g.pan,e.zoom=g.zoom)}if(a&&w.plainObject(e.zoom)){var y=i.getZoomedViewport(e.zoom);null!=y&&(y.zoomed&&(e.zoom=y.zoom),y.panned&&(e.pan=y.pan))}return new b(r[0],e)}},animate:function(){return function(e,t){var n=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=m.extend({},e,t));for(var r=0;r<n.length;r++){var i=n[r],a=i.animated()&&(void 0===e.queue||e.queue);i.animation(e,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=void 0!==this.length?this:[this],r=this._private.cy||this;if(!r.styleEnabled())return this;for(var i=0;i<n.length;i++){for(var a=n[i]._private,o=a.animation.current,s=0;s<o.length;s++){var l=o[s]._private;t&&(l.duration=0)}e&&(a.animation.queue=[]),t||(a.animation.current=[])}return r.notify({eles:this,type:"draw"}),this}}};e.exports=r},function(e,t,n){var i=n(1),a=n(0),r=n(5),o=function(e,t,n){var r=this._private=i.extend({duration:1e3},t,n);r.target=e,r.style=r.style||r.css,r.started=!1,r.playing=!1,r.hooked=!1,r.applying=!1,r.progress=0,r.completes=[],r.frames=[],r.complete&&a.fn(r.complete)&&r.completes.push(r.complete),this.length=1,this[0]=this},s=o.prototype;i.extend(s,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),a.elementOrCollection(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var r=this._private,e=r.playing;e&&this.pause(),r.progress=1-r.progress,r.started=!1;var t=function(e,t){var n=r[e];null!=n&&(r[e]=r[t],r[t]=n)};if(t("zoom","startZoom"),t("pan","startPan"),t("position","startPosition"),r.style)for(var n=0;n<r.style.length;n++){var i=r.style[n],a=i.name,o=r.startStyle[a];r.startStyle[a]=i,r.style[n]=o}return e&&this.play(),this},promise:function(e){var t=this._private,n=void 0;switch(e){case"frame":n=t.frames;break;default:case"complete":case"completed":n=t.completes}return new r(function(e,t){n.push(function(){e()})})}}),s.complete=s.completed,e.exports=o},function(e,t,n){var r=n(1),k=n(0),i={data:function(C){return C=r.extend({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},C),function(e,t){var n,r,i,a=C,o=this,s=void 0!==o.length,l=s?o:[o],u=s?o[0]:o;if(k.string(e)){if(a.allowGetting&&void 0===t){var c=void 0;return u&&(a.beforeGet(u),c=u._private[a.field][e]),c}if(a.allowSetting&&void 0!==t&&!a.immutableKeys[e]){var h=(i=t,(r=e)in(n={})?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n);a.beforeSet(o,h);for(var d=0,f=l.length;d<f;d++){var p=l[d];a.canSet(p)&&(p._private[a.field][e]=t)}a.updateStyle&&o.updateStyle(),a.onSet(o),a.settingTriggersEvent&&o[a.triggerFnName](a.settingEvent)}}else if(a.allowSetting&&k.plainObject(e)){var v=e,g=void 0,y=void 0,m=Object.keys(v);a.beforeSet(o,v);for(var b=0;b<m.length;b++){if(y=v[g=m[b]],!a.immutableKeys[g])for(var x=0;x<l.length;x++){var w=l[x];a.canSet(w)&&(w._private[a.field][g]=y)}}a.updateStyle&&o.updateStyle(),a.onSet(o),a.settingTriggersEvent&&o[a.triggerFnName](a.settingEvent)}else if(a.allowBinding&&k.fn(e)){var _=e;o.on(a.bindingEvent,_)}else if(a.allowGetting&&void 0===e){var E=void 0;return u&&(a.beforeGet(u),E=u._private[a.field]),E}return o}},removeData:function(g){return g=r.extend({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},g),function(e){var t=g,n=this,r=void 0!==n.length?n:[n];if(k.string(e)){for(var i=e.split(/\s+/),a=i.length,o=0;o<a;o++){var s=i[o];if(!k.emptyString(s))if(!t.immutableKeys[s])for(var l=0,u=r.length;l<u;l++)r[l]._private[t.field][s]=void 0}t.triggerEvent&&n[t.triggerFnName](t.event)}else if(void 0===e){for(var c=0,h=r.length;c<h;c++)for(var d=r[c]._private[t.field],f=Object.keys(d),p=0;p<f.length;p++){var v=f[p];!t.immutableKeys[v]&&(d[v]=void 0)}t.triggerEvent&&n[t.triggerFnName](t.event)}return n}}};e.exports=i},function(e,t,n){var r=n(5),i={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var i=this,a=Array.prototype.slice.call(arguments,0);return new r(function(t,e){var n=a.concat([function(e){i.off.apply(i,r),t(e)}]),r=n.concat([]);i.on.apply(i,n)})}}};e.exports=i},function(e,t,n){var l=n(8),r={classes:function(e){e=(e||"").match(/\S+/g)||[];for(var a=this,o=[],s=new l(e),t=function(e){var t=a[e],n=t._private,r=n.classes,i=!1;s.forEach(function(e){r.has(e)||(i=!0)}),i||r.forEach(function(e){s.has(e)||(i=!0)}),i&&(n.classes=new l(s),o.push(t))},n=0;n<a.length;n++)t(n);return 0<o.length&&this.spawn(o).updateStyle().emit("class"),a},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){for(var n=e.match(/\S+/g)||[],r=[],i=0,a=this.length;i<a;i++)for(var o=this[i],s=!1,l=0;l<n.length;l++){var u=n[l],c=o._private.classes,h=c.has(u);t||void 0===t&&!h?(c.add(u),h||s||(r.push(o),s=!0)):(c.delete(u),h&&!s&&(r.push(o),s=!0))}return 0<r.length&&this.spawn(r).updateStyle().emit("class"),this},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};e.exports=r},function(e,t,n){n(0);var r=n(6),i={allAre:function(e){var t=new r(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new r(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var n=0;n<this.length;n++){if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1}return!0},same:function(t){return t=this.cy().collection(t),this.length===t.length&&this.every(function(e){return t.hasElementWithId(e.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(e){return t.hasElementWithId(e.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};i.allAreNeighbours=i.allAreNeighbors,i.has=i.contains,e.exports=i},function(e,t,n){var f=n(1),u=n(50),p=n(10),v=function(e){for(var t=void 0,n=void 0,r=void 0,i=0;i<u.length;i++){var a=u[i],o=a.name,s=e.match(a.regexObj);if(null!=s){t=a,r=o;var l=(n=s)[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:r,remaining:e}};e.exports={parse:function(e){var t=this,n=t._private.selectorText=e,r=t[0]=p();for(t.length=1,n=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var i=v(n);if(null==i.expr)return f.error("The selector `"+e+"`is invalid"),!1;var a=i.match.slice(1),o=i.expr.populate(t,r,a);if(!1===o)return!1;if(null!=o&&(r=o),(n=i.remaining).match(/^\s*$/))break}for(var s=0;s<t.length;s++){var l=t[s];if(null!=l.subject){for(;l.subject!==l;)if(null!=l.parent){var u=l.parent,c=l;c.parent=null,u.child=c,l=u}else{if(null==l.ancestor)return l.source||l.target||l.connectedNodes?f.error("The selector `"+t.text()+"` can not contain a subject selector that applies to the source or target of an edge selector"):f.error("When adjusting references for the selector `"+t.text()+"`, neither parent nor ancestor was found"),!1;var h=l.ancestor,d=l;d.ancestor=null,h.descendant=d,l=h}t[s]=l.subject}}return!0}}},function(e,t,n){var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(15).stateSelectorRegex,l=n(51),i=n(1),a=n(10),u=function(e){return e.replace(new RegExp("\\\\("+l.metaChar+")","g"),function(e,t){return t})},o=function(e,t,n){t===e[e.length-1]&&(e[e.length-1]=n)},c=[{name:"group",query:!0,regex:"("+l.group+")",populate:function(e,t,n){var r=s(n,1)[0];t.group="*"===r?r:r+"s"}},{name:"state",query:!0,regex:r,populate:function(e,t,n){var r=s(n,1)[0];t.colonSelectors.push(r)}},{name:"id",query:!0,regex:"\\#("+l.id+")",populate:function(e,t,n){var r=s(n,1)[0];t.ids.push(u(r))}},{name:"className",query:!0,regex:"\\.("+l.className+")",populate:function(e,t,n){var r=s(n,1)[0];t.classes.push(u(r))}},{name:"dataExists",query:!0,regex:"\\[\\s*("+l.variable+")\\s*\\]",populate:function(e,t,n){var r=s(n,1)[0];t.data.push({field:u(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+l.variable+")\\s*("+l.comparatorOp+")\\s*("+l.value+")\\s*\\]",populate:function(e,t,n){var r=s(n,3),i=r[0],a=r[1],o=r[2];o=null!=new RegExp("^"+l.string+"$").exec(o)?o.substring(1,o.length-1):parseFloat(o),t.data.push({field:u(i),operator:a,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+l.boolOp+")\\s*("+l.variable+")\\s*\\]",populate:function(e,t,n){var r=s(n,2),i=r[0],a=r[1];t.data.push({field:u(a),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+l.meta+")\\s*("+l.comparatorOp+")\\s*("+l.number+")\\s*\\]\\]",populate:function(e,t,n){var r=s(n,3),i=r[0],a=r[1],o=r[2];t.meta.push({field:u(i),operator:a,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:l.separator,populate:function(e){var t=e[e.length++]=a();return e.currentSubject=null,t}},{name:"directedEdge",separator:!0,regex:l.directedEdge,populate:function(e,t){var n=a(),r=t,i=a();return n.group="edges",n.target=i,n.source=r,n.subject=e.currentSubject,o(e,t,n),i}},{name:"undirectedEdge",separator:!0,regex:l.undirectedEdge,populate:function(e,t){var n=a(),r=t,i=a();return n.group="edges",n.connectedNodes=[r,i],n.subject=e.currentSubject,o(e,t,n),i}},{name:"child",separator:!0,regex:l.child,populate:function(e,t){var n=a();return n.parent=t,n.subject=e.currentSubject,o(e,t,n),n}},{name:"descendant",separator:!0,regex:l.descendant,populate:function(e,t){var n=a();return n.ancestor=t,n.subject=e.currentSubject,o(e,t,n),n}},{name:"subject",modifier:!0,regex:l.subject,populate:function(e,t){if(null!=e.currentSubject&&t.subject!=t)return i.error("Redefinition of subject in selector `"+e.toString()+"`"),!1;(e.currentSubject=t).subject=t,e[e.length-1].subject=t}}];c.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)}),e.exports=c},function(e,t,n){var r={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:'"(?:\\\\"|[^"])*"|'+"'(?:\\\\'|[^'])*'",number:n(1).regex.number,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};r.variable="(?:[\\w-]|(?:\\\\"+r.metaChar+"))+",r.value=r.string+"|"+r.number,r.className=r.variable,r.id=r.variable,function(){var e=void 0,t=void 0,n=void 0;for(e=r.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],r.comparatorOp+="|@"+t;for(e=r.comparatorOp.split("|"),n=0;n<e.length;n++)0<=(t=e[n]).indexOf("!")||"="!==t&&(r.comparatorOp+="|\\!"+t)}(),e.exports=r},function(e,t,n){var g=n(15).stateSelectorMatches,v=n(0),y=function(e,t){for(var n=!0,r=0;r<e[t.name].length;r++){var i=e[t.name][r],a=i.operator,o=i.value,s=i.field,l=void 0,u=t.fieldValue(s);if(null!=a&&null!=o){var c=v.string(u)||v.number(u)?""+u:"",h=""+o,d=!1;0<=a.indexOf("@")&&(c=c.toLowerCase(),h=h.toLowerCase(),a=a.replace("@",""),d=!0);var f=!1;0<=a.indexOf("!")&&(a=a.replace("!",""),f=!0),d&&(o=h.toLowerCase(),u=c.toLowerCase());var p=!1;switch(a){case"*=":l=0<=c.indexOf(h);break;case"$=":l=0<=c.indexOf(h,c.length-h.length);break;case"^=":l=0===c.indexOf(h);break;case"=":l=u===o;break;case">":p=!0,l=o<u;break;case">=":p=!0,l=o<=u;break;case"<":p=!0,l=u<o;break;case"<=":p=!0,l=u<=o;break;default:l=!1}!f||null==u&&p||(l=!l)}else if(null!=a)switch(a){case"?":l=!!u;break;case"!":l=!u;break;case"^":l=void 0===u}else l=void 0!==u;if(!l){n=!1;break}}return n},m=function(e,t,n){if(null==e)return!0;var r=!1;if(!t)return!1;n=n();for(var i=0;i<n.length;i++)if(a(e,n[i])){r=!0;break}return r},a=function(e,t){if(e.groupOnly)return"*"===e.group||e.group===t.group();if(null!=e.group&&"*"!=e.group&&e.group!=t.group())return!1;var n=t.cy(),r=void 0,i=!0;for(r=0;r<e.colonSelectors.length;r++){var a=e.colonSelectors[r];if(!(i=g(a,t)))break}if(!i)return!1;var o=!0;for(r=0;r<e.ids.length;r++){var s=e.ids[r],l=t.id();if(!(o=o&&s==l))break}if(!o)return!1;var u=!0;for(r=0;r<e.classes.length;r++){var c=e.classes[r];if(!(u=u&&t.hasClass(c)))break}if(!u)return!1;if(!y(e,{name:"data",fieldValue:function(e){return t.data(e)}}))return!1;if(!y(e,{name:"meta",fieldValue:function(e){return t[e]()}}))return!1;if(null!=e.collection&&!e.collection.hasElementWithId(t.id()))return!1;if(null!=e.filter&&t.collection().some(e.filter))return!1;var h=n.hasCompoundNodes(),d=function(){return t.source()},f=function(){return t.target()};if(!m(e.parent,h,function(){return t.parent()}))return!1;if(!m(e.ancestor,h,function(){return t.parents()}))return!1;if(!m(e.child,h,function(){return t.children()}))return!1;if(!m(e.descendant,h,function(){return t.descendants()}))return!1;if(!m(e.source,!0,d))return!1;if(!m(e.target,!0,f))return!1;if(e.connectedNodes){var p=e.connectedNodes[0],v=e.connectedNodes[1];if(m(p,!0,d)&&m(v,!0,f));else if(!m(p,!0,f)||!m(v,!0,d))return!1}return!0};e.exports={matches:function(e){if(this.invalid())return!1;for(var t=0;t<this.length;t++){var n=this[t];if(a(n,e))return!0}return!1},filter:function(e){var r=this,t=e.cy();if(r.invalid())return t.collection();if(1===r.length&&1===r[0].length&&1===r[0].ids.length)return e.getElementById(r[0].ids[0]).collection();var n=function(e){for(var t=0;t<r.length;t++){var n=r[t];if(a(n,e))return!0}return!1};return null==r.text()&&(n=function(){return!0}),e.filter(n)}}},function(e,t,n){var c=n(8),r={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&t.push(i)}return this.spawn(t,{unique:!0}).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}n=n.parent()}return this.spawn(t,{unique:!0}).filter(e)},commonAncestors:function(e){for(var t=void 0,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];t=t.concat(r._private.children)}return this.spawn(t,{unique:!0}).filter(e)},siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var i=[];return function e(t){for(var n=0;n<t.length;n++){var r=t[n];i.push(r),r.children().nonempty()&&e(r.children())}}(this.children()),this.spawn(i,{unique:!0}).filter(e)}};function i(e,t,n,r){for(var i=[],a=new c,o=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var l=e[s];n?i.push(l):o&&r(i,a,l)}for(;0<i.length;){var u=i.shift();t(u),a.add(u.id()),o&&r(i,a,u)}return e}function a(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var a=r[i];t.has(a.id())||e.push(a)}}function o(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function s(e,t,n){o(e,t,n),a(e,t,n)}r.forEachDown=function(e){return i(this,e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],a)},r.forEachUp=function(e){return i(this,e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],o)},r.forEachUpAndDown=function(e){return i(this,e,!(1<arguments.length&&void 0!==arguments[1])||arguments[1],s)},r.ancestors=r.parents,e.exports=r},function(e,t,n){var r,i=n(4),a=void 0;(a=r={data:i.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:i.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:i.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:i.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:i.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:i.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=a.data,a.removeAttr=a.removeData,e.exports=r},function(e,t,n){var r=n(1),i={};function a(o){return function(e){if(void 0===e&&(e=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var t=0,n=this[0],r=n._private.edges,i=0;i<r.length;i++){var a=r[i];!e&&a.isLoop()||(t+=o(n,a))}return t}}}function o(a,o){return function(e){for(var t=void 0,n=this.nodes(),r=0;r<n.length;r++){var i=n[r][a](e);void 0===i||void 0!==t&&!o(i,t)||(t=i)}return t}}r.extend(i,{degree:a(function(e,t){return t.source().same(t.target())?2:1}),indegree:a(function(e,t){return t.target().same(e)?1:0}),outdegree:a(function(e,t){return t.source().same(e)?1:0})}),r.extend(i,{minDegree:o("degree",function(e,t){return e<t}),maxDegree:o("degree",function(e,t){return t<e}),minIndegree:o("indegree",function(e,t){return e<t}),maxIndegree:o("indegree",function(e,t){return t<e}),minOutdegree:o("outdegree",function(e,t){return e<t}),maxOutdegree:o("outdegree",function(e,t){return t<e})}),r.extend(i,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}}),e.exports=i},function(e,t,n){var r=n(1),i=n(57),a=n(58),o=n(59),s=n(60);e.exports=r.assign({},i,a,o,s)},function(e,t,n){var r,i=n(4),m=n(0),h=n(2),a=void 0,o=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.isParent()&&!r.locked()){var i=r._private.position,a={x:t.x-i.x,y:t.y-i.y};e.children().shift(a)}}};(a=r={position:i.data({field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:o,onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}}),silentPosition:i.data({field:"position",bindingEvent:"position",allowBinding:!1,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!1,triggerFnName:"trigger",allowGetting:!1,validKeys:["x","y"],beforeSet:o,onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}}),positions:function(e,t){if(m.plainObject(e))t?this.silentPosition(e):this.position(e);else if(m.fn(e)){var n=e,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var a,o=this[i];(a=n(o,i))&&(t?o.silentPosition(a):o.position(a))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t){var n=void 0;if(m.plainObject(e)?n=e:m.string(e)&&m.number(t)&&((n={x:0,y:0})[e]=t),null!=n)for(var r=0;r<this.length;r++){var i=this[r],a=i.position();i.position({x:a.x+n.x,y:a.y+n.y})}return this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),i=r.zoom(),a=r.pan(),o=m.plainObject(e)?e:void 0,s=void 0!==o||void 0!==t&&m.string(e);if(n&&n.isNode()){if(!s){var l=n.position();return o=h.modelToRenderedPosition(l,i,a),void 0===e?o:o[e]}for(var u=0;u<this.length;u++){var c=this[u];void 0!==t?c.position(e,(t-a[e])/i):void 0!==o&&c.position(h.renderedToModelPosition(o,i,a))}}else if(!s)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),i=m.plainObject(e)?e:void 0,a=void 0!==i||void 0!==t&&m.string(e),o=r.hasCompoundNodes();if(n&&n.isNode()){if(!a){var s=n.position(),l=o?n.parent():null,u=l&&0<l.length,c=u;u&&(l=l[0]);var h=c?l.position():{x:0,y:0};return i={x:s.x-h.x,y:s.y-h.y},void 0===e?i:i[e]}for(var d=0;d<this.length;d++){var f=this[d],p=o?f.parent():null,v=p&&0<p.length,g=v;v&&(p=p[0]);var y=g?p.position():{x:0,y:0};void 0!==t?f.position(e,t+y[e]):void 0!==i&&f.position({x:i.x+y.x,y:i.y+y.y})}}else if(!a)return;return this}}).modelPosition=a.point=a.position,a.modelPositions=a.points=a.positions,a.renderedPoint=a.renderedPosition,a.relativePoint=a.relativePosition,e.exports=r},function(e,t,n){var p=n(0),h=n(1),B=n(2),r=void 0,i=void 0;r=i={},i.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),a=t.x1*r+i.x,o=t.x2*r+i.x,s=t.y1*r+i.y,l=t.y2*r+i.y;return{x1:a,x2:o,y1:s,y2:l,w:o-a,h:l-s}},i.dirtyCompoundBoundsCache=function(){var e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()&&this.forEachUp(function(e){e._private.compoundBoundsClean=!1,e.isParent()&&e.emit("bounds")}),this},i.updateCompoundBounds=function(){var e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(e.batching())return this;var m=[];function t(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,i={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},a=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),o=t.position;0!==a.w&&0!==a.h||((a={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=o.x-a.w/2,a.x2=o.x+a.w/2,a.y1=o.y-a.h/2,a.y2=o.y+a.h/2);var s=i.width.left.value;"px"===i.width.left.units&&0<i.width.val&&(s=100*s/i.width.val);var l=i.width.right.value;"px"===i.width.right.units&&0<i.width.val&&(l=100*l/i.width.val);var u=i.height.top.value;"px"===i.height.top.units&&0<i.height.val&&(u=100*u/i.height.val);var c=i.height.bottom.value;"px"===i.height.bottom.units&&0<i.height.val&&(c=100*c/i.height.val);var h=y(i.width.val-a.w,s,l),d=h.biasDiff,f=h.biasComplementDiff,p=y(i.height.val-a.h,u,c),v=p.biasDiff,g=p.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return 0<e?n.pfValue*e:0;case"height":return 0<t?n.pfValue*t:0;case"average":return 0<e&&0<t?n.pfValue*(e+t)/2:0;case"min":return 0<e&&0<t?t<e?n.pfValue*t:n.pfValue*e:0;case"max":return 0<e&&0<t?t<e?n.pfValue*e:n.pfValue*t:0;default:return 0}}(a.w,a.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(a.w,i.width.val),o.x=(-d+a.x1+a.x2+f)/2,t.autoHeight=Math.max(a.h,i.height.val),o.y=(-v+a.y1+a.y2+g)/2,m.push(e)}function y(e,t,n){var r=0,i=0,a=t+n;return 0<e&&0<a&&(r=t/a*e,i=n/a*e),{biasDiff:r,biasComplementDiff:i}}}for(var n=0;n<this.length;n++){var r=this[n],i=r._private;i.compoundBoundsClean||(t(r),e._private.batchingStyle||(i.compoundBoundsClean=!0))}return this};var D=function(e){return e===1/0||e===-1/0?0:e},L=function(e,t,n,r,i){r-t!=0&&i-n!=0&&null!=t&&null!=n&&null!=r&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2)},j=function(e,t,n){return h.getPrefixedProperty(e,t,n)},z=function(e,t,n){if(!t.cy().headless()){var r=t._private.rstyle,i=r.arrowWidth/2,a=void 0,o=void 0;"none"!==t.pstyle(n+"-arrow-shape").value&&(o="source"===n?(a=r.srcX,r.srcY):"target"===n?(a=r.tgtX,r.tgtY):(a=r.midX,r.midY),L(e,a-i,o-i,a+i,o+i))}},$=function(e,t,n){if(!t.cy().headless()){var r=void 0;r=n?n+"-":"";var i=t._private,a=i.rstyle;if(t.pstyle(r+"label").strValue){var o=t.pstyle("text-halign"),s=t.pstyle("text-valign"),l=j(a,"labelWidth",n),u=j(a,"labelHeight",n),c=j(a,"labelX",n),h=j(a,"labelY",n),d=t.pstyle(r+"text-margin-x").pfValue,f=t.pstyle(r+"text-margin-y").pfValue,p=t.isEdge(),v=t.pstyle(r+"text-rotation"),g=t.pstyle("text-outline-width").pfValue,y=t.pstyle("text-border-width").pfValue/2,m=t.pstyle("text-background-padding").pfValue,b=u+2*m,x=l+2*m,w=x/2,_=b/2,E=void 0,C=void 0,k=void 0,T=void 0;if(p)E=c-w,C=c+w,k=h-_,T=h+_;else{switch(o.value){case"left":E=c-x,C=c;break;case"center":E=c-w,C=c+w;break;case"right":C=(E=c)+x}switch(s.value){case"top":k=h-b,T=h;break;case"center":k=h-_,T=h+_;break;case"bottom":T=(k=h)+b}}var P=p&&"autorotate"===v.strValue,A=null!=v.pfValue&&0!==v.pfValue;if(P||A){var N=P?j(i.rstyle,"labelAngle",n):v.pfValue,S=Math.cos(N),O=Math.sin(N),I=function(e,t){return{x:(e-=c)*S-(t-=h)*O+c,y:e*O+t*S+h}},M=I(E,k),R=I(E,T),B=I(C,k),D=I(C,T);E=Math.min(M.x,R.x,B.x,D.x),C=Math.max(M.x,R.x,B.x,D.x),k=Math.min(M.y,R.y,B.y,D.y),T=Math.max(M.y,R.y,B.y,D.y)}E+=d-Math.max(g,y),C+=d+Math.max(g,y),k+=f-Math.max(g,y),T+=f+Math.max(g,y),L(e,E,k,C,T)}return e}},a=function(e){return e?"t":"f"},o=function(e){var t="";return t+=a(e.incudeNodes),t+=a(e.includeEdges),t+=a(e.includeLabels),t+=a(e.includeOverlays)},d=function(e,t){var n=e._private,r=void 0,i=e.cy().headless(),a=t===f?s:o(t);return t.useCache&&!i&&n.bbCache&&n.bbCache[a]?r=n.bbCache[a]:(r=function(e,t){var n=e._private.cy,r=n.styleEnabled(),i=n.headless(),a={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},o=e._private,s=r?e.pstyle("display").value:"element",l=e.isNode(),u=e.isEdge(),c=void 0,h=void 0,d=void 0,f=void 0,p=void 0,v=void 0,g="none"!==s;if(g){var y=0;r&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(y=e.pstyle("overlay-padding").value);var m=0;if(r&&(m=e.pstyle("width").pfValue/2),l&&t.includeNodes){var b=e.position();p=b.x,v=b.y;var x=e.outerWidth()/2,w=e.outerHeight()/2;L(a,c=p-x-y,d=v-w-y,h=p+x+y,f=v+w+y)}else if(u&&t.includeEdges){var _=o.rstyle||{};if(r&&!i&&(c=Math.min(_.srcX,_.midX,_.tgtX),h=Math.max(_.srcX,_.midX,_.tgtX),d=Math.min(_.srcY,_.midY,_.tgtY),f=Math.max(_.srcY,_.midY,_.tgtY),L(a,c-=m,d-=m,h+=m,f+=m)),r&&!i&&"haystack"===e.pstyle("curve-style").strValue){var E=_.haystackPts||[];if(c=E[0].x,d=E[0].y,(h=E[1].x)<c){var C=c;c=h,h=C}if((f=E[1].y)<d){var k=d;d=f,f=k}L(a,c-m,d-m,h+m,f+m)}else{for(var T=_.bezierPts||_.linePts||[],P=0;P<T.length;P++){var A=T[P];c=A.x-m,h=A.x+m,d=A.y-m,f=A.y+m,L(a,c,d,h,f)}if(0===T.length){var N=e.source().position(),S=e.target().position();if(c=N.x,h=S.x,d=N.y,h<c){var O=c;c=h,h=O}if((f=S.y)<d){var I=d;d=f,f=I}L(a,c-=m,d-=m,h+=m,f+=m)}}}if(r&&t.includeEdges&&u&&(z(a,e,"mid-source"),z(a,e,"mid-target"),z(a,e,"source"),z(a,e,"target")),r&&"yes"===e.pstyle("ghost").value){var M=e.pstyle("ghost-offset-x").pfValue,R=e.pstyle("ghost-offset-y").pfValue;L(a,a.x1+M,a.y1+R,a.x2+M,a.y2+R)}r&&(c=a.x1,h=a.x2,d=a.y1,f=a.y2,L(a,c-y,d-y,h+y,f+y)),r&&t.includeLabels&&($(a,e,null),u&&($(a,e,"source"),$(a,e,"target")))}return a.x1=D(a.x1),a.y1=D(a.y1),a.x2=D(a.x2),a.y2=D(a.y2),a.w=D(a.x2-a.x1),a.h=D(a.y2-a.y1),0<a.w&&0<a.h&&g&&B.expandBoundingBox(a,1),a}(e,t),i||(n.bbCache=n.bbCache||{},n.bbCache[a]=r)),r},f={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeOverlays:!0,useCache:!0},s=o(f);function v(e){return{includeNodes:h.default(e.includeNodes,f.includeNodes),includeEdges:h.default(e.includeEdges,f.includeEdges),includeLabels:h.default(e.includeLabels,f.includeLabels),includeOverlays:h.default(e.includeOverlays,f.includeOverlays),useCache:h.default(e.useCache,f.useCache)}}i.boundingBox=function(e){if(1===this.length&&this[0]._private.bbCache&&(void 0===e||void 0===e.useCache||!0===e.useCache))return e=void 0===e?f:v(e),d(this[0],e);var t={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0},n=v(e=e||h.staticEmptyObject()),r=this.cy().styleEnabled();r&&this.recalculateRenderedStyle(n.useCache),this.updateCompoundBounds();for(var i,a,o={},s=0;s<this.length;s++){var l=this[s];if(r&&l.isEdge()&&"bezier"===l.pstyle("curve-style").strValue&&!o[l.id()]){for(var u=l.parallelEdges(),c=0;c<u.length;c++)o[u[c].id()]=!0;u.recalculateRenderedStyle(n.useCache)}i=t,a=d(l,n),L(i,a.x1,a.y1,a.x2,a.y2)}return t.x1=D(t.x1),t.y1=D(t.y1),t.x2=D(t.x2),t.y2=D(t.y2),t.w=D(t.x2-t.x1),t.h=D(t.y2-t.y1),t},i.boundingBoxAt=function(e){var t=this.nodes();if(p.plainObject(e)){var n=e;e=function(){return n}}for(var r=0;r<t.length;r++){var i=t[r],a=i._private,o=a.position,s=e.call(i,i,r);a.bbAtOldPos={x:o.x,y:o.y},s&&(o.x=s.x,o.y=s.y)}this.emit("dirty"),t.dirtyCompoundBoundsCache().updateCompoundBounds();for(var l=this.boundingBox({useCache:!1}),u=0;u<t.length;u++){var c=t[u],h=c._private,d=c._private.position,f=h.bbAtOldPos;d.x=f.x,d.y=f.y}return t.dirtyCompoundBoundsCache(),this.emit("dirty"),l},r.boundingbox=r.boundingBox,r.renderedBoundingbox=r.renderedBoundingBox,e.exports=i},function(e,t,n){var r=n(1),a=void 0,i=void 0;a=i={};var o=function(i){i.uppercaseName=r.capitalize(i.name),i.autoName="auto"+i.uppercaseName,i.labelName="label"+i.uppercaseName,i.outerName="outer"+i.uppercaseName,i.uppercaseOuterName=r.capitalize(i.outerName),a[i.name]=function(){var e=this[0],t=e._private,n=t.cy._private.styleEnabled;if(e){if(!n)return 1;if(e.isParent())return e.updateCompoundBounds(),t[i.autoName]||0;var r=e.pstyle(i.name);switch(r.strValue){case"label":return e.recalculateRenderedStyle(),t.rstyle[i.labelName]||0;default:return r.pfValue}}},a["outer"+i.uppercaseName]=function(){var e=this[0],t=e._private.cy._private.styleEnabled;if(e)return t?e[i.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},a["rendered"+i.uppercaseName]=function(){var e=this[0];if(e)return e[i.name]()*this.cy().zoom()},a["rendered"+i.uppercaseOuterName]=function(){var e=this[0];if(e)return e[i.outerName]()*this.cy().zoom()}};o({name:"width"}),o({name:"height"}),i.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},e.exports=i},function(e,t,n){var r=function(e,t){if(e.isEdge())return t(e.renderer())};e.exports={controlPoints:function(){var t=this;return r(this,function(e){return e.getControlPoints(t)})},segmentPoints:function(){var t=this;return r(this,function(e){return e.getSegmentPoints(t)})},sourceEndpoint:function(){var t=this;return r(this,function(e){return e.getSourceEndpoint(t)})},targetEndpoint:function(){var t=this;return r(this,function(e){return e.getTargetEndpoint(t)})},midpoint:function(){var t=this;return r(this,function(e){return e.getEdgeMidpoint(t)})}}},function(e,t,n){var r=n(11),i=n(4),a=n(0),o=n(1),s=n(6),l={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&a.element(n.target)&&r.matches(n.target)},eventFields:function(e){return{cy:e.cy(),target:e}},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},u=function(e){return a.string(e)?new s(e):e},c={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new r(o.assign({context:t},l)))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().on(e,u(t),n)}return this},removeListener:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().removeListener(e,u(t),n)}return this},one:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().one(e,u(t),n)}return this},once:function(e,t,n){for(var r=0;r<this.length;r++){this[r].emitter().on(e,u(t),n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){this[n].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify({type:e,eles:this}),this.emit(e,t),this}};i.eventAliasesOn(c),e.exports=c},function(e,t,n){var c=n(0),a=n(6),r={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},filter:function(e,t){if(void 0===e)return this;if(c.string(e)||c.elementOrCollection(e))return new a(e).filter(this);if(c.fn(e)){for(var n=this.spawn(),r=0;r<this.length;r++){var i=this[r];(t?e.apply(t,[i,r,this]):e(i,r,this))&&n.merge(i)}return n}return this.spawn()},not:function(e){if(e){c.string(e)&&(e=this.filter(e));for(var t=[],n=e._private.map,r=0;r<this.length;r++){var i=this[r];n.has(i.id())||t.push(i)}return this.spawn(t)}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(c.string(e)){var t=e;return this.filter(t)}for(var n=[],r=e,i=this.length<e.length,a=i?r._private.map:this._private.map,o=i?this:r,s=0;s<o.length;s++){var l=o[s]._private.data.id,u=a.get(l);u&&n.push(u.ele)}return this.spawn(n)},xor:function(e){var t=this._private.cy;c.string(e)&&(e=t.$(e));var a=[],n=e,r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r._private.data.id;t.hasElementWithId(i)||a.push(r)}};return r(this,n),r(n,this),this.spawn(a)},diff:function(e){var t=this._private.cy;c.string(e)&&(e=t.$(e));var n=[],r=[],o=[],i=e,a=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r],a=i._private.data.id;t.hasElementWithId(a)?o.push(i):n.push(i)}};return a(this,i,n),a(i,this,r),{left:this.spawn(n,{unique:!0}),right:this.spawn(r,{unique:!0}),both:this.spawn(o,{unique:!0})}},add:function(e){var t=this._private.cy;if(!e)return this;if(c.string(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=[],i=0;i<this.length;i++)r.push(this[i]);for(var a=this._private.map,o=0;o<e.length;o++){var s=!a.has(e[o].id());s&&r.push(e[o])}return this.spawn(r)},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&c.string(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=t.map,a=0;a<e.length;a++){var o=e[a],s=o._private.data.id;if(!i.has(s)){var l=this.length++;this[l]=o,i.set(s,{ele:o,index:l})}else{var u=i.get(s).index;this[u]=o,i.set(s,{ele:o,index:u})}}return this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map,i=r.get(n);if(!i)return this;var a=i.index;this[a]=void 0,r.delete(n);var o=a===this.length-1;if(1<this.length&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[a]=l,r.set(u,{ele:l,index:a})}return this.length--,this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&c.string(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},map:function(e,t){for(var n=[],r=0;r<this.length;r++){var i=this[r],a=t?e.apply(t,[i,r,this]):e(i,r,this);n.push(a)}return n},reduce:function(e,t){for(var n=t,r=0;r<this.length;r++)n=e(n,this[r],r,this);return n},max:function(e,t){for(var n=-1/0,r=void 0,i=0;i<this.length;i++){var a=this[i],o=t?e.apply(t,[a,i,this]):e(a,i,this);n<o&&(n=o,r=a)}return{value:n,ele:r}},min:function(e,t){for(var n=1/0,r=void 0,i=0;i<this.length;i++){var a=this[i],o=t?e.apply(t,[a,i,this]):e(a,i,this);o<n&&(n=o,r=a)}return{value:n,ele:r}}},i=r;i.u=i["|"]=i["+"]=i.union=i.or=i.add,i["\\"]=i["!"]=i["-"]=i.difference=i.relativeComplement=i.subtract=i.not,i.n=i["&"]=i["."]=i.and=i.intersection=i.intersect,i["^"]=i["(+)"]=i["(-)"]=i.symmetricDifference=i.symdiff=i.xor,i.fnFilter=i.filterFn=i.stdFilter=i.filter,i.complement=i.abscomp=i.absoluteComplement,e.exports=r},function(e,t,n){e.exports={isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source().id()===this.target().id()},isSimple:function(){return this.isEdge()&&this.source().id()!==this.target().id()},group:function(){var e=this[0];if(e)return e._private.group}}},function(e,t,n){var i=n(0),r=n(17),s=n(1),a={forEach:function(e,t){if(i.fn(e))for(var n=0;n<this.length;n++){var r=this[n];if(!1===(t?e.apply(t,[r,n,this]):e(r,n,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var i=e;0<=i&&i<t&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!i.fn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(r)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:s.MAX_INT-1}var r=t.source,i=t.target,a=r.zDepth(),o=i.zDepth();return Math.max(a,o,0)}}};a.each=a.forEach,e.exports=a},function(e,t,n){var y=n(0),m=n(1),b=n(5),x=n(2),r={layoutDimensions:function(e){if((e=m.assign({nodeDimensionsIncludeLabels:!0},e)).nodeDimensionsIncludeLabels){var t=this.boundingBox();return{w:t.w,h:t.h}}return{w:this.outerWidth(),h:this.outerHeight()}},layoutPositions:function(e,c,t){var i=this.nodes(),n=this.cy(),r=c.eles,a=function(e,t){return e.id()+"$"+t},h=m.memoize(t,a);e.emit({type:"layoutstart",layout:e}),e.animations=[];var d=c.spacingFactor&&1!==c.spacingFactor,f=function(){if(!d)return null;for(var e=x.makeBoundingBox(),t=0;t<i.length;t++){var n=i[t],r=h(n,t);x.expandBoundingBoxByPoint(e,r.x,r.y)}return e}(),o=m.memoize(function(e,t){var n,r,i,a,o,s=h(e,t),l=e.position();if(y.number(l.x)&&y.number(l.y)||e.silentPosition({x:0,y:0}),d){var u=Math.abs(c.spacingFactor);n=u,i=s,a=(r=f).x1+r.w/2,o=r.y1+r.h/2,s={x:a+(i.x-a)*n,y:o+(i.y-o)*n}}return null!=c.transform&&(s=c.transform(e,s)),s},a);if(c.animate){for(var s=0;s<i.length;s++){var l=i[s],u=o(l,s);if(null==c.animateFilter||c.animateFilter(l,s)){var p=l.animation({position:u,duration:c.animationDuration,easing:c.animationEasing});e.animations.push(p),p.play()}else l.position(u)}if(c.fit){var v=n.animation({fit:{boundingBox:r.boundingBoxAt(o),padding:c.padding},duration:c.animationDuration,easing:c.animationEasing});e.animations.push(v),v.play()}else if(void 0!==c.zoom&&void 0!==c.pan){var g=n.animation({zoom:c.zoom,pan:c.pan,duration:c.animationDuration,easing:c.animationEasing});e.animations.push(g),g.play()}e.one("layoutready",c.ready),e.emit({type:"layoutready",layout:e}),b.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",c.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(o),c.fit&&n.fit(c.eles,c.padding),null!=c.zoom&&n.zoom(c.zoom),c.pan&&n.pan(c.pan),e.one("layoutready",c.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",c.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(m.extend({},e,{eles:this}))}};r.createLayout=r.makeLayout=r.layout,e.exports=r},function(e,t,n){var s=n(0);function i(e,t,n){var r,i=n._private,a=i.styleCache=i.styleCache||{};return null!=(r=a[e])?r:r=a[e]=t(n)}function r(t,n){return function(e){return i(t,n,e)}}function a(t,n){var r=function(e){return n.call(e)};return function(){var e=this[0];if(e)return i(t,r,e)}}var o={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(e){return e._private.styleCache={}};if(e.hasCompoundNodes()){var n=void 0;(n=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(n.connectedEdges()),n.forEach(t)}else this.forEach(function(e){t(e),e.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t._private.batchingStyle)return t._private.batchStyleEles.merge(this),this;var n=t.hasCompoundNodes(),r=t.style(),i=this;e=!(!e&&void 0!==e),n&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=r.apply(i);return a.dirtyStyleCache(),a.dirtyCompoundBoundsCache(),e?a.emitAndNotify("style"):a.emit("style"),this},updateMappers:function(e){var t=this._private.cy,n=t.style();if(e=!(!e&&void 0!==e),!t.styleEnabled())return this;var r=n.updateMappers(this);return r.dirtyStyleCache(),r.dirtyCompoundBoundsCache(),e?r.emitAndNotify("style"):r.emit("style"),this},parsedStyle:function(e){var t=this[0],n=t.cy();if(n.styleEnabled())return t?t._private.style[e]||n.style().getDefaultProperty(e):void 0},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(s.plainObject(e)){var i=e;r.applyBypass(this,i,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(s.string(e)){if(void 0===t){var a=this[0];return a?r.getStylePropertyValue(a,e):void 0}r.applyBypass(this,e,t,!1),this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?r.getRawStyle(o):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style();if(void 0===e)for(var r=0;r<this.length;r++){var i=this[r];n.removeAllBypasses(i,!1)}else{e=e.split(/\s+/);for(var a=0;a<this.length;a++){var o=this[a];n.removeBypasses(o,e,!1)}}return this.dirtyStyleCache(),this.dirtyCompoundBoundsCache(),this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!t)return i;var a=r.data.parent?n.parents():null;if(a)for(var o=0;o<a.length;o++){i*=a[o].pstyle("opacity").value}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function u(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++){if(!t(n[r]))return!1}return!0}function l(e){var o=e.ok,s=e.edgeOkViaNode||e.ok,l=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var t=this[0],n=e.hasCompoundNodes();if(t){var r=t._private;if(!o(t))return!1;if(t.isNode())return!n||u(t,l);var i=r.source,a=r.target;return s(i)&&(!n||u(i,s))&&(i===a||s(a)&&(!n||u(a,s)))}}}var c=r("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});o.takesUpSpace=a("takesUpSpace",l({ok:c}));var h=r("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&c(e)}),d=r("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&c(e)});o.interactive=a("interactive",l({ok:h,parentOk:d,edgeOkViaNode:c})),o.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var f=r("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&c(e)}),p=c;o.visible=a("visible",l({ok:f,edgeOkViaNode:p})),o.hidden=function(){var e=this[0];if(e)return!e.visible()},o.bypass=o.css=o.style,o.renderedCss=o.renderedStyle,o.removeBypass=o.removeCss=o.removeStyle,o.pstyle=o.parsedStyle,e.exports=o},function(e,t,n){var r={};function i(h){return function(){var e=arguments,t=[];if(2===e.length){var n=e[0],r=e[1];this.on(h.event,n,r)}else if(1===e.length){var i=e[0];this.on(h.event,i)}else if(0===e.length){for(var a=0;a<this.length;a++){var o=this[a],s=!h.ableField||o._private[h.ableField],l=o._private[h.field]!=h.value;if(h.overrideAble){var u=h.overrideAble(o);if(void 0!==u&&!(s=u))return this}s&&(o._private[h.field]=h.value,l&&t.push(o))}var c=this.spawn(t);c.updateStyle(),c.emit(h.event)}return this}}function a(n){r[n.field]=function(){var e=this[0];if(e){if(n.overrideField){var t=n.overrideField(e);if(void 0!==t)return t}return e._private[n.field]}},r[n.on]=i({event:n.on,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!0}),r[n.off]=i({event:n.off,field:n.field,ableField:n.ableField,overrideAble:n.overrideAble,value:!1})}a({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),a({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&void 0},on:"grabify",off:"ungrabify"}),a({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),a({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),r.deselect=r.unselect,r.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},a({field:"active",on:"activate",off:"unactivate"}),r.inactive=function(){var e=this[0];if(e)return!e._private.active},e.exports=r},function(e,t,n){var r=n(1),d=n(0),i={},a=function(c,h){return function(e,t,n,r){var i=e,a=void 0;if(null==i?a="null":d.elementOrCollection(i)&&1===i.length&&(a="#"+i.id()),1===this.length&&a){var o=this[0]._private,s=o.traversalCache=o.traversalCache||{},l=s[h]=s[h]||{},u=l[a];return u||(l[a]=c.call(this,e,t,n,r))}return c.call(this,e,t,n,r)}},o=function(c){return function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode()){for(var i=!1,a=r.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target();if(c.noIncomingEdges&&u===r&&l!==r||c.noOutgoingEdges&&l===r&&u!==r){i=!0;break}}i||t.push(r)}}return this.spawn(t,{unique:!0}).filter(e)}},s=function(u){return function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r.connectedEdges(),a=0;a<i.length;a++){var o=i[a],s=o.source(),l=o.target();u.outgoing&&s===r?(t.push(o),t.push(l)):u.incoming&&l===r&&(t.push(o),t.push(s))}}return this.spawn(t,{unique:!0}).filter(e)}},l=function(u){return function(e){for(var t=this,n=[],r={};;){var i=u.outgoing?t.outgoers():t.incomers();if(0===i.length)break;for(var a=!1,o=0;o<i.length;o++){var s=i[o],l=s.id();r[l]||(r[l]=!0,n.push(s),a=!0)}if(!a)break;t=i}return this.spawn(n,{unique:!0}).filter(e)}};function u(i){return function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n]._private[i.attr];r&&t.push(r)}return this.spawn(t,{unique:!0}).filter(e)}}function c(h){return function(e){var t=[],n=this._private.cy,r=h||{};d.string(e)&&(e=n.$(e));for(var i=0;i<e.length;i++)for(var a=e[i]._private.edges,o=0;o<a.length;o++){var s=a[o],l=s._private.data,u=this.hasElementWithId(l.source)&&e.hasElementWithId(l.target),c=e.hasElementWithId(l.source)&&this.hasElementWithId(l.target);if(u||c){if(r.thisIsSrc||r.thisIsTgt){if(r.thisIsSrc&&!u)continue;if(r.thisIsTgt&&!c)continue}t.push(s)}}return this.spawn(t,{unique:!0})}}function h(y){return y=r.extend({},{codirected:!1},y),function(e){for(var t=[],n=this.edges(),r=y,i=0;i<n.length;i++)for(var a=n[i]._private,o=a.source,s=o._private.data.id,l=a.data.target,u=o._private.edges,c=0;c<u.length;c++){var h=u[c],d=h._private.data,f=d.target,p=d.source,v=f===l&&p===s,g=s===f&&l===p;(r.codirected&&v||!r.codirected&&(v||g))&&t.push(h)}return this.spawn(t,{unique:!0}).filter(e)}}i.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},r.extend(i,{roots:o({noIncomingEdges:!0}),leaves:o({noOutgoingEdges:!0}),outgoers:a(s({outgoing:!0}),"outgoers"),successors:l({outgoing:!0}),incomers:a(s({incoming:!0}),"incomers"),predecessors:l({incoming:!0})}),r.extend(i,{neighborhood:a(function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],l=s.source(),u=s.target(),c=i===l?u:l;0<c.length&&t.push(c[0]),t.push(s[0])}return this.spawn(t,{unique:!0}).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),i.neighbourhood=i.neighborhood,i.closedNeighbourhood=i.closedNeighborhood,i.openNeighbourhood=i.openNeighborhood,r.extend(i,{source:a(function(e){var t=this[0],n=void 0;return t&&(n=t._private.source||t.cy().collection()),n&&e?n.filter(e):n},"source"),target:a(function(e){var t=this[0],n=void 0;return t&&(n=t._private.target||t.cy().collection()),n&&e?n.filter(e):n},"target"),sources:u({attr:"source"}),targets:u({attr:"target"})}),r.extend(i,{edgesWith:a(c(),"edgesWith"),edgesTo:a(c({thisIsSrc:!0}),"edgesTo")}),r.extend(i,{connectedEdges:a(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,a=0;a<i.length;a++){var o=i[a];t.push(o)}}return this.spawn(t,{unique:!0}).filter(e)},"connectedEdges"),connectedNodes:a(function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,{unique:!0}).filter(e)},"connectedNodes"),parallelEdges:a(h(),"parallelEdges"),codirectedEdges:a(h({codirected:!0}),"codirectedEdges")}),r.extend(i,{components:function(){var t=this,n=t.cy(),r=t.spawn(),i=t.nodes().spawnSelf(),o=[],s=function(e,t){r.merge(e),i.unmerge(e),t.merge(e)};if(i.empty())return t.spawn();for(var e=function(){var a=n.collection();o.push(a);var e=i[0];s(e,a),t.bfs({directed:!1,roots:e,visit:function(e,t,n,r,i){s(e,a)}})};e(),0<i.length;);return o.map(function(t){var e=t.connectedEdges().stdFilter(function(e){return t.anySame(e.source())&&t.anySame(e.target())});return t.union(e)})}}),e.exports=i},function(e,t,n){var g=n(0),y=n(1),m=n(7),b=n(14),r={add:function(e){var t=void 0;if(g.elementOrCollection(e)){var n=e;if(n._private.cy===this)t=n.restore();else{for(var r=[],i=0;i<n.length;i++){var a=n[i];r.push(a.json())}t=new m(this,r)}}else if(g.array(e)){t=new m(this,e)}else if(g.plainObject(e)&&(g.array(e.nodes)||g.array(e.edges))){for(var o=e,s=[],l=["nodes","edges"],u=0,c=l.length;u<c;u++){var h=l[u],d=o[h];if(g.array(d))for(var f=0,p=d.length;f<p;f++){var v=y.extend({group:h},d[f]);s.push(v)}}t=new m(this,s)}else{t=new b(this,e).collection()}return t},remove:function(e){if(g.elementOrCollection(e));else if(g.string(e)){var t=e;e=this.$(t)}return e.remove()}};e.exports=r},function(e,t,n){var r=n(4),i=n(1),a=n(71),o={animate:r.animate(),animation:r.animation(),animated:r.animated(),clearQueue:r.clearQueue(),delay:r.delay(),delayAnimation:r.delayAnimation(),stop:r.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var n=this;if(n._private.animationsRunning=!0,n.styleEnabled()){var e=n.renderer();e&&e.beforeRender?e.beforeRender(function(e,t){a(t,n)},e.beforeRenderPriorities.animations):function t(){n._private.animationsRunning&&i.requestAnimationFrame(function(e){a(e,n),t()})}()}}};e.exports=o},function(e,t,n){var p=n(72),v=n(77);e.exports=function(d,e){var t=e._private.aniEles,f=[];function n(e,t){var n=e._private,r=n.animation.current,i=n.animation.queue,a=!1;if(!t&&"none"===e.pstyle("display").value){r=r.splice(0,r.length).concat(i.splice(0,i.length));for(var o=0;o<r.length;o++)r[o].stop()}if(0===r.length){var s=i.shift();s&&r.push(s)}for(var l=function(e){for(var t=e.length-1;0<=t;t--)(0,e[t])();e.splice(0,e.length)},u=r.length-1;0<=u;u--){var c=r[u],h=c._private;h.stopped?(r.splice(u,1),h.hooked=!1,h.playing=!1,h.started=!1,l(h.frames)):(h.playing||h.applying)&&(h.playing&&h.applying&&(h.applying=!1),h.started||v(e,c,d,t),p(e,c,d,t),h.applying&&(h.applying=!1),l(h.frames),c.completed()&&(r.splice(u,1),h.hooked=!1,h.playing=!1,h.started=!1,l(h.completes)),a=!0)}return t||0!==r.length||0!==i.length||f.push(e),a}for(var r=!1,i=0;i<t.length;i++){var a=n(t[i]);r=r||a}var o=n(e,!0);(r||o)&&(0<t.length?(t.dirtyCompoundBoundsCache(),e.notify({type:"draw",eles:t})):e.notify({type:"draw"})),t.unmerge(f),e.emit("step")}},function(e,t,n){var M=n(73),R=n(76),B=n(0);function D(e,t){return null!=e&&null!=t&&(!(!B.number(e)||!B.number(t))||!(!e||!t))}e.exports=function(e,t,n,r){var i=!r,a=e._private,o=t._private,s=o.easing,l=o.startTime,u=(r?e:e.cy()).style();if(!o.easingImpl)if(null==s)o.easingImpl=M.linear;else{var c=void 0;c=B.string(s)?u.parse("transition-timing-function",s).value:s;var h=void 0,d=void 0;0<(d=B.string(c)?(h=c,[]):(h=c[1],c.slice(2).map(function(e){return+e}))).length?("spring"===h&&d.push(o.duration),o.easingImpl=M[h].apply(null,d)):o.easingImpl=M[h]}var f=o.easingImpl,p=void 0;if(p=0===o.duration?1:(n-l)/o.duration,o.applying&&(p=o.progress),p<0?p=0:1<p&&(p=1),null==o.delay){var v=o.startPosition,g=o.position;if(g&&i&&!e.locked()){var y=e.position();D(v.x,g.x)&&(y.x=R(v.x,g.x,p,f)),D(v.y,g.y)&&(y.y=R(v.y,g.y,p,f)),e.emit("position")}var m=o.startPan,b=o.pan,x=a.pan,w=null!=b&&r;w&&(D(m.x,b.x)&&(x.x=R(m.x,b.x,p,f)),D(m.y,b.y)&&(x.y=R(m.y,b.y,p,f)),e.emit("pan"));var _=o.startZoom,E=o.zoom,C=null!=E&&r;C&&(D(_,E)&&(a.zoom=R(_,E,p,f)),e.emit("zoom")),(w||C)&&e.emit("viewport");var k=o.style;if(k&&0<k.length&&i){for(var T=0;T<k.length;T++){var P=k[T],A=P.name,N=P,S=o.startStyle[A],O=u.properties[S.name],I=R(S,N,p,f,O);u.overrideBypass(e,A,I)}e.emit("style")}}return o.progress=p}},function(e,t,n){var a=n(74),i=n(75),r=function(e,t,n,r){var i=a(e,t,n,r);return function(e,t,n){return e+(t-e)*i(n)}},o={linear:function(e,t,n){return e+(t-e)*n},ease:r(.25,.1,.25,1),"ease-in":r(.42,0,1,1),"ease-out":r(0,0,.58,1),"ease-in-out":r(.42,0,.58,1),"ease-in-sine":r(.47,0,.745,.715),"ease-out-sine":r(.39,.575,.565,1),"ease-in-out-sine":r(.445,.05,.55,.95),"ease-in-quad":r(.55,.085,.68,.53),"ease-out-quad":r(.25,.46,.45,.94),"ease-in-out-quad":r(.455,.03,.515,.955),"ease-in-cubic":r(.55,.055,.675,.19),"ease-out-cubic":r(.215,.61,.355,1),"ease-in-out-cubic":r(.645,.045,.355,1),"ease-in-quart":r(.895,.03,.685,.22),"ease-out-quart":r(.165,.84,.44,1),"ease-in-out-quart":r(.77,0,.175,1),"ease-in-quint":r(.755,.05,.855,.06),"ease-out-quint":r(.23,1,.32,1),"ease-in-out-quint":r(.86,0,.07,1),"ease-in-expo":r(.95,.05,.795,.035),"ease-out-expo":r(.19,1,.22,1),"ease-in-out-expo":r(1,0,0,1),"ease-in-circ":r(.6,.04,.98,.335),"ease-out-circ":r(.075,.82,.165,1),"ease-in-out-circ":r(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return o.linear;var r=i(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":r};e.exports=o},function(e,t,n){e.exports=function(o,t,s,n){var l=4,u=1e-7,c=10,h=11,d=1/(h-1),e="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var r=0;r<4;++r)if("number"!=typeof arguments[r]||isNaN(arguments[r])||!isFinite(arguments[r]))return!1;o=Math.min(o,1),s=Math.min(s,1),o=Math.max(o,0),s=Math.max(s,0);var f=e?new Float32Array(h):new Array(h);function i(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function p(e){return 3*e}function v(e,t,n){return((i(t,n)*e+a(t,n))*e+p(t))*e}function g(e,t,n){return 3*i(t,n)*e*e+2*a(t,n)*e+p(t)}function y(e){for(var t=0,n=1,r=h-1;n!==r&&f[n]<=e;++n)t+=d;var i=t+(e-f[--n])/(f[n+1]-f[n])*d,a=g(i,o,s);return.001<=a?function(e,t){for(var n=0;n<l;++n){var r=g(t,o,s);if(0===r)return t;t-=(v(t,o,s)-e)/r}return t}(e,i):0===a?i:function(e,t,n){for(var r=void 0,i=void 0,a=0;0<(r=v(i=t+(n-t)/2,o,s)-e)?n=i:t=i,Math.abs(r)>u&&++a<c;);return i}(e,t,t+d)}var m=!1;function b(){m=!0,o===t&&s===n||function(){for(var e=0;e<h;++e)f[e]=v(e*d,o,s)}()}var x=function(e){return m||b(),o===t&&s===n?e:0===e?0:1===e?1:v(y(e),t,n)};x.getControlPoints=function(){return[{x:o,y:t},{x:s,y:n}]};var w="generateBezier("+[o,t,s,n]+")";return x.toString=function(){return w},x}},function(e,t,n){var r=function(){function m(e){return-e.tension*e.x-e.friction*e.v}function b(e,t,n){var r={x:e.x+n.dx*t,v:e.v+n.dv*t,tension:e.tension,friction:e.friction};return{dx:r.v,dv:m(r)}}return function e(t,n,r){var i,a,o,s,l,u,c,h,d,f={x:-1,v:0,tension:null,friction:null},p=[0],v=0,g=void 0,y=void 0;for(t=parseFloat(t)||500,n=parseFloat(n)||20,r=r||null,f.tension=t,f.friction=n,g=(i=null!==r)?(v=e(t,n))/r*.016:.016;o=g,void 0,s={dx:(a=y||f).v,dv:m(a)},l=b(a,.5*o,s),u=b(a,.5*o,l),c=b(a,o,u),h=1/6*(s.dx+2*(l.dx+u.dx)+c.dx),d=1/6*(s.dv+2*(l.dv+u.dv)+c.dv),a.x=a.x+h*o,a.v=a.v+d*o,y=a,p.push(1+y.x),v+=16,1e-4<Math.abs(y.x)&&1e-4<Math.abs(y.v););return i?function(e){return p[e*(p.length-1)|0]}:v}}();e.exports=r},function(e,t,n){var f=n(0);function p(e,t,n,r,i){if(1===r)return n;var a=i(t,n,r);return null==e||((e.roundValue||e.color)&&(a=Math.round(a)),void 0!==e.min&&(a=Math.max(a,e.min)),void 0!==e.max&&(a=Math.min(a,e.max))),a}function v(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}e.exports=function(e,t,n,r,i){var a=null!=i?i.type:null;n<0?n=0:1<n&&(n=1);var o=v(e,i),s=v(t,i);if(f.number(o)&&f.number(s))return p(a,o,s,n,r);if(f.array(o)&&f.array(s)){for(var l=[],u=0;u<s.length;u++){var c=o[u],h=s[u];if(null!=c&&null!=h){var d=p(a,c,h,n,r);l.push(d)}else l.push(h)}return l}}},function(e,t,n){e.exports=function(e,t,n,r){var i=!r,a=e,o=t._private,s=r?e:e.cy(),l=s.style();if(i){var u=a.position();o.startPosition=o.startPosition||{x:u.x,y:u.y},o.startStyle=o.startStyle||l.getAnimationStartStyle(a,o.style)}if(r){var c=s._private.pan;o.startPan=o.startPan||{x:c.x,y:c.y},o.startZoom=null!=o.startZoom?o.startZoom:s._private.zoom}o.started=!0,o.startTime=n-o.progress*o.duration}},function(e,t,n){var r=n(11),i=n(4),a=n(0),o=n(1),s=n(6),l={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&a.element(n.target)&&r.matches(n.target)},eventFields:function(e){return{cy:e,target:e}},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},u=function(e){return a.string(e)?new s(e):e},c={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new r(o.assign({context:this},l))),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,u(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,u(t),n),this},one:function(e,t,n){return this.emitter().one(e,u(t),n),this},once:function(e,t,n){return this.emitter().one(e,u(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this}};i.eventAliasesOn(c),e.exports=c},function(e,t,n){var r={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};r.jpeg=r.jpg,e.exports=r},function(e,t,n){var a=n(1),o=n(0),r={layout:function(e){if(null!=e)if(null!=e.name){var t=e.name,n=this.extension("layout",t);if(null!=n){var r=void 0;r=o.string(e.eles)?this.$(e.eles):null!=e.eles?e.eles:this.$();var i=new n(a.extend({},e,{cy:this,eles:r}));return i}a.error("Can not apply layout: No such layout `"+t+"` found; did you include its JS file?")}else a.error("A `name` must be specified to make a layout");else a.error("Layout options must be specified to make a layout")}};r.createLayout=r.makeLayout=r.layout,e.exports=r},function(e,t,n){var r={notify:function(e){var t=this._private;if(t.batchingNotify){var n=t.batchNotifyEles,r=t.batchNotifyTypes;return e.eles&&n.merge(e.eles),void(r.ids[e.type]||(r.push(e.type),r.ids[e.type]=!0))}if(t.notificationsEnabled){var i=this.renderer();!this.isDestroyed()&&i&&i.notify(e)}},notifications:function(e){var t=this._private;if(void 0===e)return t.notificationsEnabled;t.notificationsEnabled=!!e},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return 0<this._private.batchCount},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchingStyle=e.batchingNotify=!0,e.batchStyleEles=this.collection(),e.batchNotifyEles=this.collection(),e.batchNotifyTypes=[],e.batchNotifyTypes.ids={}),e.batchCount++,this},endBatch:function(){var e=this._private;return e.batchCount--,0===e.batchCount&&(e.batchingStyle=!1,e.batchStyleEles.updateStyle(),e.batchingNotify=!1,this.notify({type:e.batchNotifyTypes,eles:e.batchNotifyEles})),this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(i){var a=this;return this.batch(function(){for(var e=Object.keys(i),t=0;t<e.length;t++){var n=e[t],r=i[n];a.getElementById(n).data(r)}})}};e.exports=r},function(e,t,n){var r=n(1),i={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify({type:"draw"}),this},resize:function(){return this.invalidateSize(),this.notify({type:"resize"}),this.emit("resize"),this},initRenderer:function(e){var t=this.extension("renderer",e.name);null!=t?(this._private.renderer=new t(r.extend({},e,{cy:this})),this.notify({type:"init"})):r.error("Can not initialise: No such renderer `%s` found; did you include its JS file?",e.name)},destroyRenderer:function(){this.notify({type:"destroy"});var e=this.container();if(e)for(e._cyreg=null;0<e.childNodes.length;)e.removeChild(e.childNodes[0]);this._private.renderer=null},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};i.invalidateDimensions=i.resize,e.exports=i},function(e,t,n){var r=n(0),i=n(7),a={collection:function(e,t){return r.string(e)?this.$(e):r.elementOrCollection(e)?e.collection():r.array(e)?new i(this,e,t):new i(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};a.elements=a.filter=a.$,e.exports=a},function(e,t,n){var r=n(0),i=n(18),a={style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(e){var t=this._private;return r.stylesheet(e)?t.style=e.generateStyle(this):r.array(e)?t.style=i.fromJson(this,e):r.string(e)?t.style=i.fromString(this,e):t.style=i(this),t.style}};e.exports=a},function(e,t,n){var R=n(1),B=n(0),m=n(5),r={apply:function(e){var t=this._private,n=t.cy.collection();t.newStyle&&(t.contextStyles={},t.propDiffs={},this.cleanElements(e,!0));for(var r=0;r<e.length;r++){var i=e[r],a=this.getContextMeta(i);if(!a.empty){n.merge(i);var o=this.getContextStyle(a),s=this.applyContextStyle(a,o,i);t.newStyle||this.updateTransitions(i,s.diffProps),this.updateStyleHints(i)}}return t.newStyle=!1,n},getPropertiesDiff:function(e,t){var n=this._private.propDiffs=this._private.propDiffs||{},r=e+"-"+t,i=n[r];if(i)return i;for(var a=[],o={},s=0;s<this.length;s++){var l=this[s],u="t"===e[s]!==("t"===t[s]),c=0<l.mappedProperties.length;if(u||c){var h=void 0;u&&c?h=l.properties:u?h=l.properties:c&&(h=l.mappedProperties);for(var d=0;d<h.length;d++){for(var f=h[d],p=f.name,v=!1,g=s+1;g<this.length;g++){var y=this[g];if("t"===t[g]&&(v=null!=y.properties[f.name]))break}o[p]||v||(o[p]=!0,a.push(p))}}}return n[r]=a},getContextMeta:function(e){var t,n="",r=e._private.styleCxtKey||"";this._private.newStyle&&(r="");for(var i=0;i<this.length;i++){var a=this[i];n+=a.selector&&a.selector.matches(e)?"t":"f"}return t=this.getPropertiesDiff(r,n),{key:e._private.styleCxtKey=n,diffPropNames:t,empty:0===t.length}},getContextStyle:function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},i=0;i<this.length;i++){var a=this[i];if("t"===t[i])for(var o=0;o<a.properties.length;o++){var s=a.properties[o];r[s.name]=s}}return n[t]=r},applyContextStyle:function(e,t,n){for(var r=e.diffPropNames,i={},a=0;a<r.length;a++){var o=r[a],s=t[o],l=n.pstyle(o);if(!s){if(!l)continue;s=l.bypass?{name:o,deleteBypassed:!0}:{name:o,delete:!0}}if(l!==s){var u=i[o]={prev:l};this.applyParsedProperty(n,s),u.next=n.pstyle(o),u.next&&u.next.bypass&&(u.next=u.next.bypassed)}}return{diffProps:i}},updateStyleHints:function(e){var t=e._private;if(!e.removed()){var n=!1;if("nodes"===t.group)for(var r=1;r<=this.pieBackgroundN;r++){if(0<e.pstyle("pie-"+r+"-background-size").value){n=!0;break}}t.hasPie=n;var i=e.pstyle("text-transform").strValue,a=e.pstyle("label").strValue,o=e.pstyle("source-label").strValue,s=e.pstyle("target-label").strValue,l=e.pstyle("font-style").strValue,u=e.pstyle("font-size").pfValue+"px",c=e.pstyle("font-family").strValue,h=e.pstyle("font-weight").strValue,d=l+"$"+u+"$"+c+"$"+h+"$"+i+"$"+e.pstyle("text-valign").strValue+"$"+e.pstyle("text-valign").strValue+"$"+e.pstyle("text-outline-width").pfValue+"$"+e.pstyle("text-wrap").strValue+"$"+e.pstyle("text-max-width").pfValue;t.labelStyleKey=d,t.sourceLabelKey=d+"$"+o,t.targetLabelKey=d+"$"+s,t.labelKey=d+"$"+a,t.fontKey=l+"$"+h+"$"+u+"$"+c,t.styleKey=Date.now()}},applyParsedProperty:function(e,t){var n=this,r=t,i=e._private.style,a=void 0,o=n.types,s=n.properties[r.name].type,l=r.bypass,u=i[r.name],c=u&&u.bypass,h=e._private,d="mapping",f=function(){n.checkZOrderTrigger(e,r.name,u?u.value:null,r.value)};if("curve-style"===t.name&&"haystack"===t.value&&e.isEdge()&&(e.isLoop()||e.source().isParent()||e.target().isParent())&&(r=t=this.parse(t.name,"bezier",l)),r.delete)return i[r.name]=void 0,f(),!0;if(r.deleteBypassed)return u?!!u.bypass&&(u.bypassed=void 0,f(),!0):(f(),!0);if(r.deleteBypass)return u?!!u.bypass&&(i[r.name]=u.bypassed,f(),!0):(f(),!0);var p=function(){R.error("Do not assign mappings to elements without corresponding data (e.g. ele `"+e.id()+"` for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case o.mapData:for(var v=r.field.split("."),g=h.data,y=0;y<v.length&&g;y++){g=g[v[y]]}var m=void 0;if((m=B.number(g)?(g-r.fieldMin)/(r.fieldMax-r.fieldMin):0)<0?m=0:1<m&&(m=1),s.color){var b=r.valueMin[0],x=r.valueMax[0],w=r.valueMin[1],_=r.valueMax[1],E=r.valueMin[2],C=r.valueMax[2],k=null==r.valueMin[3]?1:r.valueMin[3],T=null==r.valueMax[3]?1:r.valueMax[3],P=[Math.round(b+(x-b)*m),Math.round(w+(_-w)*m),Math.round(E+(C-E)*m),Math.round(k+(T-k)*m)];a={bypass:r.bypass,name:r.name,value:P,strValue:"rgb("+P[0]+", "+P[1]+", "+P[2]+")"}}else{if(!s.number)return!1;var A=r.valueMin+(r.valueMax-r.valueMin)*m;a=this.parse(r.name,A,r.bypass,d)}a||(a=this.parse(r.name,u.strValue,r.bypass,d)),a||p(),a.mapping=r,r=a;break;case o.data:var N=r.field.split("."),S=h.data;if(S)for(var O=0;O<N.length;O++){S=S[N[O]]}if(!(a=this.parse(r.name,S,r.bypass,d))){var I=u?u.strValue:"";a=this.parse(r.name,I,r.bypass,d)}a||p(),a.mapping=r,r=a;break;case o.fn:var M=(0,r.value)(e);(a=this.parse(r.name,M,r.bypass,d)).mapping=r,r=a;break;case void 0:break;default:return!1}return l?(r.bypassed=c?u.bypassed:u,i[r.name]=r):c?u.bypassed=r:i[r.name]=r,f(),!0},cleanElements:function(e,t){for(var n=this.properties,r=0;r<e.length;r++){var i=e[r];if(t)for(var a=i._private.style,o=0;o<n.length;o++){var s=n[o],l=a[s.name];l&&(l.bypass?l.bypassed=null:a[s.name]=null)}else i._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateMappers:function(e){for(var t=this._private.cy.collection(),n=0;n<e.length;n++){for(var r=e[n],i=r._private.style,a=!1,o=0;o<this.properties.length;o++){var s=i[this.properties[o].name];if(s&&s.mapping){var l=s.mapping;this.applyParsedProperty(r,l),a=!0}}a&&(this.updateStyleHints(r),t.merge(r))}return t},updateTransitions:function(t,e,n){var r=this,i=t._private,a=t.pstyle("transition-property").value,o=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(0<a.length&&0<o){for(var l={},u=!1,c=0;c<a.length;c++){var h=a[c],d=t.pstyle(h),f=e[h];if(f){var p=f.prev,v=null!=f.next?f.next:d,g=!1,y=void 0;p&&(B.number(p.pfValue)&&B.number(v.pfValue)?(g=v.pfValue-p.pfValue,y=p.pfValue+1e-6*g):B.number(p.value)&&B.number(v.value)?(g=v.value-p.value,y=p.value+1e-6*g):B.array(p.value)&&B.array(v.value)&&(g=p.value[0]!==v.value[0]||p.value[1]!==v.value[1]||p.value[2]!==v.value[2],y=p.strValue),g&&(l[h]=v.strValue,this.applyBypass(t,h,y),u=!0))}}if(!u)return;i.transitioning=!0,new m(function(e){0<s?t.delayAnimation(s).play().promise().then(e):e()}).then(function(){return t.animation({style:l,duration:o,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),i.transitioning=!1})}else i.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),i.transitioning=!1)},checkZOrderTrigger:function(e,t,n,r){var i=this.properties[t];null==i.triggersZOrder||null!=n&&!i.triggersZOrder(n,r)||this._private.cy.notify({type:"zorder",eles:e})}};e.exports=r},function(e,t,n){var E=n(0),C=n(1),r={applyBypass:function(e,t,n,r){var i=[];if("*"===t||"**"===t){if(void 0!==n)for(var a=0;a<this.properties.length;a++){var o=this.properties[a].name,s=this.parse(o,n,!0);s&&i.push(s)}}else if(E.string(t)){var l=this.parse(t,n,!0);l&&i.push(l)}else{if(!E.plainObject(t))return!1;var u=t;r=n;for(var c=Object.keys(u),h=0;h<c.length;h++){var d=c[h],f=(this.properties[d],u[d]);if(void 0===f&&(f=u[C.dash2camel(d)]),void 0!==f){var p=this.parse(d,f,!0);p&&i.push(p)}}}if(0===i.length)return!1;for(var v=!1,g=0;g<e.length;g++){for(var y=e[g],m={},b=void 0,x=0;x<i.length;x++){var w=i[x];if(r){var _=y.pstyle(w.name);b=m[w.name]={prev:_}}v=this.applyParsedProperty(y,w)||v,r&&(b.next=y.pstyle(w.name))}v&&this.updateStyleHints(y),r&&this.updateTransitions(y,m,!0)}return v},overrideBypass:function(e,t,n){t=C.camel2dash(t);for(var r=0;r<e.length;r++){var i=e[r],a=i._private.style[t],o=this.properties[t].type,s=o.color,l=o.mutiple;if(a&&a.bypass){var u=null!=a.pfValue?a.pfValue:a.value;a.value=n,null!=a.pfValue&&(a.pfValue=n),a.strValue=s?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.checkZOrderTrigger(i,t,u,n)}else this.applyBypass(i,t,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var i=e[r],a={},o=0;o<t.length;o++){var s=t[o],l=this.properties[s],u=i.pstyle(l.name);if(u&&u.bypass){var c=this.parse(s,"",!0),h=a[l.name]={prev:u};this.applyParsedProperty(i,c),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,a,!0)}}};e.exports=r},function(e,t,n){var r=n(3),i={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(r&&t&&r.getComputedStyle)return r.getComputedStyle(t).getPropertyValue(e)}};e.exports=i},function(e,t,n){var c=n(1),o=n(0),r={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){if(e=e[0]){for(var n={},r=0;r<this.properties.length;r++){var i=this.properties[r],a=this.getStylePropertyValue(e,i.name,t);null!=a&&(n[i.name]=a,n[c.dash2camel(i.name)]=a)}return n}},getIndexedStyle:function(e,t,n,r){var i=e.pstyle(t)[n][r];return null!=i?i:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var i=r.type,a=e.pstyle(r.name),o=e.cy().zoom();if(a){var s=a.units?i.implicitUnits||"px":null;return s?[].concat(a.pfValue).map(function(e){return e*(n?o:1)+s}).join(" "):a.strValue}}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r].name,a=e.pstyle(i);void 0!==a&&(a=o.plainObject(a)?this.parse(i,a.strValue):this.parse(i,a)),a&&(n[i]=a)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o],l=r[o]||r[c.camel2dash(o)],u=this.parse(l.name,s);u&&t.push(u)}return t}};e.exports=r},function(e,t,n){var r={appendFromJson:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.selector,i=n.style||n.css,a=Object.keys(i);this.selector(r);for(var o=0;o<a.length;o++){var s=a[o],l=i[s];this.css(s,l)}}return this},fromJson:function(e){return this.resetToDefault(),this.appendFromJson(e),this},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:a})}return e}};e.exports=r},function(e,t,n){var y=n(1),m=n(6),r={appendFromString:function(e){var t=""+e,n=void 0,r=void 0,i=void 0;function a(){t=t.length>n.length?t.substr(n.length):""}function o(){r=r.length>i.length?r.substr(i.length):""}for(t=t.replace(/[/][*](\s|.)+?[*][/]/g,"");;){if(t.match(/^\s*$/))break;var s=t.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!s){y.error("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+t);break}n=s[0];var l=s[1];if("core"!==l)if(new m(l)._private.invalid){y.error("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),a();continue}var u=s[2],c=!1;r=u;for(var h=[];;){if(r.match(/^\s*$/))break;var d=r.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!d){y.error("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+u),c=!0;break}i=d[0];var f=d[1],p=d[2];if(this.properties[f])this.parse(f,p)?h.push({name:f,val:p}):y.error("Skipping property: Invalid property definition in: "+i),o();else y.error("Skipping property: Invalid property name in: "+i),o()}if(c){a();break}this.selector(l);for(var v=0;v<h.length;v++){var g=h[v];this.css(g.name,g.val)}a()}return this},fromString:function(e){return this.resetToDefault(),this.appendFromString(e),this}};e.exports=r},function(e,t,n){var x=n(1),w=n(0),_={};!function(){var n=x.regex.number,r=x.regex.rgbaNoBackRefs,i=x.regex.hslaNoBackRefs,a=x.regex.hex3,o=x.regex.hex6,e=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},t=function(e){var t=n+"|\\w+|"+r+"|"+i+"|"+a+"|"+o;return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+n+")\\s*\\,\\s*("+n+")\\s*,\\s*("+t+")\\s*\\,\\s*("+t+")\\)$"},s=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];_.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"]},color:{color:!0},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontletiant:{enums:["small-caps","normal"]},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textBackgroundShape:{enums:["rectangle","roundrectangle"]},nodeShape:{enums:["rectangle","roundrectangle","cutrectangle","bottomroundrectangle","barrel","ellipse","triangle","square","pentagon","hexagon","concavehexagon","heptagon","octagon","tag","star","diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","triangle-cross","triangle-backcurve","half-triangle-overshot","vee","square","circle","diamond","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},text:{string:!0},data:{mapping:!0,regex:e("data")},layoutData:{mapping:!0,regex:e("layoutData")},scratch:{mapping:!0,regex:e("scratch")},mapData:{mapping:!0,regex:t("mapData")},mapLayoutData:{mapping:!0,regex:t("mapLayoutData")},mapScratch:{mapping:!0,regex:t("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-line"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return w.string(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*,\\s*("+n+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]}};var l={zeroNonZero:function(e,t){return 0===e&&0!==t||0!==e&&0===t},anyDiff:function(e,t){return e!==t}},u=_.types,c=_.properties=[{name:"label",type:u.text},{name:"text-rotation",type:u.textRotation},{name:"text-margin-x",type:u.bidirectionalSize},{name:"text-margin-y",type:u.bidirectionalSize},{name:"source-label",type:u.text},{name:"source-text-rotation",type:u.textRotation},{name:"source-text-margin-x",type:u.bidirectionalSize},{name:"source-text-margin-y",type:u.bidirectionalSize},{name:"source-text-offset",type:u.size},{name:"target-label",type:u.text},{name:"target-text-rotation",type:u.textRotation},{name:"target-text-margin-x",type:u.bidirectionalSize},{name:"target-text-margin-y",type:u.bidirectionalSize},{name:"target-text-offset",type:u.size},{name:"text-valign",type:u.valign},{name:"text-halign",type:u.halign},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-width",type:u.size},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size},{name:"text-border-style",type:u.borderStyle},{name:"text-background-shape",type:u.textBackgroundShape},{name:"text-transform",type:u.textTransform},{name:"text-wrap",type:u.textWrap},{name:"text-max-width",type:u.size},{name:"text-events",type:u.bool},{name:"font-family",type:u.fontFamily},{name:"font-style",type:u.fontStyle},{name:"font-weight",type:u.fontWeight},{name:"font-size",type:u.size},{name:"min-zoomed-font-size",type:u.size},{name:"events",type:u.bool},{name:"display",type:u.display,triggersZOrder:l.anyDiff},{name:"visibility",type:u.visibility,triggersZOrder:l.anyDiff},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.anyDiff},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.anyDiff},{name:"z-index",type:u.nonNegativeInt,triggersZOrder:l.anyDiff},{name:"overlay-padding",type:u.size},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber},{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing},{name:"height",type:u.nodeSize},{name:"width",type:u.nodeSize},{name:"shape",type:u.nodeShape},{name:"shape-polygon-points",type:u.polygonPointList},{name:"background-color",type:u.color},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"padding",type:u.sizeMaybePercent},{name:"padding-relative-to",type:u.paddingRelativeTo},{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size},{name:"border-style",type:u.borderStyle},{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"position",type:u.position},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels},{name:"min-width",type:u.size},{name:"min-width-bias-left",type:u.sizeMaybePercent},{name:"min-width-bias-right",type:u.sizeMaybePercent},{name:"min-height",type:u.size},{name:"min-height-bias-top",type:u.sizeMaybePercent},{name:"min-height-bias-bottom",type:u.sizeMaybePercent},{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"curve-style",type:u.curveStyle},{name:"haystack-radius",type:u.zeroOneNumber},{name:"source-endpoint",type:u.edgeEndpoint},{name:"target-endpoint",type:u.edgeEndpoint},{name:"control-point-step-size",type:u.size},{name:"control-point-distances",type:u.bidirectionalSizes},{name:"control-point-weights",type:u.numbers},{name:"segment-distances",type:u.bidirectionalSizes},{name:"segment-weights",type:u.numbers},{name:"edge-distances",type:u.edgeDistances},{name:"arrow-scale",type:u.positiveNumber},{name:"loop-direction",type:u.angle},{name:"loop-sweep",type:u.angle},{name:"source-distance-from-node",type:u.size},{name:"target-distance-from-node",type:u.size},{name:"ghost",type:u.bool},{name:"ghost-offset-x",type:u.bidirectionalSize},{name:"ghost-offset-y",type:u.bidirectionalSize},{name:"ghost-opacity",type:u.zeroOneNumber},{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],h=_.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];_.pieBackgroundN=16,c.push({name:"pie-size",type:u.sizeMaybePercent});for(var d=1;d<=_.pieBackgroundN;d++)c.push({name:"pie-"+d+"-background-color",type:u.color}),c.push({name:"pie-"+d+"-background-size",type:u.percent}),c.push({name:"pie-"+d+"-background-opacity",type:u.zeroOneNumber});var f=_.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill}].forEach(function(r){f.forEach(function(e){var t=e+"-"+r.name,n=r.type;c.push({name:t,type:n})})},{}),_.propertyNames=c.map(function(e){return e.name});for(var p=0;p<c.length;p++){var v=c[p];c[v.name]=v}for(var g=0;g<h.length;g++){var y=h[g],m=c[y.pointsTo],b={name:y.name,alias:!0,pointsTo:m};c.push(b),c[y.name]=b}}(),_.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},_.getDefaultProperties=x.memoize(function(){for(var e=x.extend({events:"yes","text-events":"no","text-valign":"top","text-halign":"center",color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var n=1;n<=_.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),i=t.value;e[r]=i}return e},{}),{"line-style":"solid","line-color":"#999","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"edge-distances":"intersection","curve-style":"bezier","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node"},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(r,i){return _.arrowPrefixes.forEach(function(e){var t=e+"-"+i.name,n=i.value;r[t]=n}),r},{})),t={},n=0;n<this.properties.length;n++){var r=this.properties[n];if(!r.pointsTo){var i=r.name,a=e[i],o=this.parse(i,a);t[i]=o}}return t}),_.addDefaultStylesheet=function(){this.selector("$node > node").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3,"curve-style":"haystack"}).selector(":parent <-> node").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector("node:parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}).selector("core").css({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125}),this.defaultLength=this.length},e.exports=_},function(e,t,n){var $=n(1),V=n(0),F=n(2),r={parse:function(e,t,n,r){if(V.fn(t))return this.parseImplWarn(e,t,n,r);var i=[e,t,n,"mapping"===r||!0===r||!1===r||null==r?"dontcare":r].join("$"),a=this.propCache=this.propCache||{},o=void 0;return(o=a[i])||(o=a[i]=this.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(o=$.copy(o))&&(o.value=$.copy(o.value)),o},parseImplWarn:function(e,t,n,r){var i=this.parseImpl(e,t,n,r);return i||null==t||$.error("The style property `%s: %s` is invalid",e,t),i},parseImpl:function(t,n,r,e){t=$.camel2dash(t);var i=this.properties[t],a=n,o=this.types;if(!i)return null;if(void 0===n)return null;i.alias&&(i=i.pointsTo,t=i.name);var s=V.string(n);s&&(n=n.trim());var l=i.type;if(!l)return null;if(r&&(""===n||null===n))return{name:t,value:n,bypass:!0,deleteBypass:!0};if(V.fn(n))return{name:t,value:n,strValue:"fn",mapped:o.fn,bypass:r};var u=void 0,c=void 0;if(!s||e);else{if(u=new RegExp(o.data.regex).exec(n)){if(r)return!1;var h=o.data;return{name:t,value:u,strValue:""+n,mapped:h,field:u[1],bypass:r}}if(c=new RegExp(o.mapData.regex).exec(n)){if(r)return!1;if(l.multiple)return!1;var d=o.mapData;if(!l.color&&!l.number)return!1;var f=this.parse(t,c[4]);if(!f||f.mapped)return!1;var p=this.parse(t,c[5]);if(!p||p.mapped)return!1;if(f.value===p.value)return!1;if(l.color){var v=f.value,g=p.value;if(!(v[0]!==g[0]||v[1]!==g[1]||v[2]!==g[2]||v[3]!==g[3]&&(null!=v[3]&&1!==v[3]||null!=g[3]&&1!==g[3])))return!1}return{name:t,value:c,strValue:""+n,mapped:d,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:f.value,valueMax:p.value,bypass:r}}}if(l.multiple&&"multiple"!==e){var y=void 0;if(y=s?n.split(/\s+/):V.array(n)?n:[n],l.evenMultiple&&y.length%2!=0)return null;for(var m=[],b=[],x=[],w=!1,_=0;_<y.length;_++){var E=this.parse(t,y[_],r,"multiple");w=w||V.string(E.value),m.push(E.value),x.push(null!=E.pfValue?E.pfValue:E.value),b.push(E.units)}return l.validate&&!l.validate(m,b)?null:l.singleEnum&&w?1===m.length&&V.string(m[0])?{name:t,value:m[0],strValue:m[0],bypass:r}:null:{name:t,value:m,pfValue:x,strValue:m.map(function(e,t){return e+(b[t]||"")}).join(" "),bypass:r,units:b}}var C=function(){for(var e=0;e<l.enums.length;e++){if(l.enums[e]===n)return{name:t,value:n,strValue:""+n,bypass:r}}return null};if(l.number){var k=void 0,T="px";if(l.units&&(k=l.units),l.implicitUnits&&(T=l.implicitUnits),!l.unitless)if(s){var P="px|em"+(l.allowPercent?"|\\%":"");k&&(P=k);var A=n.match("^("+$.regex.number+")("+P+")?$");A&&(n=A[1],k=A[2]||T)}else k&&!l.implicitUnits||(k=T);if(n=parseFloat(n),isNaN(n)&&void 0===l.enums)return null;if(isNaN(n)&&void 0!==l.enums)return n=a,C();if(l.integer&&!V.integer(n))return null;if(void 0!==l.min&&(n<l.min||l.strictMin&&n===l.min)||void 0!==l.max&&(n>l.max||l.strictMax&&n===l.max))return null;var N={name:t,value:n,strValue:""+n+(k||""),units:k,bypass:r};return l.unitless||"px"!==k&&"em"!==k?N.pfValue=n:N.pfValue="px"!==k&&k?this.getEmSizeInPixels()*n:n,"ms"!==k&&"s"!==k||(N.pfValue="ms"===k?n:1e3*n),"deg"!==k&&"rad"!==k||(N.pfValue="rad"===k?n:F.deg2rad(n)),"%"===k&&(N.pfValue=n/100),N}if(l.propList){var S=[],O=""+n;if("none"===O);else{for(var I=O.split(","),M=0;M<I.length;M++){var R=I[M].trim();this.properties[R]&&S.push(R)}if(0===S.length)return null}return{name:t,value:S,strValue:0===S.length?"none":S.join(", "),bypass:r}}if(l.color){var B=$.color2tuple(n);return B?{name:t,value:B,pfValue:B,strValue:""+n,bypass:r}:null}if(l.regex||l.regexes){if(l.enums){var D=C();if(D)return D}for(var L=l.regexes?l.regexes:[l.regex],j=0;j<L.length;j++){var z=new RegExp(L[j]).exec(n);if(z)return{name:t,value:l.singleRegexMatchValue?z[1]:z,strValue:""+n,bypass:r}}return null}return l.string?{name:t,value:""+n,strValue:""+n,bypass:r}:l.enums?C():null}};e.exports=r},function(e,t,n){var c=n(0),i=n(3),h=n(2),r={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e=arguments,t=this._private.pan,n=void 0,r=void 0,i=void 0,a=void 0,o=void 0;switch(e.length){case 0:return t;case 1:if(c.string(e[0]))return t[n=e[0]];if(c.plainObject(e[0])){if(!this._private.panningEnabled)return this;a=(i=e[0]).x,o=i.y,c.number(a)&&(t.x=a),c.number(o)&&(t.y=o),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],r=e[1],"x"!==n&&"y"!==n||!c.number(r)||(t[n]=r),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},panBy:function(e,t){var n=arguments,r=this._private.pan,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0;if(!this._private.panningEnabled)return this;switch(n.length){case 1:c.plainObject(e)&&(s=(o=n[0]).x,l=o.y,c.number(s)&&(r.x+=s),c.number(l)&&(r.y+=l),this.emit("pan viewport"));break;case 2:a=t,"x"!==(i=e)&&"y"!==i||!c.number(a)||(r[i]+=a),this.emit("pan viewport")}return this.notify({type:"viewport"}),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify({type:"viewport"})}return this},getFitViewport:function(e,t){if(c.number(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n=void 0;if(c.string(e)){var r=e;e=this.$(r)}else if(c.boundingBox(e)){var i=e;(n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else c.elementOrCollection(e)||(e=this.mutableElements());if(!c.elementOrCollection(e)||!e.empty()){n=n||e.boundingBox();var a=this.width(),o=this.height(),s=void 0;if(t=c.number(t)?t:0,!isNaN(a)&&!isNaN(o)&&0<a&&0<o&&!isNaN(n.w)&&!isNaN(n.h)&&0<n.w&&0<n.h)return{zoom:s=(s=(s=Math.min((a-2*t)/n.w,(o-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:s)<this._private.minZoom?this._private.minZoom:s,pan:{x:(a-s*(n.x1+n.x2))/2,y:(o-s*(n.y1+n.y2))/2}}}}},minZoom:function(e){return void 0===e?this._private.minZoom:(c.number(e)&&(this._private.minZoom=e),this)},maxZoom:function(e){return void 0===e?this._private.maxZoom:(c.number(e)&&(this._private.maxZoom=e),this)},getZoomedViewport:function(e){var t=this._private,n=t.pan,r=t.zoom,i=void 0,a=void 0,o=!1;if(t.zoomingEnabled||(o=!0),c.number(e)?a=e:c.plainObject(e)&&(a=e.level,null!=e.position?i=h.modelToRenderedPosition(e.position,r,n):null!=e.renderedPosition&&(i=e.renderedPosition),null==i||t.panningEnabled||(o=!0)),a=(a=a>t.maxZoom?t.maxZoom:a)<t.minZoom?t.minZoom:a,o||!c.number(a)||a===r||null!=i&&(!c.number(i.x)||!c.number(i.y)))return null;if(null==i)return{zoomed:!0,panned:!1,zoom:a,pan:n};var s=n,l=r,u=a;return{zoomed:!0,panned:!0,zoom:u,pan:{x:-u/l*(i.x-s.x)+i.x,y:-u/l*(i.y-s.y)+i.y}}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed&&(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify({type:"viewport"})),this},viewport:function(e){var t=this._private,n=!0,r=!0,i=[],a=!1,o=!1;if(!e)return this;if(c.number(e.zoom)||(n=!1),c.plainObject(e.pan)||(r=!1),!n&&!r)return this;if(n){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=s,i.push("zoom"))}if(r&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;c.number(l.x)&&(t.pan.x=l.x,o=!1),c.number(l.y)&&(t.pan.y=l.y,o=!1),o||i.push("pan")}return 0<i.length&&(i.push("viewport"),this.emit(i.join(" ")),this.notify({type:"viewport"})),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify({type:"viewport"})),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(c.string(e)){var n=e;e=this.mutableElements().filter(n)}else c.elementOrCollection(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),i=this.width(),a=this.height();return{x:(i-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(a-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled&&this.viewport({pan:{x:0,y:0},zoom:1}),this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t,e,n=this._private,r=n.container;return n.sizeCache=n.sizeCache||(r?(t=i.getComputedStyle(r),e=function(e){return parseFloat(t.getPropertyValue(e))},{width:r.clientWidth-e("padding-left")-e("padding-right"),height:r.clientHeight-e("padding-top")-e("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};r.centre=r.center,r.autolockNodes=r.autolock,r.autoungrabifyNodes=r.autoungrabify,e.exports=r},function(e,t,n){var w=n(1),_=n(4),E=n(7),C=n(12),r=n(95),k=n(0),T=n(11),P={},a={};function i(t,n,r){var e=r,i=function(e){w.error("Can not register `"+n+"` for `"+t+"` since `"+e+"` already exists in the prototype and can not be overridden")};if("core"===t){if(C.prototype[n])return i(n);C.prototype[n]=r}else if("collection"===t){if(E.prototype[n])return i(n);E.prototype[n]=r}else if("layout"===t){for(var a=function(e){this.options=e,r.call(this,e),k.plainObject(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=r.prototype.stop;o.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var h=function(e){return e._private.cy};w.assign(o,{createEmitter:function(){return this._private.emitter=new T({eventFields:function(e){return{layout:e,cy:h(e),target:e}},bubble:function(){return!0},parent:function(e){return h(e)},context:this}),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),_.eventAliasesOn(o),e=a}else if("renderer"===t&&"null"!==n&&"base"!==n){var d=A("renderer","base"),f=d.prototype,p=r,v=r.prototype,g=function(){d.apply(this,arguments),p.apply(this,arguments)},y=g.prototype;for(var m in f){var b=f[m];if(null!=v[m])return i(m);y[m]=b}for(var x in v)y[x]=v[x];f.clientFunctions.forEach(function(e){y[e]=y[e]||function(){w.error("Renderer does not implement `renderer."+e+"()` on its prototype")}}),e=g}return w.setMap({map:P,keys:[t,n],value:e})}function A(e,t){return w.getMap({map:P,keys:[e,t]})}var o=function(){return 2===arguments.length?A.apply(null,arguments):3===arguments.length?i.apply(null,arguments):4===arguments.length?function(e,t,n,r){return w.getMap({map:a,keys:[e,t,n,r]})}.apply(null,arguments):5===arguments.length?function(e,t,n,r,i){return w.setMap({map:a,keys:[e,t,n,r],value:i})}.apply(null,arguments):void w.error("Invalid extension access syntax")};C.prototype.extension=o,r.forEach(function(t){t.extensions.forEach(function(e){i(t.type,e.name,e.impl)})}),e.exports=o},function(e,t,n){e.exports=[{type:"layout",extensions:n(96)},{type:"renderer",extensions:n(105)}]},function(e,t,n){e.exports=[{name:"breadthfirst",impl:n(97)},{name:"circle",impl:n(98)},{name:"concentric",impl:n(99)},{name:"cose",impl:n(100)},{name:"grid",impl:n(101)},{name:"null",impl:n(102)},{name:"preset",impl:n(103)},{name:"random",impl:n(104)}]},function(e,t,n){var r=n(1),ye=n(2),me=n(0),i={fit:!0,directed:!1,padding:30,circle:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximalAdjustments:0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function a(e){this.options=r.extend({},i,e)}a.prototype.run=function(){var e=this.options,d=e,t=e.cy,n=d.eles,c=n.nodes().not(":parent"),r=n,f=ye.makeBoundingBox(d.boundingBox?d.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),i=void 0;if(me.elementOrCollection(d.roots))i=d.roots;else if(me.array(d.roots)){for(var a=[],o=0;o<d.roots.length;o++){var s=d.roots[o],l=t.getElementById(s);a.push(l)}i=t.collection(a)}else if(me.string(d.roots))i=t.$(d.roots);else if(d.directed)i=c.roots();else{for(var u=[],h=c,p=function(){var a=t.collection();n.bfs({roots:h[0],visit:function(e,t,n,r,i){a=a.add(e)},directed:!1}),h=h.not(a),u.push(a)};0<h.length;)p();i=t.collection();for(var v=function(e){var t=u[e],n=t.maxDegree(!1),r=t.filter(function(e){return e.degree(!1)===n});i=i.add(r)},g=0;g<u.length;g++)v(g)}var y=[],m={},b={},x={},w={},_={};r.bfs({roots:i,directed:d.directed,visit:function(e,t,n,r,i){var a=e[0],o=a.id();if(y[i]||(y[i]=[]),y[i].push(a),m[o]=!0,b[o]=i,x[o]=n,w[o]=t,n){var s=n.id();(_[s]=_[s]||[]).push(e)}}});for(var E=[],C=0;C<c.length;C++){var k=c[C];m[k.id()]||E.push(k)}for(var T=3*E.length,P=0;0!==E.length&&P<T;){for(var A=E.shift(),N=A.neighborhood().nodes(),S=!1,O=0;O<N.length;O++){var I=b[N[O].id()];if(void 0!==I){y[I].push(A),S=!0;break}}S||E.push(A),P++}for(;0!==E.length;){var M=E.shift();0===y.length&&y.push([]),y[0].push(M)}var R=function(){for(var e=0;e<y.length;e++)for(var t=y[e],n=0;n<t.length;n++){var r=t[n];null!=r?r._private.scratch.breadthfirst={depth:e,index:n}:(t.splice(n,1),n--)}};R();for(var B=function(t){for(var e=t.connectedEdges(function(e){return e.data("target")===t.id()}),n=t._private.scratch.breadthfirst,r=0,i=void 0,a=0;a<e.length;a++){var o=e[a].source()[0],s=o._private.scratch.breadthfirst;n.depth<=s.depth&&r<s.depth&&(r=s.depth,i=o)}return i},D=0;D<d.maximalAdjustments;D++){for(var L=y.length,j=[],z=0;z<L;z++)for(var $=y[z],V=$.length,F=0;F<V;F++){var q=$[F],H=q._private.scratch.breadthfirst,X=B(q);X&&(H.intEle=X,j.push(q))}for(var Y=0;Y<j.length;Y++){var U=j[Y],W=U._private.scratch.breadthfirst,G=W.intEle._private.scratch.breadthfirst;y[W.depth][W.index]=null;for(var Z=G.depth+1;Z>y.length-1;)y.push([]);y[Z].push(U),W.depth=Z,W.index=y[Z].length-1}R()}var Q=0;if(d.avoidOverlap)for(var K=0;K<c.length;K++){var J=c[K].layoutDimensions(d),ee=J.w,te=J.h;Q=Math.max(Q,ee,te)}for(var ne={},re=function(e){if(ne[e.id()])return ne[e.id()];for(var t=e._private.scratch.breadthfirst.depth,n=e.neighborhood().nodes().not(":parent").intersection(c),r=0,i=0,a=0;a<n.length;a++){var o=n[a]._private.scratch.breadthfirst,s=o.index,l=o.depth,u=y[l].length;(l<t||0===t)&&(r+=s/u,i++)}return r/=i=Math.max(1,i),0===i&&(r=void 0),ne[e.id()]=r},ie=function(e,t){return re(e)-re(t)},ae=0;ae<3;ae++){for(var oe=0;oe<y.length;oe++)y[oe]=y[oe].sort(ie);R()}for(var se=0,le=0;le<y.length;le++)se=Math.max(y[le].length,se);for(var ue=f.x1+f.w/2,ce=f.x1+f.h/2,he=function(e,t){var n=e._private.scratch.breadthfirst,r=n.depth,i=n.index,a=y[r].length,o=Math.max(f.w/(a+1),Q),s=Math.max(f.h/(y.length+1),Q),l=Math.min(f.w/2/y.length,f.h/2/y.length);if(l=Math.max(l,Q),d.circle){if(d.circle){var u=l*r+l-(0<y.length&&y[0].length<=3?l/2:0),c=2*Math.PI/y[r].length*i;return 0===r&&1===y[0].length&&(u=1),{x:ue+u*Math.cos(c),y:ce+u*Math.sin(c)}}return{x:ue+(i+1-(a+1)/2)*o,y:(r+1)*s}}var h={x:ue+(i+1-(a+1)/2)*o,y:(r+1)*s};return h},de={},fe=y.length-1;0<=fe;fe--)for(var pe=y[fe],ve=0;ve<pe.length;ve++){var ge=pe[ve];de[ge.id()]=he(ge,y.length)}return c.layoutPositions(this,d,function(e){return de[e.id()]}),this},e.exports=a},function(e,t,n){var r=n(1),b=n(2),x=n(0),i={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function a(e){this.options=r.extend({},i,e)}a.prototype.run=function(){var e=this.options,a=e,t=e.cy,n=a.eles,o=void 0!==a.counterclockwise?!a.counterclockwise:a.clockwise,r=n.nodes().not(":parent");a.sort&&(r=r.sort(a.sort));for(var i=b.makeBoundingBox(a.boundingBox?a.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s=i.x1+i.w/2,l=i.y1+i.h/2,u=(void 0===a.sweep?2*Math.PI-2*Math.PI/r.length:a.sweep)/Math.max(1,r.length-1),c=void 0,h=0,d=0;d<r.length;d++){var f=r[d].layoutDimensions(a),p=f.w,v=f.h;h=Math.max(h,p,v)}if(c=x.number(a.radius)?a.radius:r.length<=1?0:Math.min(i.h,i.w)/2-h,1<r.length&&a.avoidOverlap){h*=1.75;var g=Math.cos(u)-Math.cos(0),y=Math.sin(u)-Math.sin(0),m=Math.sqrt(h*h/(g*g+y*y));c=Math.max(m,c)}return r.layoutPositions(this,a,function(e,t){var n=a.startAngle+t*u*(o?1:-1),r=c*Math.cos(n),i=c*Math.sin(n);return{x:s+r,y:l+i}}),this},e.exports=a},function(e,t,n){var r=n(1),Y=n(2),i={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function a(e){this.options=r.extend({},i,e)}a.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles.nodes().not(":parent"),a=Y.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),o=a.x1+a.w/2,s=a.y1+a.h/2,l=[],u=(t.startAngle,0),c=0;c<i.length;c++){var h,d=i[c];h=t.concentric(d),l.push({value:h,node:d}),d._private.scratch.concentric=h}i.updateStyle();for(var f=0;f<i.length;f++){var p=i[f].layoutDimensions(t);u=Math.max(u,p.w,p.h)}l.sort(function(e,t){return t.value-e.value});for(var v=t.levelWidth(i),g=[[]],y=g[0],m=0;m<l.length;m++){var b=l[m];if(0<y.length)v<=Math.abs(y[0].value-b.value)&&(y=[],g.push(y));y.push(b)}var x=u+t.minNodeSpacing;if(!t.avoidOverlap){var w=0<g.length&&1<g[0].length,_=(Math.min(a.w,a.h)/2-x)/(g.length+w?1:0);x=Math.min(x,_)}for(var E=0,C=0;C<g.length;C++){var k=g[C],T=void 0===t.sweep?2*Math.PI-2*Math.PI/k.length:t.sweep,P=k.dTheta=T/Math.max(1,k.length-1);if(1<k.length&&t.avoidOverlap){var A=Math.cos(P)-Math.cos(0),N=Math.sin(P)-Math.sin(0),S=Math.sqrt(x*x/(A*A+N*N));E=Math.max(S,E)}k.r=E,E+=x}if(t.equidistant){for(var O=0,I=0,M=0;M<g.length;M++){var R=g[M].r-I;O=Math.max(O,R)}for(var B=I=0;B<g.length;B++){var D=g[B];0===B&&(I=D.r),D.r=I,I+=O}}for(var L={},j=0;j<g.length;j++)for(var z=g[j],$=z.dTheta,V=z.r,F=0;F<z.length;F++){var q=z[F],H=t.startAngle+(n?1:-1)*$*F,X={x:o+V*Math.cos(H),y:s+V*Math.sin(H)};L[q.node.id()]=X}return i.layoutPositions(this,t,function(e){var t=e.id();return L[t]}),this},e.exports=a},function(e,t,n){var c,h=n(1),M=n(2),R=n(0),d=n(5),r={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1,weaver:!1};function i(e){this.options=h.extend({},r,e),this.options.layout=this}i.prototype.run=function(){var t=this.options,n=t.cy,e=this,r=this.thread,i=t.weaver?t.weaver.Thread:null,x={listeners:[],on:function(e,t){return this.listeners.push({event:e,callback:t}),this},trigger:function(t){R.string(t)&&(t={type:t});var e=function(e){e.callback(t)};return this.listeners.filter(function(e){return e.event===t.type}).forEach(e),this},pass:function(e){return this.pass=e,this},run:function(t){var n=this.pass;return new d(function(e){e(t(n))})},stop:function(){return this},stopped:function(){return!0}};r&&!r.stopped()||(r=this.thread=i?new i:x),!(e.stopped=!1)!==t.animate&&!1!==t.animate||e.emit({type:"layoutstart",layout:e}),c=!0===t.debug;var a=f(n,e,t);c&&p(a),t.randomize&&v(a,n);var o=Date.now(),s=!1,l=function(e){e=e||{},s&&!e.next||!e.force&&Date.now()-o<t.animationThreshold||(s=!0,h.requestAnimationFrame(function(){g(a,n,t),!0===t.fit&&n.fit(t.padding),s=!1,e.next&&e.next()}))};r.on("message",function(e){var t=e.message;a.layoutNodes=t,l()}),r.pass({layoutInfo:a,options:{animate:t.animate,refresh:t.refresh,componentSpacing:t.componentSpacing,nodeOverlap:t.nodeOverlap,nestingFactor:t.nestingFactor,gravity:t.gravity,numIter:t.numIter,initialTemp:t.initialTemp,coolingFactor:t.coolingFactor,minTemp:t.minTemp}}).run(function(e){var t,n,g=e.layoutInfo,r=e.options,i=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,a=0;a<i;a++)for(var o=e.layoutNodes[e.idToIndex[r[a]]],s=a+1;s<i;s++){var l=e.layoutNodes[e.idToIndex[r[s]]];u(o,l,e,t)}},y=function(e){return-e+2*e*Math.random()},u=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var i=t.positionX-e.positionX,a=t.positionY-e.positionY;0===i&&0===a&&(i=y(1),a=y(1));var o=m(e,t,i,a);if(0<o)var s=(u=r.nodeOverlap*o)*i/(v=Math.sqrt(i*i+a*a)),l=u*a/v;else{var u,c=b(e,i,a),h=b(t,-1*i,-1*a),d=h.x-c.x,f=h.y-c.y,p=d*d+f*f,v=Math.sqrt(p);s=(u=(e.nodeRepulsion+t.nodeRepulsion)/p)*d/v,l=u*f/v}e.isLocked||(e.offsetX-=s,e.offsetY-=l),t.isLocked||(t.offsetX+=s,t.offsetY+=l)}},m=function(e,t,n,r){if(0<n)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(0<r)var a=e.maxY-t.minY;else a=t.maxY-e.minY;return 0<=i&&0<=a?Math.sqrt(i*i+a*a):0},b=function(e,t,n){var r=e.positionX,i=e.positionY,a=e.height||1,o=e.width||1,s=n/t,l=a/o,u={};return 0===t&&0<n?(u.x=r,u.y=i+a/2):0===t&&n<0?(u.x=r,u.y=i+a/2):0<t&&-1*l<=s&&s<=l?(u.x=r+o/2,u.y=i+o*n/2/t):t<0&&-1*l<=s&&s<=l?(u.x=r-o/2,u.y=i-o*n/2/t):0<n&&(s<=-1*l||l<=s)?(u.x=r+a*t/2/n,u.y=i+a/2):n<0&&(s<=-1*l||l<=s)&&(u.x=r-a*t/2/n,u.y=i-a/2),u},a=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],i=e.idToIndex[r.sourceId],a=e.layoutNodes[i],o=e.idToIndex[r.targetId],s=e.layoutNodes[o],l=s.positionX-a.positionX,u=s.positionY-a.positionY;if(0!==l||0!==u){var c=b(a,l,u),h=b(s,-1*l,-1*u),d=h.x-c.x,f=h.y-c.y,p=Math.sqrt(d*d+f*f),v=Math.pow(r.idealLength-p,2)/r.elasticity;if(0!==p)var g=v*d/p,y=v*f/p;else g=0,y=0;a.isLocked||(a.offsetX+=g,a.offsetY+=y),s.isLocked||(s.offsetX-=g,s.offsetY-=y)}}},o=function(e,t){for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],i=r.length;if(0===n)var a=e.clientHeight/2,o=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[r[0]]],l=e.layoutNodes[e.idToIndex[s.parentId]];a=l.positionX,o=l.positionY}for(var u=0;u<i;u++){var c=e.layoutNodes[e.idToIndex[r[u]]];if(!c.isLocked){var h=a-c.positionX,d=o-c.positionY,f=Math.sqrt(h*h+d*d);if(1<f){var p=t.gravity*h/f,v=t.gravity*d/f;c.offsetX+=p,c.offsetY+=v}}}}},s=function(e,t){var n=[],r=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;r<=i;){var a=n[r++],o=e.idToIndex[a],s=e.layoutNodes[o],l=s.children;if(0<l.length&&!s.isLocked){for(var u=s.offsetX,c=s.offsetY,h=0;h<l.length;h++){var d=e.layoutNodes[e.idToIndex[l[h]]];d.offsetX+=u,d.offsetY+=c,n[++i]=l[h]}s.offsetX=0,s.offsetY=0}}},l=function(e,t){for(var n=0;n<e.nodeSize;n++){0<(i=e.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(i=e.layoutNodes[n]).children.length||i.isLocked)){var r=c(i.offsetX,i.offsetY,e.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,h(i,e)}}for(n=0;n<e.nodeSize;n++){var i;0<(i=e.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},c=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(n<r)var i={x:n*e/r,y:n*t/r};else i={x:e,y:t};return i},h=function e(t,n){var r=t.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],a=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,a=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,a=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,a=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,a=!0),a?e(i,n):void 0}},d=function(e){var t,n;return i(t=g,n=r),a(t,n),o(t,n),s(t,n),l(t,n),g.temperature=g.temperature*r.coolingFactor,!(g.temperature<r.minTemp)},f=0;do{for(var p=0;p<r.refresh&&f<r.numIter;){var v;if(!(v=d()))break;p++,f++}!0===r.animate&&(t=g.layoutNodes,void 0,n={type:"message",message:t},x.trigger(n))}while(v&&f+1<r.numIter);return function(e,t){for(var n=g.layoutNodes,r=[],i=0;i<n.length;i++){var a=n[i],o=a.cmptId;(r[o]=r[o]||[]).push(a)}var s=0;for(i=0;i<r.length;i++)if(v=r[i]){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var l=0;l<v.length;l++){var u=v[l];v.x1=Math.min(v.x1,u.positionX-u.width/2),v.x2=Math.max(v.x2,u.positionX+u.width/2),v.y1=Math.min(v.y1,u.positionY-u.height/2),v.y2=Math.max(v.y2,u.positionY+u.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,s+=v.w*v.h}r.sort(function(e,t){return t.w*t.h-e.w*e.h});var c=0,h=0,d=0,f=0,p=Math.sqrt(s)*g.clientWidth/g.clientHeight;for(i=0;i<r.length;i++){var v;if(v=r[i]){for(l=0;l<v.length;l++)(u=v[l]).isLocked||(u.positionX+=c,u.positionY+=h);c+=v.w+t.componentSpacing,d+=v.w+t.componentSpacing,f=Math.max(f,v.h),p<d&&(h+=f+t.componentSpacing,f=d=c=0)}}}(0,r),g}).then(function(e){a.layoutNodes=e.layoutNodes,r.stop(),u()});var u=function(){!0===t.animate||!1===t.animate?l({force:!0,next:function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})}}):t.eles.nodes().layoutPositions(e,t,function(e){var t=a.layoutNodes[a.idToIndex[e.data("id")]];return{x:t.positionX,y:t.positionY}})};return this},i.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},i.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var f=function(e,t,n){for(var r=n.eles.edges(),i=n.eles.nodes(),a={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:M.makeBoundingBox(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},o=n.eles.components(),s={},l=0;l<o.length;l++)for(var u=o[l],c=0;c<u.length;c++){s[u[c].id()]=l}for(l=0;l<a.nodeSize;l++){var h=(g=i[l]).layoutDimensions(n);(I={}).isLocked=g.locked(),I.id=g.data("id"),I.parentId=g.data("parent"),I.cmptId=s[g.id()],I.children=[],I.positionX=g.position("x"),I.positionY=g.position("y"),I.offsetX=0,I.offsetY=0,I.height=h.w,I.width=h.h,I.maxX=I.positionX+I.width/2,I.minX=I.positionX-I.width/2,I.maxY=I.positionY+I.height/2,I.minY=I.positionY-I.height/2,I.padLeft=parseFloat(g.style("padding")),I.padRight=parseFloat(g.style("padding")),I.padTop=parseFloat(g.style("padding")),I.padBottom=parseFloat(g.style("padding")),I.nodeRepulsion=R.fn(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,a.layoutNodes.push(I),a.idToIndex[I.id]=l}var d=[],f=0,p=-1,v=[];for(l=0;l<a.nodeSize;l++){var g,y=(g=a.layoutNodes[l]).parentId;null!=y?a.layoutNodes[a.idToIndex[y]].children.push(g.id):(d[++p]=g.id,v.push(g.id))}for(a.graphSet.push(v);f<=p;){var m=d[f++],b=a.idToIndex[m],x=a.layoutNodes[b].children;if(0<x.length){a.graphSet.push(x);for(l=0;l<x.length;l++)d[++p]=x[l]}}for(l=0;l<a.graphSet.length;l++){var w=a.graphSet[l];for(c=0;c<w.length;c++){var _=a.idToIndex[w[c]];a.indexToGraph[_]=l}}for(l=0;l<a.edgeSize;l++){var E=r[l],C={};C.id=E.data("id"),C.sourceId=E.data("source"),C.targetId=E.data("target");var k=R.fn(n.idealEdgeLength)?n.idealEdgeLength(E):n.idealEdgeLength,T=R.fn(n.edgeElasticity)?n.edgeElasticity(E):n.edgeElasticity,P=a.idToIndex[C.sourceId],A=a.idToIndex[C.targetId];if(a.indexToGraph[P]!=a.indexToGraph[A]){for(var N=B(C.sourceId,C.targetId,a),S=a.graphSet[N],O=0,I=a.layoutNodes[P];-1===S.indexOf(I.id);)I=a.layoutNodes[a.idToIndex[I.parentId]],O++;for(I=a.layoutNodes[A];-1===S.indexOf(I.id);)I=a.layoutNodes[a.idToIndex[I.parentId]],O++;k*=O*n.nestingFactor}C.idealLength=k,C.elasticity=T,a.layoutEdges.push(C)}return a},B=function(e,t,n){var r=a(e,t,0,n);return r.count<2?0:r.graph},a=function e(t,n,r,i){var a=i.graphSet[r];if(-1<a.indexOf(t)&&-1<a.indexOf(n))return{count:2,graph:r};for(var o=0,s=0;s<a.length;s++){var l=a[s],u=i.idToIndex[l],c=i.layoutNodes[u].children;if(0!==c.length){var h=e(t,n,i.indexToGraph[i.idToIndex[c[0]]],i);if(0!==h.count){if(1!==h.count)return h;if(2===++o)break}}}return{count:o,graph:r}},p=function(e){if(c){console.debug("layoutNodes:");for(var t=0;t<e.nodeSize;t++){var n=e.layoutNodes[t],r="\nindex: "+t+"\nId: "+n.id+"\nChildren: "+n.children.toString()+"\nparentId: "+n.parentId+"\npositionX: "+n.positionX+"\npositionY: "+n.positionY+"\nOffsetX: "+n.offsetX+"\nOffsetY: "+n.offsetY+"\npadLeft: "+n.padLeft+"\npadRight: "+n.padRight+"\npadTop: "+n.padTop+"\npadBottom: "+n.padBottom;console.debug(r)}for(var t in console.debug("idToIndex"),e.idToIndex)console.debug("Id: "+t+"\nIndex: "+e.idToIndex[t]);console.debug("Graph Set");var i=e.graphSet;for(t=0;t<i.length;t++)console.debug("Set : "+t+": "+i[t].toString());for(r="IndexToGraph",t=0;t<e.indexToGraph.length;t++)r+="\nIndex : "+t+" Graph: "+e.indexToGraph[t];console.debug(r),r="Layout Edges";for(t=0;t<e.layoutEdges.length;t++){var a=e.layoutEdges[t];r+="\nEdge Index: "+t+" ID: "+a.id+" SouceID: "+a.sourceId+" TargetId: "+a.targetId+" Ideal Length: "+a.idealLength}console.debug(r),r="nodeSize: "+e.nodeSize,r+="\nedgeSize: "+e.edgeSize,r+="\ntemperature: "+e.temperature,console.debug(r)}},v=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];0!==a.children.length||a.isLocked||(a.positionX=Math.random()*n,a.positionY=Math.random()*r)}},g=function(a,e,o){var t=o.layout,n=o.eles.nodes(),s=a.boundingBox,l={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};o.boundingBox&&(n.forEach(function(e){var t=a.layoutNodes[a.idToIndex[e.data("id")]];l.x1=Math.min(l.x1,t.positionX),l.x2=Math.max(l.x2,t.positionX),l.y1=Math.min(l.y1,t.positionY),l.y2=Math.max(l.y2,t.positionY)}),l.w=l.x2-l.x1,l.h=l.y2-l.y1),n.positions(function(e,t){var n=a.layoutNodes[a.idToIndex[e.data("id")]];if(o.boundingBox){var r=(n.positionX-l.x1)/l.w,i=(n.positionY-l.y1)/l.h;return{x:s.x1+r*s.w,y:s.y1+i*s.h}}return{x:n.positionX,y:n.positionY}}),!0!==a.ready&&(a.ready=!0,t.one("layoutready",o.ready),t.emit({type:"layoutready",layout:this}))};e.exports=i},function(e,t,n){var r=n(1),L=n(2),i={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function a(e){this.options=r.extend({},i,e)}a.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles.nodes().not(":parent");t.sort&&(r=r.sort(t.sort));var a=L.makeBoundingBox(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===a.h||0===a.w)r.layoutPositions(this,t,function(e){return{x:a.x1,y:a.y1}});else{var i=r.size(),o=Math.sqrt(i*a.h/a.w),s=Math.round(o),l=Math.round(a.w/a.h*o),u=function(e){if(null==e)return Math.min(s,l);Math.min(s,l)==s?s=e:l=e},c=function(e){if(null==e)return Math.max(s,l);Math.max(s,l)==s?s=e:l=e},h=t.rows,d=null!=t.cols?t.cols:t.columns;if(null!=h&&null!=d)s=h,l=d;else if(null!=h&&null==d)s=h,l=Math.ceil(i/s);else if(null==h&&null!=d)l=d,s=Math.ceil(i/l);else if(i<l*s){var f=u(),p=c();i<=(f-1)*p?u(f-1):i<=(p-1)*f&&c(p-1)}else for(;l*s<i;){var v=u(),g=c();i<=(g+1)*v?c(g+1):u(v+1)}var y=a.w/l,m=a.h/s;if(t.condense&&(m=y=0),t.avoidOverlap)for(var b=0;b<r.length;b++){var x=r[b],w=x._private.position;null!=w.x&&null!=w.y||(w.x=0,w.y=0);var _=x.layoutDimensions(t),E=t.avoidOverlapPadding,C=_.w+E,k=_.h+E;y=Math.max(y,C),m=Math.max(m,k)}for(var T={},P=function(e,t){return!!T["c-"+e+"-"+t]},A=function(e,t){T["c-"+e+"-"+t]=!0},N=0,S=0,O=function(){l<=++S&&(S=0,N++)},I={},M=0;M<r.length;M++){var R=r[M],B=t.position(R);if(B&&(void 0!==B.row||void 0!==B.col)){var D={row:B.row,col:B.col};if(void 0===D.col)for(D.col=0;P(D.row,D.col);)D.col++;else if(void 0===D.row)for(D.row=0;P(D.row,D.col);)D.row++;I[R.id()]=D,A(D.row,D.col)}}r.layoutPositions(this,t,function(e,t){var n=void 0,r=void 0;if(e.locked()||e.isParent())return!1;var i=I[e.id()];if(i)n=i.col*y+y/2+a.x1,r=i.row*m+m/2+a.y1;else{for(;P(N,S);)O();n=S*y+y/2+a.x1,r=N*m+m/2+a.y1,A(N,S),O()}return{x:n,y:r}})}return this},e.exports=a},function(e,t,n){var r=n(1),i={ready:function(){},stop:function(){}};function a(e){this.options=r.extend({},i,e)}a.prototype.run=function(){var e=this.options,t=e.eles;e.cy;return this.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),this.one("layoutready",e.ready),this.emit("layoutready"),this.one("layoutstop",e.stop),this.emit("layoutstop"),this},a.prototype.stop=function(){return this},e.exports=a},function(e,t,n){var r=n(1),a=n(0),i={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function o(e){this.options=r.extend({},i,e)}o.prototype.run=function(){var r=this.options,e=r.eles.nodes(),i=a.fn(r.positions);return e.layoutPositions(this,r,function(e,t){var n=function(e){if(null==r.positions)return null;if(i)return r.positions(e);var t=r.positions[e._private.data.id];return null==t?null:t}(e);return!e.locked()&&null!=n&&n}),this},e.exports=o},function(e,t,n){var r=n(1),i=n(2),a={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function o(e){this.options=r.extend({},a,e)}o.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles.nodes().not(":parent"),r=i.makeBoundingBox(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.layoutPositions(this,e,function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}}),this},e.exports=o},function(e,t,n){e.exports=[{name:"null",impl:n(106)},{name:"base",impl:n(107)},{name:"canvas",impl:n(123)}]},function(e,t,n){function r(e){this.options=e,this.notifications=0}var i=function(){};r.prototype={recalculateRenderedStyle:i,notify:function(){this.notifications++},init:i},e.exports=r},function(e,t,n){var i=n(0),u=n(1),c=n(3),r=function(e){this.init(e)},a=r.prototype;a.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],a.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(c){var r=c.document,i=r.head,a="__________cytoscape_stylesheet",o="__________cytoscape_container",s=null!=r.getElementById(a);if(n.className.indexOf(o)<0&&(n.className=(n.className||"")+" "+o),!s){var l=r.createElement("style");l.id=a,l.innerHTML="."+o+" { position: relative; }",i.insertBefore(l,i.children[0])}"static"===c.getComputedStyle(n).getPropertyValue("position")&&u.error("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.hideLabelsOnViewport=e.hideLabelsOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=e.pixelRatio,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},a.notify=function(e){var t;if(!this.destroyed){t=i.array(e.type)?e.type:[e.type];for(var n={},r=0;r<t.length;r++){n[t[r]]=!0}n.init?this.load():n.destroy?this.destroy():((n.add||n.remove||n.load||n.zorder)&&this.invalidateCachedZSortedEles(),n.viewport&&this.redrawHint("select",!0),(n.load||n.resize)&&(this.invalidateContainerClientCoordsCache(),this.matchCanvasSize(this.container)),this.redrawHint("eles",!0),this.redrawHint("drag",!0),this.startRenderLoop(),this.redraw())}},a.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(e){}},[n(108),n(109),n(119),n(120),n(121),n(122)].forEach(function(e){u.extend(a,e)}),e.exports=r},function(e,t,n){var d=n(2),a=n(0),o=n(1),r={arrowShapeWidth:.3,registerArrowShapes:function(){var n=this.arrowShapes={},l=this,r=function(e,t,n,r,i,a,o){var s=i.x-n/2-o,l=i.x+n/2+o,u=i.y-n/2-o,c=i.y+n/2+o;return s<=e&&e<=l&&u<=t&&t<=c},u=function(e,t,n,r,i){var a=e*Math.cos(r)-t*Math.sin(r),o=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:a*n+i.x,y:o+i.y}},c=function(e,t,n,r){for(var i=[],a=0;a<e.length;a+=2){var o=e[a],s=e[a+1];i.push(u(o,s,t,n,r))}return i},h=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},i=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},e=function(e,t){a.string(t)&&(t=n[t]),n[e]=o.extend({name:e,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,i,a){var o=h(c(this.points,n+2*a,r,i));return d.pointInsidePolygonPoints(e,t,o)},roughCollide:r,draw:function(e,t,n,r){var i=c(this.points,t,n,r);l.arrowShapeImpl("polygon")(e,i)},spacing:function(e){return 0},gap:i},t)};e("none",{collide:o.falsify,roughCollide:o.falsify,draw:o.noop,spacing:o.zeroify,gap:o.zeroify}),e("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),e("arrow","triangle"),e("triangle-backcurve",{points:n.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(e,t,n,r,i){var a=c(this.points,t,n,r),o=this.controlPoint,s=u(o[0],o[1],t,n,r);l.arrowShapeImpl(this.name)(e,a,s)},gap:function(e){return.8*i(e)}}),e("triangle-tee",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,i,a,o){var s=h(c(this.points,n+2*o,r,i)),l=h(c(this.pointsTee,n+2*o,r,i));return d.pointInsidePolygonPoints(e,t,s)||d.pointInsidePolygonPoints(e,t,l)},draw:function(e,t,n,r,i){var a=c(this.points,t,n,r),o=c(this.pointsTee,t,n,r);l.arrowShapeImpl(this.name)(e,a,o)}}),e("triangle-cross",{points:[-.15,-.3,0,0,.15,-.3,-.15,-.3],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,i,a,o){var s=h(c(this.points,n+2*o,r,i)),l=h(c(this.crossLinePts(n,a),n+2*o,r,i));return d.pointInsidePolygonPoints(e,t,s)||d.pointInsidePolygonPoints(e,t,l)},draw:function(e,t,n,r,i){var a=c(this.points,t,n,r),o=c(this.crossLinePts(t,i),t,n,r);l.arrowShapeImpl(this.name)(e,a,o)}}),e("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*i(e)}}),e("circle",{radius:.15,collide:function(e,t,n,r,i,a,o){var s=i;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*o)*this.radius,2)},draw:function(e,t,n,r,i){l.arrowShapeImpl(this.name)(e,r.x,r.y,this.radius*t)},spacing:function(e){return l.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),e("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),e("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),e("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}};e.exports=r},function(e,t,n){var r=n(1),i={};[n(110),n(111),n(112),n(113),n(114),n(115),n(116),n(117),n(118)].forEach(function(e){r.extend(i,e)}),e.exports=i},function(e,t,n){var E=n(3),I=n(2),d=n(1),r=(E=n(3),{projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],a=r[1],o=r[4],s=n.pan(),l=n.zoom();return[((e-i)/o-s.x)/l,((t-a)/o-s.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=E.getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},i=r("padding-left"),a=r("padding-right"),o=r("padding-top"),s=r("padding-bottom"),l=r("border-left-width"),u=r("border-right-width"),c=r("border-top-width"),h=r("border-bottom-width"),d=e.clientWidth,f=e.clientHeight,p=i+a,v=o+s,g=l+u,y=c+h,m=t.width/(d+g),b=d-p,x=f-v,w=(t.width,t.height,t.left+i+l),_=t.top+o+c;return this.containerBB=[w,_,b,x,m]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(P,A,e,t){var r,i,m=this,b=this,n=b.getCachedZSortedEles(),x=[],a=b.cy.zoom(),w=b.cy.hasCompoundNodes(),_=(t?24:8)/a,o=(t?8:2)/a,N=(t?8:2)/a,s=1/0;function S(e,t){if(e.isNode()){if(i)return;i=e,x.push(e)}if(e.isEdge()&&(null==t||t<s))if(r){if(r.pstyle("z-index").value===e.pstyle("z-index").value)for(var n=0;n<x.length;n++)if(x[n].isEdge()){x[n]=e,r=e,s=null!=t?t:s;break}}else x.push(e),r=e,s=null!=t?t:s}function E(e){var t=e.outerWidth()+2*o,n=e.outerHeight()+2*o,r=t/2,i=n/2,a=e.position();if(a.x-r<=P&&P<=a.x+r&&a.y-i<=A&&A<=a.y+i&&b.nodeShapes[m.getNodeShape(e)].checkPoint(P,A,0,t,n,a.x,a.y))return S(e,0),!0}function l(e){var t,n=e._private,r=n.rscratch,i=e.pstyle("width").pfValue,a=e.pstyle("arrow-scale").value,o=i/2+_,s=o*o,l=2*o,u=n.source,c=n.target;if("segments"===r.edgeType||"straight"===r.edgeType||"haystack"===r.edgeType){for(var h=r.allpts,d=0;d+3<h.length;d+=2)if(I.inLineVicinity(P,A,h[d],h[d+1],h[d+2],h[d+3],l)&&s>(t=I.sqdistToFiniteLine(P,A,h[d],h[d+1],h[d+2],h[d+3])))return S(e,t),!0}else if("bezier"===r.edgeType||"multibezier"===r.edgeType||"self"===r.edgeType||"compound"===r.edgeType)for(h=r.allpts,d=0;d+5<r.allpts.length;d+=4)if(I.inBezierVicinity(P,A,h[d],h[d+1],h[d+2],h[d+3],h[d+4],h[d+5],l)&&s>(t=I.sqdistToQuadraticBezier(P,A,h[d],h[d+1],h[d+2],h[d+3],h[d+4],h[d+5])))return S(e,t),!0;u=u||n.source,c=c||n.target;var f=m.getArrowWidth(i,a),p=[{name:"source",x:r.arrowStartX,y:r.arrowStartY,angle:r.srcArrowAngle},{name:"target",x:r.arrowEndX,y:r.arrowEndY,angle:r.tgtArrowAngle},{name:"mid-source",x:r.midX,y:r.midY,angle:r.midsrcArrowAngle},{name:"mid-target",x:r.midX,y:r.midY,angle:r.midtgtArrowAngle}];for(d=0;d<p.length;d++){var v=p[d],g=b.arrowShapes[e.pstyle(v.name+"-arrow-shape").value],y=e.pstyle("width").pfValue;if(g.roughCollide(P,A,f,v.angle,{x:v.x,y:v.y},y,_)&&g.collide(P,A,f,v.angle,{x:v.x,y:v.y},y,_))return S(e),!0}w&&0<x.length&&(E(u),E(c))}function O(e,t,n){return d.getPrefixedProperty(e,t,n)}function u(e,t){var n,r=e._private,i=N;n=t?t+"-":"";var a=e.pstyle(n+"label").value;if("yes"===e.pstyle("text-events").strValue&&a){var o=r.rstyle,s=e.pstyle("text-border-width").pfValue,l=e.pstyle("text-background-padding").pfValue,u=O(o,"labelWidth",t)+s+2*i+2*l,c=O(o,"labelHeight",t)+s+2*i+2*l,h=O(o,"labelX",t),d=O(o,"labelY",t),f=O(r.rscratch,"labelAngle",t),p=h-u/2,v=h+u/2,g=d-c/2,y=d+c/2;if(f){var m=Math.cos(f),b=Math.sin(f),x=function(e,t){return{x:(e-=h)*m-(t-=d)*b+h,y:e*b+t*m+d}},w=x(p,g),_=x(p,y),E=x(v,g),C=x(v,y),k=[w.x,w.y,E.x,E.y,C.x,C.y,_.x,_.y];if(I.pointInsidePolygonPoints(P,A,k))return S(e),!0}else{var T={w:u,h:c,x1:p,x2:v,y1:g,y2:y};if(I.inBoundingBox(T,P,A))return S(e),!0}}}e&&(n=n.interactive);for(var c=n.length-1;0<=c;c--){var h=n[c];h.isNode()?E(h)||u(h):l(h)||u(h)||u(h,"source")||u(h,"target")}return x},getAllInBox:function(e,t,n,r){var i=this.getCachedZSortedEles().interactive,a=[],o=Math.min(e,n),s=Math.max(e,n),l=Math.min(t,r),u=Math.max(t,r);e=o,n=s,t=l,r=u;for(var c=I.makeBoundingBox({x1:e,y1:t,x2:n,y2:r}),h=0;h<i.length;h++){var d=i[h];if(d.isNode()){var f=d,p=f.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});I.boundingBoxesIntersect(c,p)&&!I.boundingBoxInBoundingBox(p,c)&&a.push(f)}else{var v=d,g=v._private,y=g.rscratch;if(null!=y.startX&&null!=y.startY&&!I.inBoundingBox(c,y.startX,y.startY))continue;if(null!=y.endX&&null!=y.endY&&!I.inBoundingBox(c,y.endX,y.endY))continue;if("bezier"===y.edgeType||"multibezier"===y.edgeType||"self"===y.edgeType||"compound"===y.edgeType||"segments"===y.edgeType||"haystack"===y.edgeType){for(var m=g.rstyle.bezierPts||g.rstyle.linePts||g.rstyle.haystackPts,b=!0,x=0;x<m.length;x++)if(!I.pointInBoundingBox(c,m[x])){b=!1;break}b&&a.push(v)}else"haystack"!==y.edgeType&&"straight"!==y.edgeType||a.push(v)}}return a}});e.exports=r},function(e,t,n){var A=n(2),r={calculateArrowAngles:function(e){var t,n,r,i,a,o,s=e._private.rscratch,l="haystack"===s.edgeType,u="bezier"===s.edgeType,c="multibezier"===s.edgeType,h="segments"===s.edgeType,d="compound"===s.edgeType,f="self"===s.edgeType;if(o=l?(r=s.haystackPts[0],i=s.haystackPts[1],a=s.haystackPts[2],s.haystackPts[3]):(r=s.arrowStartX,i=s.arrowStartY,a=s.arrowEndX,s.arrowEndY),v=s.midX,g=s.midY,h)t=r-s.segpts[0],n=i-s.segpts[1];else if(c||d||f||u){var p=s.allpts;t=r-A.qbezierAt(p[0],p[2],p[4],.1),n=i-A.qbezierAt(p[1],p[3],p[5],.1)}else t=r-v,n=i-g;s.srcArrowAngle=A.getAngleFromDisp(t,n);var v=s.midX,g=s.midY;if(l&&(v=(r+a)/2,g=(i+o)/2),t=a-r,n=o-i,h)if((p=s.allpts).length/2%2==0){var y=(m=p.length/2)-2;t=p[m]-p[y],n=p[m+1]-p[y+1]}else{y=(m=p.length/2-1)-2;var m,b=m+2;t=p[m]-p[y],n=p[m+1]-p[y+1]}else if(c||d||f){var x,w,_,E,p=s.allpts;if(s.ctrlpts.length/2%2==0){var C=(k=(T=p.length/2-1)+2)+2;x=A.qbezierAt(p[T],p[k],p[C],0),w=A.qbezierAt(p[T+1],p[k+1],p[C+1],0),_=A.qbezierAt(p[T],p[k],p[C],1e-4),E=A.qbezierAt(p[T+1],p[k+1],p[C+1],1e-4)}else{var k,T=(k=p.length/2-1)-2;C=k+2;x=A.qbezierAt(p[T],p[k],p[C],.4999),w=A.qbezierAt(p[T+1],p[k+1],p[C+1],.4999),_=A.qbezierAt(p[T],p[k],p[C],.5),E=A.qbezierAt(p[T+1],p[k+1],p[C+1],.5)}t=_-x,n=E-w}(s.midtgtArrowAngle=A.getAngleFromDisp(t,n),s.midDispX=t,s.midDispY=n,t*=-1,n*=-1,h)&&((p=s.allpts).length/2%2==0||(t=-(p[b=(m=p.length/2-1)+2]-p[m]),n=-(p[b+1]-p[m+1])));if(s.midsrcArrowAngle=A.getAngleFromDisp(t,n),h)t=a-s.segpts[s.segpts.length-2],n=o-s.segpts[s.segpts.length-1];else if(c||d||f||u){var P=(p=s.allpts).length;t=a-A.qbezierAt(p[P-6],p[P-4],p[P-2],.9),n=o-A.qbezierAt(p[P-5],p[P-3],p[P-1],.9)}else t=a-v,n=o-g;s.tgtArrowAngle=A.getAngleFromDisp(t,n)}};r.getArrowWidth=r.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r)},e.exports=r},function(e,t,n){var Zt=n(2),Qt=n(0),r={};function i(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t.push({x:r,y:i})}return t}}r.findEdgeControlPoints=function(e){if(e&&0!==e.length){for(var t,n,r,i,a,o=this.cy.hasCompoundNodes(),s={},l=[],u=[],c=0;c<e.length;c++){var h=(Lt=(Dt=e[c])._private).data,d="unbundled-bezier"===(S=Dt.pstyle("curve-style").value)||"segments"===S,f="unbundled-bezier"===S||"bezier"===S;if("none"!==Dt.pstyle("display").value)if("haystack"!==S){var p=h.source,v=h.target;t=v<p?v+"$-$"+p:p+"$-$"+v,d&&(t="unbundled$-$"+h.id);var g=s[t];null==g&&(g=s[t]=[],l.push(t)),g.push(Dt),d&&(g.hasUnbundled=!0),f&&(g.hasBezier=!0)}else u.push(Dt)}for(var y=0;y<l.length;y++){var m=s[t=l[y]];if(m.sort(function(e,t){return e.poolIndex()-t.poolIndex()}),Vt=m[0]._private.source,Ft=m[0]._private.target,!m.hasUnbundled&&Vt.id()>Ft.id()){var b=Vt;Vt=Ft,Ft=b}qt=Vt.position(),Ht=Ft.position(),Xt=Vt.outerWidth(),Ut=Vt.outerHeight(),Yt=Ft.outerWidth(),Wt=Ft.outerHeight(),n=this.nodeShapes[this.getNodeShape(Vt)],r=this.nodeShapes[this.getNodeShape(Ft)],a=!1;var x={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0},w=qt.x,_=qt.y,E=Xt,C=Ut,k=Ht.x,T=Ht.y,P=Yt,A=Wt,N=m.length;for(c=0;c<m.length;c++){var S,O,I=(zt=(Dt=m[c])._private.rscratch).lastEdgeIndex,M=c,R=zt.lastNumEdges,B=(d="unbundled-bezier"===(S=Dt.pstyle("curve-style").value)||"segments"===S,Vt.id()!==Dt.source().id()),D=Dt.pstyle("control-point-distances"),L=Dt.pstyle("loop-direction").pfValue,j=Dt.pstyle("loop-sweep").pfValue,z=Dt.pstyle("control-point-weights"),$=D&&z?Math.min(D.value.length,z.value.length):1,V=Dt.pstyle("control-point-step-size").pfValue,F=D?D.pfValue[0]:void 0,q=z.value[0],H=Dt.pstyle("edge-distances").value,X=Dt.pstyle("segment-weights"),Y=Dt.pstyle("segment-distances"),U=Math.min(X.pfValue.length,Y.pfValue.length),W=Dt.pstyle("source-endpoint").value,G=Dt.pstyle("target-endpoint").value,Z=Dt.pstyle("source-arrow-shape").value,Q=Dt.pstyle("target-arrow-shape").value,K=Dt.pstyle("arrow-scale").value,J=Dt.pstyle("width").pfValue,ee=zt.lastSrcCtlPtX,te=zt.lastSrcCtlPtY,ne=zt.lastSrcCtlPtW,re=zt.lastSrcCtlPtH,ie=zt.lastTgtCtlPtX,ae=zt.lastTgtCtlPtY,oe=zt.lastTgtCtlPtW,se=zt.lastTgtCtlPtH,le=zt.lastCurveStyle,ue=S,ce=zt.lastCtrlptDists,he=D?D.strValue:null,de=zt.lastCtrlptWs,fe=z.strValue,pe=zt.lastSegmentWs,ve=X.strValue,ge=zt.lastSegmentDs,ye=Y.strValue,me=zt.lastStepSize,be=V,xe=zt.lastLoopDir,we=L,_e=zt.lastLoopSwp,Ee=j,Ce=zt.lastEdgeDistances,ke=H,Te=zt.lastSrcEndpt,Pe=W,Ae=zt.lastTgtEndpt,Ne=G,Se=zt.lastSrcArr,Oe=Z,Ie=zt.lastTgtArr,Me=Q,Re=zt.lastLineW,Be=J,De=zt.lastArrScl,Le=K;if(zt.badBezier=!!a,ee===w&&te===_&&ne===E&&re===C&&ie===k&&ae===T&&oe===P&&se===A&&le===ue&&ce===he&&de===fe&&pe===ve&&ge===ye&&me===be&&xe===we&&_e===Ee&&Ce===ke&&Te===Pe&&Ae===Ne&&Se===Oe&&Ie===Me&&Re===Be&&De===Le&&(I===M&&R===N||d)?O=!0:(O=!1,zt.lastSrcCtlPtX=w,zt.lastSrcCtlPtY=_,zt.lastSrcCtlPtW=E,zt.lastSrcCtlPtH=C,zt.lastTgtCtlPtX=k,zt.lastTgtCtlPtY=T,zt.lastTgtCtlPtW=P,zt.lastTgtCtlPtH=A,zt.lastEdgeIndex=M,zt.lastNumEdges=N,zt.lastCurveStyle=ue,zt.lastCtrlptDists=he,zt.lastCtrlptWs=fe,zt.lastSegmentDs=ye,zt.lastSegmentWs=ve,zt.lastStepSize=be,zt.lastLoopDir=we,zt.lastLoopSwp=Ee,zt.lastEdgeDistances=ke,zt.lastSrcEndpt=Pe,zt.lastTgtEndpt=Ne,zt.lastSrcArr=Oe,zt.lastTgtArr=Me,zt.lastLineW=Be,zt.lastArrScl=Le),!O){if(!m.calculatedIntersection&&Vt!==Ft&&(m.hasBezier||m.hasUnbundled)){m.calculatedIntersection=!0;var je=n.intersectLine(qt.x,qt.y,Xt,Ut,Ht.x,Ht.y,0);m.srcIntn=je;var ze=r.intersectLine(Ht.x,Ht.y,Yt,Wt,qt.x,qt.y,0);m.tgtIntn=ze;var $e={x1:je[0],x2:ze[0],y1:je[1],y2:ze[1]},Ve={x1:qt.x,x2:Ht.x,y1:qt.y,y2:Ht.y},Fe=ze[1]-je[1],qe=ze[0]-je[0],He=Math.sqrt(qe*qe+Fe*Fe),Xe={x:qe/He,y:Fe/He};i={x:-Xe.y,y:Xe.x},r.checkPoint(je[0],je[1],0,Yt,Wt,Ht.x,Ht.y)&&n.checkPoint(ze[0],ze[1],0,Xt,Ut,qt.x,qt.y)&&(i={},a=!0)}if(zt.tgtIntn=B?(zt.srcIntn=m.tgtIntn,m.srcIntn):(zt.srcIntn=m.srcIntn,m.tgtIntn),Vt===Ft){zt.edgeType="self";var Ye=c,Ue=V;d&&(Ye=0,Ue=F);var We=L-Math.PI/2,Ge=We-j/2,Ze=We+j/2,Qe=String(L+"_"+j);Ye=void 0===x[Qe]?x[Qe]=0:++x[Qe],zt.ctrlpts=[qt.x+1.4*Math.cos(Ge)*Ue*(Ye/3+1),qt.y+1.4*Math.sin(Ge)*Ue*(Ye/3+1),qt.x+1.4*Math.cos(Ze)*Ue*(Ye/3+1),qt.y+1.4*Math.sin(Ze)*Ue*(Ye/3+1)]}else if(o&&(Vt.isParent()||Vt.isChild()||Ft.isParent()||Ft.isChild())&&(Vt.parents().anySame(Ft)||Ft.parents().anySame(Vt))){zt.edgeType="compound",zt.badBezier=!1;Ye=c,Ue=V;d&&(Ye=0,Ue=F);var Ke={x:qt.x-Xt/2,y:qt.y-Ut/2},Je={x:Ht.x-Yt/2,y:Ht.y-Wt/2},et={x:Math.min(Ke.x,Je.x),y:Math.min(Ke.y,Je.y)},tt=Math.max(.5,Math.log(.01*Xt)),nt=Math.max(.5,Math.log(.01*Yt));zt.ctrlpts=[et.x,et.y-(1+Math.pow(50,1.12)/100)*Ue*(Ye/3+1)*tt,et.x-(1+Math.pow(50,1.12)/100)*Ue*(Ye/3+1)*nt,et.y]}else if("segments"===S){zt.edgeType="segments",zt.segpts=[];for(var rt=0;rt<U;rt++){var it=X.pfValue[rt],at=Y.pfValue[rt],ot=1-it,st=it,lt={x:(vt="node-position"===H?Ve:$e).x1*ot+vt.x2*st,y:vt.y1*ot+vt.y2*st};zt.segpts.push(lt.x+i.x*at,lt.y+i.y*at)}}else if(m.length%2!=1||c!==Math.floor(m.length/2)||d){var ut=d;zt.edgeType=ut?"multibezier":"bezier",zt.ctrlpts=[];for(var ct=0;ct<$;ct++){var ht,dt=(.5-m.length/2+c)*V,ft=Zt.signum(dt);ut&&(F=D?D.pfValue[ct]:V,q=z.value[ct]);var pt=void 0!==(ht=d?F:void 0!==F?ft*F:void 0)?ht:dt;ot=1-q,st=q;if(B){b=ot;ot=st,st=b}var vt;lt={x:(vt="node-position"===H?Ve:$e).x1*ot+vt.x2*st,y:vt.y1*ot+vt.y2*st};zt.ctrlpts.push(lt.x+i.x*pt,lt.y+i.y*pt)}}else zt.edgeType="straight";this.findEndpoints(Dt);var gt=!Qt.number(zt.startX)||!Qt.number(zt.startY),yt=!Qt.number(zt.arrowStartX)||!Qt.number(zt.arrowStartY),mt=!Qt.number(zt.endX)||!Qt.number(zt.endY),bt=!Qt.number(zt.arrowEndX)||!Qt.number(zt.arrowEndY),xt=3*(this.getArrowWidth(Dt.pstyle("width").pfValue,Dt.pstyle("arrow-scale").value)*this.arrowShapeWidth);if("bezier"===zt.edgeType){var wt=Zt.dist({x:zt.ctrlpts[0],y:zt.ctrlpts[1]},{x:zt.startX,y:zt.startY}),_t=wt<xt,Et=Zt.dist({x:zt.ctrlpts[0],y:zt.ctrlpts[1]},{x:zt.endX,y:zt.endY}),Ct=Et<xt,kt=!1;if(gt||yt||_t){kt=!0;var Tt={x:zt.ctrlpts[0]-qt.x,y:zt.ctrlpts[1]-qt.y},Pt=Math.sqrt(Tt.x*Tt.x+Tt.y*Tt.y),At={x:Tt.x/Pt,y:Tt.y/Pt},Nt=Math.max(Xt,Ut),St={x:zt.ctrlpts[0]+2*At.x*Nt,y:zt.ctrlpts[1]+2*At.y*Nt},Ot=n.intersectLine(qt.x,qt.y,Xt,Ut,St.x,St.y,0);zt.ctrlpts[1]=_t?(zt.ctrlpts[0]=zt.ctrlpts[0]+At.x*(xt-wt),zt.ctrlpts[1]+At.y*(xt-wt)):(zt.ctrlpts[0]=Ot[0]+At.x*xt,Ot[1]+At.y*xt)}if(mt||bt||Ct){kt=!0;Tt={x:zt.ctrlpts[0]-Ht.x,y:zt.ctrlpts[1]-Ht.y},Pt=Math.sqrt(Tt.x*Tt.x+Tt.y*Tt.y),At={x:Tt.x/Pt,y:Tt.y/Pt},Nt=Math.max(Xt,Ut),St={x:zt.ctrlpts[0]+2*At.x*Nt,y:zt.ctrlpts[1]+2*At.y*Nt};var It=r.intersectLine(Ht.x,Ht.y,Yt,Wt,St.x,St.y,0);zt.ctrlpts[1]=Ct?(zt.ctrlpts[0]=zt.ctrlpts[0]+At.x*(xt-Et),zt.ctrlpts[1]+At.y*(xt-Et)):(zt.ctrlpts[0]=It[0]+At.x*xt,It[1]+At.y*xt)}kt&&this.findEndpoints(Dt)}if("multibezier"===zt.edgeType||"bezier"===zt.edgeType||"self"===zt.edgeType||"compound"===zt.edgeType){zt.allpts=[],zt.allpts.push(zt.startX,zt.startY);for(ct=0;ct+1<zt.ctrlpts.length;ct+=2)zt.allpts.push(zt.ctrlpts[ct],zt.ctrlpts[ct+1]),ct+3<zt.ctrlpts.length&&zt.allpts.push((zt.ctrlpts[ct]+zt.ctrlpts[ct+2])/2,(zt.ctrlpts[ct+1]+zt.ctrlpts[ct+3])/2);var Mt;zt.allpts.push(zt.endX,zt.endY),zt.ctrlpts.length/2%2==0?(Mt=zt.allpts.length/2-1,zt.midX=zt.allpts[Mt],zt.midY=zt.allpts[Mt+1]):(Mt=zt.allpts.length/2-3,.5,zt.midX=Zt.qbezierAt(zt.allpts[Mt],zt.allpts[Mt+2],zt.allpts[Mt+4],.5),zt.midY=Zt.qbezierAt(zt.allpts[Mt+1],zt.allpts[Mt+3],zt.allpts[Mt+5],.5))}else if("straight"===zt.edgeType)zt.allpts=[zt.startX,zt.startY,zt.endX,zt.endY],zt.midX=(zt.startX+zt.endX+zt.arrowStartX+zt.arrowEndX)/4,zt.midY=(zt.startY+zt.endY+zt.arrowStartY+zt.arrowEndY)/4;else if("segments"===zt.edgeType)if(zt.allpts=[],zt.allpts.push(zt.startX,zt.startY),zt.allpts.push.apply(zt.allpts,zt.segpts),zt.allpts.push(zt.endX,zt.endY),zt.segpts.length%4==0){var Rt=zt.segpts.length/2,Bt=Rt-2;zt.midX=(zt.segpts[Bt]+zt.segpts[Rt])/2,zt.midY=(zt.segpts[Bt+1]+zt.segpts[Rt+1])/2}else{Bt=zt.segpts.length/2-1;zt.midX=zt.segpts[Bt],zt.midY=zt.segpts[Bt+1]}this.storeEdgeProjections(Dt),this.calculateArrowAngles(Dt)}this.recalculateEdgeLabelProjections(Dt),this.calculateLabelAngles(Dt)}}for(c=0;c<u.length;c++){var Dt,Lt,jt=(Lt=(Dt=u[c])._private).rscratch,zt=jt;if(!jt.haystack){var $t=2*Math.random()*Math.PI;jt.source={x:Math.cos($t),y:Math.sin($t)};$t=2*Math.random()*Math.PI;jt.target={x:Math.cos($t),y:Math.sin($t)}}var Vt=Lt.source,Ft=Lt.target,qt=Vt.position(),Ht=Ft.position(),Xt=Vt.width(),Yt=Ft.width(),Ut=Vt.height(),Wt=Ft.height(),Gt=(Nt=Dt.pstyle("haystack-radius").value)/2;zt.haystackPts=zt.allpts=[zt.source.x*Xt*Gt+qt.x,zt.source.y*Ut*Gt+qt.y,zt.target.x*Yt*Gt+Ht.x,zt.target.y*Wt*Gt+Ht.y],zt.midX=(zt.allpts[0]+zt.allpts[2])/2,zt.midY=(zt.allpts[1]+zt.allpts[3])/2,jt.edgeType=jt.lastCurveStyle="haystack",jt.haystack=!0,this.storeEdgeProjections(Dt),this.calculateArrowAngles(Dt),this.recalculateEdgeLabelProjections(Dt),this.calculateLabelAngles(Dt)}}},r.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return i(t.segpts)},r.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return i(t.ctrlpts)},r.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return{x:t.midX,y:t.midY}},e.exports=r},function(e,t,n){var I=n(2),M=n(0),r={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),i=e.outerHeight();if(2===t.value.length){var a=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(a[0]=a[0]*r),"%"===t.units[1]&&(a[1]=a[1]*i),a[0]+=n.x,a[1]+=n.y,a}var o=t.pfValue[0];o=-Math.PI/2+o;var s=2*Math.max(r,i),l=[n.x+Math.cos(o)*s,n.y+Math.sin(o)*s];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,i,l[0],l[1],0)},findEndpoints:function(e){var t=void 0,n=e.source()[0],r=e.target()[0],i=n.position(),a=r.position(),o=e.pstyle("target-arrow-shape").value,s=e.pstyle("source-arrow-shape").value,l=e.pstyle("target-distance-from-node").pfValue,u=e.pstyle("source-distance-from-node").pfValue,c=e._private.rscratch,h=c.edgeType,d="self"===h||"compound"===h,f="bezier"===h||"multibezier"===h||d,p="bezier"!==h,v="straight"===h||"segments"===h,g="segments"===h,y=f||p||v,m=e.pstyle("source-endpoint"),b=d?"outside-to-node":m.value,x=e.pstyle("target-endpoint"),w=d?"outside-to-node":x.value;c.srcManEndpt=m,c.tgtManEndpt=x;var _=void 0,E=void 0,C=void 0,k=void 0;if(f){var T=[c.ctrlpts[0],c.ctrlpts[1]];_=p?[c.ctrlpts[c.ctrlpts.length-2],c.ctrlpts[c.ctrlpts.length-1]]:T,E=T}else if(v){var P=g?c.segpts.slice(0,2):[a.x,a.y];_=g?c.segpts.slice(c.segpts.length-2):[i.x,i.y],E=P}t="inside-to-node"===w?[a.x,a.y]:x.units?this.manualEndptToPx(r,x):"outside-to-line"===w?c.tgtIntn:("outside-to-node"===w?C=_:"outside-to-line"===w&&(C=[i.x,i.y]),this.nodeShapes[this.getNodeShape(r)].intersectLine(a.x,a.y,r.outerWidth(),r.outerHeight(),C[0],C[1],0));var A=I.shortenIntersection(t,_,this.arrowShapes[o].spacing(e)+l),N=I.shortenIntersection(t,_,this.arrowShapes[o].gap(e)+l);c.endX=N[0],c.endY=N[1],c.arrowEndX=A[0],c.arrowEndY=A[1],t="inside-to-node"===b?[i.x,i.y]:m.units?this.manualEndptToPx(n,m):"outside-to-line"===b?c.srcIntn:("outside-to-node"===b?k=E:"outside-to-line"===b&&(k=[a.x,a.y]),this.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),k[0],k[1],0));var S=I.shortenIntersection(t,E,this.arrowShapes[s].spacing(e)+u),O=I.shortenIntersection(t,E,this.arrowShapes[s].gap(e)+u);c.startX=O[0],c.startY=O[1],c.arrowStartX=S[0],c.arrowStartY=S[1],y&&(M.number(c.startX)&&M.number(c.startY)&&M.number(c.endX)&&M.number(c.endY)?c.badLine=!1:c.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;switch(t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}}};e.exports=r},function(e,t,n){var s=n(2),r={};function l(e,t,n){for(var r=function(e,t,n,r){return s.qbezierAt(e,t,n,r)},i=t._private.rstyle.bezierPts,a=0;a<e.bezierProjPcts.length;a++){var o=e.bezierProjPcts[a];i.push({x:r(n[0],n[2],n[4],o),y:r(n[1],n[3],n[5],o)})}}r.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)l(this,e,n.allpts.slice(i,i+6))}else if("segments"===r){var a=t.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)a.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var o=n.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},r.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)},e.exports=r},function(e,t,n){var j=n(2),f=n(0),_=n(1),r={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!f.emptyString(t)){var n,r,i=e._private,a=e.width(),o=e.height(),s=e.padding(),l=e.position(),u=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,h=i.rscratch,d=i.rstyle;switch(u){case"left":n=l.x-a/2-s;break;case"right":n=l.x+a/2+s;break;default:n=l.x}switch(c){case"top":r=l.y-o/2-s;break;case"bottom":r=l.y+o/2+s;break;default:r=l.y}h.labelX=n,h.labelY=r,d.labelX=n,d.labelY=r,this.applyLabelDimensions(e)}}};r.recalculateEdgeLabelProjections=function(O){var I,M=O._private,R=M.rscratch,B=this,D={mid:O.pstyle("label").strValue,source:O.pstyle("source-label").strValue,target:O.pstyle("target-label").strValue};if(D.mid||D.source||D.target){I={x:R.midX,y:R.midY};var L=function(e,t,n){_.setPrefixedProperty(M.rscratch,e,t,n),_.setPrefixedProperty(M.rstyle,e,t,n)};L("labelX",null,I.x),L("labelY",null,I.y);var e=function(e){var t,n="source"===e;if(D[e]){var r,i,a,o,s,l,u,c,h=O.pstyle(e+"-text-offset").pfValue,d=function(e,t){var n=t.x-e.x,r=t.y-e.y;return Math.atan(r/n)};switch(R.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var f,p=function e(){if(e.cache)return e.cache;for(var t=[],n=0;n+5<R.allpts.length;n+=4){var r={x:R.allpts[n],y:R.allpts[n+1]},i={x:R.allpts[n+2],y:R.allpts[n+3]},a={x:R.allpts[n+4],y:R.allpts[n+5]};t.push({p0:r,p1:i,p2:a,startDist:0,length:0,segments:[]})}var o=M.rstyle.bezierPts,s=B.bezierProjPcts.length;function l(e,t,n,r,i){var a=j.dist(t,n),o=e.segments[e.segments.length-1],s={p0:t,p1:n,t0:r,t1:i,startDist:o?o.startDist+o.length:0,length:a};e.segments.push(s),e.length+=a}for(n=0;n<t.length;n++){var u=t[n],c=t[n-1];c&&(u.startDist=c.startDist+c.length),l(u,u.p0,o[n*s],0,B.bezierProjPcts[0]);for(var h=0;h<s-1;h++)l(u,o[n*s+h],o[n*s+h+1],B.bezierProjPcts[h],B.bezierProjPcts[h+1]);l(u,o[n*s+s-1],u.p2,B.bezierProjPcts[s-1],1)}return e.cache=t}(),v=0,g=0,y=0;y<p.length;y++){for(var m=p[n?y:p.length-1-y],b=0;b<m.segments.length;b++){var x=m.segments[n?b:m.segments.length-1-b],w=y===p.length-1&&b===m.segments.length-1;if(v=g,h<=(g+=x.length)||w){f={cp:m,segment:x};break}}if(f)break}m=f.cp;var _=(h-v)/(x=f.segment).length,E=x.t1-x.t0,C=n?x.t0+E*_:x.t1-E*_;C=j.bound(0,C,1),I=j.qbezierPtAt(m.p0,m.p1,m.p2,C),r=m.p0,i=m.p1,a=m.p2,o=C,s=j.bound(0,o-.001,1),l=j.bound(0,o+.001,1),u=j.qbezierPtAt(r,i,a,s),c=j.qbezierPtAt(r,i,a,l),t=d(u,c);break;case"straight":case"segments":case"haystack":var k,T,P,A,N=0,S=R.allpts.length;for(y=0;y+3<S&&(A=n?(P={x:R.allpts[y],y:R.allpts[y+1]},{x:R.allpts[y+2],y:R.allpts[y+3]}):(P={x:R.allpts[S-2-y],y:R.allpts[S-1-y]},{x:R.allpts[S-4-y],y:R.allpts[S-3-y]}),T=N,!(h<=(N+=k=j.dist(P,A))));y+=2);C=(h-T)/k;C=j.bound(0,C,1),I=j.lineAt(P,A,C),t=d(P,A)}L("labelX",e,I.x),L("labelY",e,I.y),L("labelAutoAngle",e,t)}};e("source"),e("target"),this.applyLabelDimensions(O)}},r.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},r.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r);_.setPrefixedProperty(n.rstyle,"labelWidth",t,i.width),_.setPrefixedProperty(n.rscratch,"labelWidth",t,i.width),_.setPrefixedProperty(n.rstyle,"labelHeight",t,i.height),_.setPrefixedProperty(n.rscratch,"labelHeight",t,i.height)},r.getLabelText=function(e,n){var r=e._private,t=n?n+"-":"",i=e.pstyle(t+"label").strValue,a=e.pstyle("text-transform").value,o=function(e,t){return t?(_.setPrefixedProperty(r.rscratch,e,n,t),t):_.getPrefixedProperty(r.rscratch,e,n)};if(!i)return"";"none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if("wrap"===s){var l=o("labelKey");if(l&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u=i.split("\n"),c=e.pstyle("text-max-width").pfValue,h=[],d=0;d<u.length;d++){var f=u[d];if(c<this.calculateLabelDimensions(e,f,"line="+f).width){for(var p=f.split(/\s+/),v="",g=0;g<p.length;g++){var y=p[g],m=0===v.length?y:v+" "+y;this.calculateLabelDimensions(e,m,"testLine="+m).width<=c?v+=y+" ":(h.push(v),v=y+" ")}v.match(/^\s+$/)||h.push(v)}else h.push(f)}o("labelWrapCachedLines",h),i=o("labelWrapCachedText",h.join("\n")),o("labelWrapKey",l)}else if("ellipsis"===s){c=e.pstyle("text-max-width").pfValue;for(var b="",x=!1,w=0;w<i.length;w++){if(c<this.calculateLabelDimensions(e,b+i[w]+"").width)break;b+=i[w],w===i.length-1&&(x=!0)}return x||(b+=""),b}return i},r.calculateLabelDimensions=function(e,t,n){var r=e._private.labelStyleKey+"$@$"+t;n&&(r+="$@$"+n);var i=this.labelDimCache||(this.labelDimCache={});if(i[r])return i[r];var a=e.pstyle("font-style").strValue,o=1*e.pstyle("font-size").pfValue+"px",s=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,u=this.labelCalcDiv;u||(u=this.labelCalcDiv=document.createElement("div"),document.body.appendChild(u));var c=u.style;return c.fontFamily=s,c.fontStyle=a,c.fontSize=o,c.fontWeight=l,c.position="absolute",c.left="-9999px",c.top="-9999px",c.zIndex="-1",c.visibility="hidden",c.pointerEvents="none",c.padding="0",c.lineHeight="1","wrap"===e.pstyle("text-wrap").value?c.whiteSpace="pre":c.whiteSpace="normal",u.textContent=t,i[r]={width:Math.ceil(u.clientWidth/1),height:Math.ceil(u.clientHeight/1)},i[r]},r.calculateLabelAngles=function(e){var t=e._private.rscratch,n=e.isEdge(),r=e.pstyle("text-rotation"),i=r.strValue;"none"===i?t.labelAngle=t.sourceLabelAngle=t.targetLabelAngle=0:n&&"autorotate"===i?(t.labelAngle=Math.atan(t.midDispY/t.midDispX),t.sourceLabelAngle=t.sourceLabelAutoAngle,t.targetLabelAngle=t.targetLabelAutoAngle):t.labelAngle=t.sourceLabelAngle=t.targetLabelAngle="autorotate"===i?0:r.pfValue},e.exports=r},function(e,t,n){var r={getNodeShape:function(e){var t=e.pstyle("shape").value;if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"cutrectangle"===t||"barrel"===t?t:"rectangle";if("polygon"!==t)return t;var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}};e.exports=r},function(e,t,n){var r={registerCalculationListeners:function(){var r=this.cy,s=r.collection(),i=this,a=function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];s.merge(e);for(var r=0;r<e.length;r++){var i=e[r]._private,a=i.rstyle;n&&(a.clean=!1,i.bbCache=null);var o=a.dirtyEvents=a.dirtyEvents||{length:0};o[t.type]||(o[t.type]=!0,o.length++)}};i.binder(r).on("position.* style.* free.* bounds.*","node",function(e){var t=e.target;a(t,e),a(t.connectedEdges(),e)}).on("add.*","node",function(e){var t=e.target;a(t,e)}).on("background.*","node",function(e){var t=e.target;a(t,e,!1)}).on("add.* style.*","edge",function(e){var t=e.target;a(t,e),a(t.parallelEdges(),e)}).on("remove.*","edge",function(e){for(var t=e.target.parallelEdges(),n=0;n<t.length;n++){var r=t[n];r.removed()||a(r,e)}}).on("dirty.*","node",function(e){var t=e.target;a(t,e)});i.beforeRender(function(e){if(e){var t=i.onUpdateEleCalcsFns;if(t)for(var n=0;n<t.length;n++)(0,t[n])(e,s);for(i.recalculateRenderedStyle(s,!1),n=0;n<s.length;n++)s[n]._private.rstyle.dirtyEvents=null;s=r.collection()}},i.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=[],r=[];if(!this.destroyed){void 0===t&&(t=!0);for(var i=0;i<e.length;i++){var a=(l=(s=e[i])._private).rstyle;t&&a.clean||s.removed()||"none"!==s.pstyle("display").value&&("nodes"===l.group?r.push(s):n.push(s),a.clean=!0)}for(i=0;i<r.length;i++){a=(l=(s=r[i])._private).rstyle;var o=s.position();this.recalculateNodeLabelProjection(s),a.nodeX=o.x,a.nodeY=o.y,a.nodeW=s.pstyle("width").pfValue,a.nodeH=s.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(i=0;i<n.length;i++){a=(l=(s=n[i])._private).rstyle;var s,l,u=l.rscratch;this.recalculateEdgeLabelProjections(s),a.srcX=u.arrowStartX,a.srcY=u.arrowStartY,a.tgtX=u.arrowEndX,a.tgtY=u.arrowEndY,a.midX=u.midX,a.midY=u.midY,a.labelAngle=u.labelAngle,a.sourceLabelAngle=u.sourceLabelAngle,a.targetLabelAngle=u.targetLabelAngle}}}};e.exports=r},function(e,t,n){var r=n(17),i={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(i=e[n])._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):r.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(n=0;n<t.length;n++){var i=t[n];e.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(r),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}};e.exports=i},function(e,t,n){var r={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},i=r[e];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var a=(i=r[e]=r[e]||{}).image=new Image;a.addEventListener("load",n),a.addEventListener("error",function(){a.error=!0});return"data:"===e.substring(0,"data:".length).toLowerCase()||(a.crossOrigin=t),a.src=e,a}};e.exports=r},function(e,t,n){var se=n(0),g=n(1),le=n(2),r=(n(16),{registerBinding:function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]),a=this.binder(e);return a.on.apply(a,i)},binder:function(i){var a=this,o=i===window||i===document||i===document.body||se.domElement(i);if(null==a.supportsPassiveEvents){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}a.supportsPassiveEvents=e}var n=function(e,t,n){var r=Array.prototype.slice.call(arguments);return o&&a.supportsPassiveEvents&&(r[2]={capture:null!=n&&n,passive:!1,once:!1}),a.bindings.push({target:i,args:r}),(i.addEventListener||i.on).apply(i,r),this};return{on:n,addEventListener:n,addListener:n,bind:n}},nodeIsDraggable:function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},nodeIsGrabbable:function(e){return this.nodeIsDraggable(e)&&e.interactive()}});r.load=function(){var q=this,H=function(e,t,n,r){null==e&&(e=q.cy);for(var i=0;i<t.length;i++){var a=t[i];e.emit(g.extend({originalEvent:n,type:a},r))}},I=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},X=function(e,t){var n=!0;if(q.cy.hasCompoundNodes()&&e&&e.isEdge())for(var r=0;t&&r<t.length;r++){if((e=t[r]).isNode()&&e.isParent()){n=!1;break}}else n=!0;return n},a=function(e){e[0]._private.rscratch.inDragLayer=!0},m=function(e){e[0]._private.rscratch.isGrabTarget=!0},o=function(e,t){var n=function(e){var t;if(e.addToList&&q.cy.hasCompoundNodes()){if(!e.addToList.hasId){e.addToList.hasId={};for(var n=0;n<e.addToList.length;n++){var r=e.addToList[n];e.addToList.hasId[r.id()]=!0}}t=e.addToList.hasId}return t||{}}(t);n[e.id()]||(t.addToList.push(e),n[e.id()]=!0,e[0]._private.grabbed=!0)},Y=function(e,t){t=t||{};var n=e.cy().hasCompoundNodes();t.inDragLayer&&(e.forEach(a),e.neighborhood().stdFilter(function(e){return!n||e.isEdge()}).forEach(a)),t.addToList&&e.forEach(function(e){o(e,t)}),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(a),n.connectedEdges().forEach(a)),t.addToList&&n.forEach(function(e){o(e,t)})}}(e,t),r(e,{inDragLayer:t.inDragLayer}),q.updateCachedGrabbedEles()},b=Y,U=function(e){e&&(e.hasId={},q.getCachedZSortedEles().forEach(function(e){e[0]._private.grabbed=!1,e[0]._private.rscratch.inDragLayer=!1,e[0]._private.rscratch.isGrabTarget=!1}),q.updateCachedGrabbedEles())},r=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(a),r.forEach(a)),t.addToList&&r.forEach(function(e){o(e,t)})}}},e="undefined"!=typeof MutationObserver;e?(q.removeObserver=new MutationObserver(function(e){for(var t=0;t<e.length;t++){var n=e[t].removedNodes;if(n)for(var r=0;r<n.length;r++){if(n[r]===q.container){q.destroy();break}}}}),q.container.parentNode&&q.removeObserver.observe(q.container.parentNode,{childList:!0})):q.registerBinding(q.container,"DOMNodeRemoved",function(e){q.destroy()});var t=g.debounce(function(){q.cy.resize()},100);e&&(q.styleObserver=new MutationObserver(t),q.styleObserver.observe(q.container,{attributes:!0})),q.registerBinding(window,"resize",t);var n=function(){q.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(q.container,function(e){q.registerBinding(e,"transitionend",n),q.registerBinding(e,"animationend",n),q.registerBinding(e,"scroll",n)}),q.registerBinding(q.container,"contextmenu",function(e){e.preventDefault()});var W=function(e){for(var t=q.findContainerClientCoords(),n=t[0],r=t[1],i=t[2],a=t[3],o=e.touches?e.touches:[e],s=!1,l=0;l<o.length;l++){var u=o[l];if(n<=u.clientX&&u.clientX<=n+i&&r<=u.clientY&&u.clientY<=r+a){s=!0;break}}if(!s)return!1;for(var c=q.container,h=e.target.parentNode,d=!1;h;){if(h===c){d=!0;break}h=h.parentNode}return!!d};q.registerBinding(q.container,"mousedown",function(t){if(W(t)){t.preventDefault(),q.hoverData.capture=!0,q.hoverData.which=t.which;var n=q.cy,e=[t.clientX,t.clientY],r=q.projectIntoViewport(e[0],e[1]),i=q.selection,a=q.findNearestElements(r[0],r[1],!0,!1),o=a[0],s=q.dragData.possibleDragElements;q.hoverData.mdownPos=r,q.hoverData.mdownGPos=e;if(3==t.which){q.hoverData.cxtStarted=!0;var l={originalEvent:t,type:"cxttapstart",position:{x:r[0],y:r[1]}};o?(o.activate(),o.emit(l),q.hoverData.down=o):n.emit(l),q.hoverData.downTime=(new Date).getTime(),q.hoverData.cxtDragged=!1}else if(1==t.which){if(o&&o.activate(),null!=o&&q.nodeIsGrabbable(o)){var u=function(e){return{originalEvent:t,type:e,position:{x:r[0],y:r[1]}}};if(m(o),o.selected()){s=q.dragData.possibleDragElements=[];var c=n.$(function(e){return e.isNode()&&e.selected()&&q.nodeIsGrabbable(e)});Y(c,{addToList:s}),o.emit(u("grabon")),c.forEach(function(e){e.emit(u("grab"))})}else s=q.dragData.possibleDragElements=[],b(o,{addToList:s}),o.emit(u("grabon")).emit(u("grab"));q.redrawHint("eles",!0),q.redrawHint("drag",!0)}q.hoverData.down=o,q.hoverData.downs=a,q.hoverData.downTime=(new Date).getTime(),H(o,["mousedown","tapstart","vmousedown"],t,{position:{x:r[0],y:r[1]}}),null==o?(i[4]=1,q.data.bgActivePosistion={x:r[0],y:r[1]},q.redrawHint("select",!0),q.redraw()):o.isEdge()&&(i[4]=1),q.hoverData.tapholdCancelled=!1,clearTimeout(q.hoverData.tapholdTimeout),q.hoverData.tapholdTimeout=setTimeout(function(){if(!q.hoverData.tapholdCancelled){var e=q.hoverData.down;e?e.emit({originalEvent:t,type:"taphold",position:{x:r[0],y:r[1]}}):n.emit({originalEvent:t,type:"taphold",position:{x:r[0],y:r[1]}})}},q.tapholdDuration)}i[0]=i[2]=r[0],i[1]=i[3]=r[1]}},!1),q.registerBinding(window,"mousemove",function(e){if(q.hoverData.capture||W(e)){var t=!1,n=q.cy,r=n.zoom(),i=[e.clientX,e.clientY],a=q.projectIntoViewport(i[0],i[1]),o=q.hoverData.mdownPos,s=q.hoverData.mdownGPos,l=q.selection,u=null;q.hoverData.draggingEles||q.hoverData.dragging||q.hoverData.selecting||(u=q.findNearestElement(a[0],a[1],!0,!1));var c,h=q.hoverData.last,d=q.hoverData.down,f=[a[0]-l[2],a[1]-l[3]],p=q.dragData.possibleDragElements;if(s){var v=i[0]-s[0],g=v*v,y=i[1]-s[1],m=g+y*y;q.hoverData.isOverThresholdDrag=c=m>=q.desktopTapThreshold2}var b=I(e);c&&(q.hoverData.tapholdCancelled=!0);t=!0,H(u,["mousemove","vmousemove","tapdrag"],e,{position:{x:a[0],y:a[1]}});var x,w=function(){q.data.bgActivePosistion=void 0,q.hoverData.selecting||n.emit("boxstart"),l[4]=1,q.hoverData.selecting=!0,q.redrawHint("select",!0),q.redraw()};if(3===q.hoverData.which){if(c){var _={originalEvent:e,type:"cxtdrag",position:{x:a[0],y:a[1]}};d?d.emit(_):n.emit(_),q.hoverData.cxtDragged=!0,q.hoverData.cxtOver&&u===q.hoverData.cxtOver||(q.hoverData.cxtOver&&q.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:a[0],y:a[1]}}),(q.hoverData.cxtOver=u)&&u.emit({originalEvent:e,type:"cxtdragover",position:{x:a[0],y:a[1]}}))}}else if(q.hoverData.dragging){if(t=!0,n.panningEnabled()&&n.userPanningEnabled()){var E;if(q.hoverData.justStartedPan){var C=q.hoverData.mdownPos;E={x:(a[0]-C[0])*r,y:(a[1]-C[1])*r},q.hoverData.justStartedPan=!1}else E={x:f[0]*r,y:f[1]*r};n.panBy(E),q.hoverData.dragged=!0}a=q.projectIntoViewport(e.clientX,e.clientY)}else if(1!=l[4]||null!=d&&!d.isEdge()){if(d&&d.isEdge()&&d.active()&&d.unactivate(),d&&d.grabbed()||u==h||(h&&H(h,["mouseout","tapdragout"],e,{position:{x:a[0],y:a[1]}}),u&&H(u,["mouseover","tapdragover"],e,{position:{x:a[0],y:a[1]}}),q.hoverData.last=u),d)if(c){if(n.boxSelectionEnabled()&&b)d&&d.grabbed()&&(U(p),d.emit("free")),w();else if(d&&d.grabbed()&&q.nodeIsDraggable(d)){var k=!q.dragData.didDrag;k&&q.redrawHint("eles",!0),q.dragData.didDrag=!0;var T=[];q.hoverData.draggingEles||Y(n.collection(p),{inDragLayer:!0});for(var P=0;P<p.length;P++){var A=p[P];if(q.nodeIsDraggable(A)&&A.grabbed()){var N=A.position();if(T.push(A),se.number(f[0])&&se.number(f[1])&&(N.x+=f[0],N.y+=f[1],k)){var S=q.hoverData.dragDelta;S&&se.number(S[0])&&se.number(S[1])&&(N.x+=S[0],N.y+=S[1])}}}q.hoverData.draggingEles=!0;var O=n.collection(T);O.dirtyCompoundBoundsCache(),O.emit("position drag"),q.redrawHint("drag",!0),q.redraw()}}else 0===(x=q.hoverData.dragDelta=q.hoverData.dragDelta||[]).length?(x.push(f[0]),x.push(f[1])):(x[0]+=f[0],x[1]+=f[1]);t=!0}else if(c){if(q.hoverData.dragging||!n.boxSelectionEnabled()||!b&&n.panningEnabled()&&n.userPanningEnabled()){if(!q.hoverData.selecting&&n.panningEnabled()&&n.userPanningEnabled()){X(d,q.hoverData.downs)&&(q.hoverData.dragging=!0,q.hoverData.justStartedPan=!0,l[4]=0,q.data.bgActivePosistion=le.array2point(o),q.redrawHint("select",!0),q.redraw())}}else w();d&&d.isEdge()&&d.active()&&d.unactivate()}return l[2]=a[0],l[3]=a[1],t?(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):void 0}},!1),q.registerBinding(window,"mouseup",function(e){if(q.hoverData.capture){q.hoverData.capture=!1;var t=q.cy,n=q.projectIntoViewport(e.clientX,e.clientY),r=q.selection,i=q.findNearestElement(n[0],n[1],!0,!1),a=q.dragData.possibleDragElements,o=q.hoverData.down,s=I(e);if(q.data.bgActivePosistion&&(q.redrawHint("select",!0),q.redraw()),q.hoverData.tapholdCancelled=!0,q.data.bgActivePosistion=void 0,o&&o.unactivate(),3===q.hoverData.which){var l={originalEvent:e,type:"cxttapend",position:{x:n[0],y:n[1]}};if(o?o.emit(l):t.emit(l),!q.hoverData.cxtDragged){var u={originalEvent:e,type:"cxttap",position:{x:n[0],y:n[1]}};o?o.emit(u):t.emit(u)}q.hoverData.cxtDragged=!1,q.hoverData.which=null}else if(1===q.hoverData.which){if(null!=o||q.dragData.didDrag||q.hoverData.selecting||q.hoverData.dragged||I(e)||(t.$(function(e){return e.selected()}).unselect(),0<a.length&&q.redrawHint("eles",!0),q.dragData.possibleDragElements=a=[]),H(i,["mouseup","tapend","vmouseup"],e,{position:{x:n[0],y:n[1]}}),q.dragData.didDrag||q.hoverData.dragged||q.hoverData.selecting||q.hoverData.isOverThresholdDrag||H(o,["click","tap","vclick"],e,{position:{x:n[0],y:n[1]}}),i!=o||q.dragData.didDrag||q.hoverData.selecting||null!=i&&i._private.selectable&&(q.hoverData.dragging||("additive"===t.selectionType()||s?i.selected()?i.unselect():i.select():s||(t.$(":selected").unmerge(i).unselect(),i.select())),q.redrawHint("eles",!0)),q.hoverData.selecting){var c=t.collection(q.getAllInBox(r[0],r[1],r[2],r[3]));q.redrawHint("select",!0),0<c.length&&q.redrawHint("eles",!0),t.emit("boxend");var h=function(e){return e.selectable()&&!e.selected()};"additive"===t.selectionType()||s||t.$(":selected").unmerge(c).unselect(),c.emit("box").stdFilter(h).select().emit("boxselect"),q.redraw()}if(q.hoverData.dragging&&(q.hoverData.dragging=!1,q.redrawHint("select",!0),q.redrawHint("eles",!0),q.redraw()),!r[4]){q.redrawHint("drag",!0),q.redrawHint("eles",!0);var d=o&&o.grabbed();U(a),d&&o.emit("free")}}r[4]=0,q.hoverData.down=null,q.hoverData.cxtStarted=!1,q.hoverData.draggingEles=!1,q.hoverData.selecting=!1,q.hoverData.isOverThresholdDrag=!1,q.dragData.didDrag=!1,q.hoverData.dragged=!1,q.hoverData.dragDelta=[],q.hoverData.mdownPos=null,q.hoverData.mdownGPos=null}},!1);var G,Z,Q,K,J,ee,x,te,ne,re,w,_,ie;q.registerBinding(q.container,"wheel",function(e){if(!q.scrollingPage){var t,n=q.cy,r=q.projectIntoViewport(e.clientX,e.clientY),i=[r[0]*n.zoom()+n.pan().x,r[1]*n.zoom()+n.pan().y];q.hoverData.draggingEles||q.hoverData.dragging||q.hoverData.cxtStarted||0!==q.selection[4]?e.preventDefault():n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()&&(e.preventDefault(),q.data.wheelZooming=!0,clearTimeout(q.data.wheelTimeout),q.data.wheelTimeout=setTimeout(function(){q.data.wheelZooming=!1,q.redrawHint("eles",!0),q.redraw()},150),t=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,t*=q.wheelSensitivity,1===e.deltaMode&&(t*=33),n.zoom({level:n.zoom()*Math.pow(10,t),renderedPosition:{x:i[0],y:i[1]}}))}},!0),q.registerBinding(window,"scroll",function(e){q.scrollingPage=!0,clearTimeout(q.scrollingPageTimeout),q.scrollingPageTimeout=setTimeout(function(){q.scrollingPage=!1},250)},!0),q.registerBinding(q.container,"mouseout",function(e){var t=q.projectIntoViewport(e.clientX,e.clientY);q.cy.emit({originalEvent:e,type:"mouseout",position:{x:t[0],y:t[1]}})},!1),q.registerBinding(q.container,"mouseover",function(e){var t=q.projectIntoViewport(e.clientX,e.clientY);q.cy.emit({originalEvent:e,type:"mouseover",position:{x:t[0],y:t[1]}})},!1);var i,s,l,u,ae=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},oe=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(q.registerBinding(q.container,"touchstart",i=function(t){if(W(t)){q.touchData.capture=!0,q.data.bgActivePosistion=void 0;var e=q.cy,n=q.touchData.now,r=q.touchData.earlier;if(t.touches[0]){var i=q.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);n[0]=i[0],n[1]=i[1]}if(t.touches[1]){i=q.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);n[2]=i[0],n[3]=i[1]}if(t.touches[2]){i=q.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);n[4]=i[0],n[5]=i[1]}if(t.touches[1]){U(q.dragData.touchDragEles);var a=q.findContainerClientCoords();ne=a[0],re=a[1],w=a[2],_=a[3],G=t.touches[0].clientX-ne,Z=t.touches[0].clientY-re,Q=t.touches[1].clientX-ne,K=t.touches[1].clientY-re,ie=0<=G&&G<=w&&0<=Q&&Q<=w&&0<=Z&&Z<=_&&0<=K&&K<=_;var o=e.pan(),s=e.zoom();J=ae(G,Z,Q,K),ee=oe(G,Z,Q,K),te=[((x=[(G+Q)/2,(Z+K)/2])[0]-o.x)/s,(x[1]-o.y)/s];if(ee<4e4&&!t.touches[2]){var l=q.findNearestElement(n[0],n[1],!0,!0),u=q.findNearestElement(n[2],n[3],!0,!0);return l&&l.isNode()?(l.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:n[0],y:n[1]}}),q.touchData.start=l):u&&u.isNode()?(u.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:n[0],y:n[1]}}),q.touchData.start=u):e.emit({originalEvent:t,type:"cxttapstart",position:{x:n[0],y:n[1]}}),q.touchData.start&&(q.touchData.start._private.grabbed=!1),q.touchData.cxt=!0,q.touchData.cxtDragged=!1,q.data.bgActivePosistion=void 0,void q.redraw()}}if(t.touches[2]);else if(t.touches[1]);else if(t.touches[0]){var c=q.findNearestElements(n[0],n[1],!0,!0),h=c[0];if(null!=h&&(h.activate(),q.touchData.start=h,q.touchData.starts=c,q.nodeIsGrabbable(h))){var d=q.dragData.touchDragEles=[],f=null;q.redrawHint("eles",!0),q.redrawHint("drag",!0),h.selected()?(f=e.$(function(e){return e.selected()&&q.nodeIsGrabbable(e)}),Y(f,{addToList:d})):b(h,{addToList:d}),m(h);var p=function(e){return{originalEvent:t,type:e,position:{x:n[0],y:n[1]}}};h.emit(p("grabon")),f?f.forEach(function(e){e.emit(p("grab"))}):h.emit(p("grab"))}H(h,["touchstart","tapstart","vmousedown"],t,{position:{x:n[0],y:n[1]}}),null==h&&(q.data.bgActivePosistion={x:i[0],y:i[1]},q.redrawHint("select",!0),q.redraw()),q.touchData.singleTouchMoved=!1,q.touchData.singleTouchStartTime=+new Date,clearTimeout(q.touchData.tapholdTimeout),q.touchData.tapholdTimeout=setTimeout(function(){!1!==q.touchData.singleTouchMoved||q.pinching||q.touchData.selecting||(H(q.touchData.start,["taphold"],t,{position:{x:n[0],y:n[1]}}),q.touchData.start||e.$(":selected").unselect())},q.tapholdDuration)}if(1<=t.touches.length){for(var v=q.touchData.startPosition=[],g=0;g<n.length;g++)v[g]=r[g]=n[g];var y=t.touches[0];q.touchData.startGPosition=[y.clientX,y.clientY]}}},!1),q.registerBinding(window,"touchmove",s=function(e){var t=q.touchData.capture;if(t||W(e)){var n=q.selection,r=q.cy,i=q.touchData.now,a=q.touchData.earlier,o=r.zoom();if(e.touches[0]){var s=q.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);i[0]=s[0],i[1]=s[1]}if(e.touches[1]){s=q.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);i[2]=s[0],i[3]=s[1]}if(e.touches[2]){s=q.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);i[4]=s[0],i[5]=s[1]}var l,u=q.touchData.startGPosition;if(t&&e.touches[0]&&u){for(var c=[],h=0;h<i.length;h++)c[h]=i[h]-a[h];var d=e.touches[0].clientX-u[0],f=d*d,p=e.touches[0].clientY-u[1];l=f+p*p>=q.touchTapThreshold2}if(t&&q.touchData.cxt){e.preventDefault();var v=e.touches[0].clientX-ne,g=e.touches[0].clientY-re,y=e.touches[1].clientX-ne,m=e.touches[1].clientY-re,b=oe(v,g,y,m);if(2.25<=b/ee||22500<=b){q.touchData.cxt=!1,q.data.bgActivePosistion=void 0,q.redrawHint("select",!0);var x={originalEvent:e,type:"cxttapend",position:{x:i[0],y:i[1]}};q.touchData.start?(q.touchData.start.unactivate().emit(x),q.touchData.start=null):r.emit(x)}}if(t&&q.touchData.cxt){x={originalEvent:e,type:"cxtdrag",position:{x:i[0],y:i[1]}};q.data.bgActivePosistion=void 0,q.redrawHint("select",!0),q.touchData.start?q.touchData.start.emit(x):r.emit(x),q.touchData.start&&(q.touchData.start._private.grabbed=!1),q.touchData.cxtDragged=!0;var w=q.findNearestElement(i[0],i[1],!0,!0);q.touchData.cxtOver&&w===q.touchData.cxtOver||(q.touchData.cxtOver&&q.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:i[0],y:i[1]}}),(q.touchData.cxtOver=w)&&w.emit({originalEvent:e,type:"cxtdragover",position:{x:i[0],y:i[1]}}))}else if(t&&e.touches[2]&&r.boxSelectionEnabled())e.preventDefault(),q.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,q.touchData.selecting||r.emit("boxstart"),q.touchData.selecting=!0,q.redrawHint("select",!0),n&&0!==n.length&&void 0!==n[0]?(n[2]=(i[0]+i[2]+i[4])/3,n[3]=(i[1]+i[3]+i[5])/3):(n[0]=(i[0]+i[2]+i[4])/3,n[1]=(i[1]+i[3]+i[5])/3,n[2]=(i[0]+i[2]+i[4])/3+1,n[3]=(i[1]+i[3]+i[5])/3+1),n[4]=1,q.touchData.selecting=!0,q.redraw();else if(t&&e.touches[1]&&r.zoomingEnabled()&&r.panningEnabled()&&r.userZoomingEnabled()&&r.userPanningEnabled()){if(e.preventDefault(),q.data.bgActivePosistion=void 0,q.redrawHint("select",!0),R=q.dragData.touchDragEles){q.redrawHint("drag",!0);for(var _=0;_<R.length;_++){var E=R[_]._private;E.grabbed=!1,E.rscratch.inDragLayer=!1}}v=e.touches[0].clientX-ne,g=e.touches[0].clientY-re,y=e.touches[1].clientX-ne,m=e.touches[1].clientY-re;var C=ae(v,g,y,m),k=C/J;if(ie){var T=(v-G+(y-Q))/2,P=(g-Z+(m-K))/2,A=r.zoom(),N=A*k,S=r.pan(),O=te[0]*A+S.x,I=te[1]*A+S.y,M={x:-N/A*(O-S.x-T)+O,y:-N/A*(I-S.y-P)+I};if(q.touchData.start&&q.touchData.start.active()){var R=q.dragData.touchDragEles;U(R),q.redrawHint("drag",!0),q.redrawHint("eles",!0),q.touchData.start.unactivate().emit("free")}r.viewport({zoom:N,pan:M,cancelOnFailedZoom:!0}),J=C,G=v,Z=g,Q=y,K=m,q.pinching=!0}if(e.touches[0]){s=q.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);i[0]=s[0],i[1]=s[1]}if(e.touches[1]){s=q.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);i[2]=s[0],i[3]=s[1]}if(e.touches[2]){s=q.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);i[4]=s[0],i[5]=s[1]}}else if(e.touches[0]){var B=q.touchData.start,D=q.touchData.last;if(q.hoverData.draggingEles||q.swipePanning||(w=q.findNearestElement(i[0],i[1],!0,!0)),t&&null!=B&&e.preventDefault(),t&&null!=B&&q.nodeIsDraggable(B))if(l){R=q.dragData.touchDragEles;var L=!q.dragData.didDrag;L&&Y(r.collection(R),{inDragLayer:!0});for(var j=0;j<R.length;j++){var z=R[j];if(q.nodeIsDraggable(z)&&z.grabbed()){q.dragData.didDrag=!0;var $=z.position();if(se.number(c[0])&&se.number(c[1])&&($.x+=c[0],$.y+=c[1]),L)q.redrawHint("eles",!0),(F=q.touchData.dragDelta)&&se.number(F[0])&&se.number(F[1])&&($.x+=F[0],$.y+=F[1])}}var V=r.collection(R);V.dirtyCompoundBoundsCache(),V.emit("position drag"),q.hoverData.draggingEles=!0,q.redrawHint("drag",!0),q.touchData.startPosition[0]==a[0]&&q.touchData.startPosition[1]==a[1]&&q.redrawHint("eles",!0),q.redraw()}else{var F;0===(F=q.touchData.dragDelta=q.touchData.dragDelta||[]).length?(F.push(c[0]),F.push(c[1])):(F[0]+=c[0],F[1]+=c[1])}if(H(B||w,["touchmove","tapdrag","vmousemove"],e,{position:{x:i[0],y:i[1]}}),B&&B.grabbed()||w==D||(D&&D.emit({originalEvent:e,type:"tapdragout",position:{x:i[0],y:i[1]}}),w&&w.emit({originalEvent:e,type:"tapdragover",position:{x:i[0],y:i[1]}})),q.touchData.last=w,t)for(_=0;_<i.length;_++)i[_]&&q.touchData.startPosition[_]&&l&&(q.touchData.singleTouchMoved=!0);if(t&&(null==B||B.isEdge())&&r.panningEnabled()&&r.userPanningEnabled()){X(B,q.touchData.starts)&&(e.preventDefault(),q.swipePanning?r.panBy({x:c[0]*o,y:c[1]*o}):l&&(q.swipePanning=!0,r.panBy({x:d*o,y:p*o}),B&&(B.unactivate(),q.data.bgActivePosistion||(q.data.bgActivePosistion=le.array2point(q.touchData.startPosition)),q.redrawHint("select",!0),q.touchData.start=null)));s=q.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);i[0]=s[0],i[1]=s[1]}}for(h=0;h<i.length;h++)a[h]=i[h];t&&0<e.touches.length&&!q.hoverData.draggingEles&&!q.swipePanning&&null!=q.data.bgActivePosistion&&(q.data.bgActivePosistion=void 0,q.redrawHint("select",!0),q.redraw())}},!1),q.registerBinding(window,"touchcancel",l=function(e){var t=q.touchData.start;q.touchData.capture=!1,t&&t.unactivate()}),q.registerBinding(window,"touchend",u=function(e){var t=q.touchData.start;if(q.touchData.capture){0===e.touches.length&&(q.touchData.capture=!1),e.preventDefault();var n=q.selection;q.swipePanning=!1,q.hoverData.draggingEles=!1;var r,i=q.cy,a=i.zoom(),o=q.touchData.now,s=q.touchData.earlier;if(e.touches[0]){var l=q.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);o[0]=l[0],o[1]=l[1]}if(e.touches[1]){l=q.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY);o[2]=l[0],o[3]=l[1]}if(e.touches[2]){l=q.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY);o[4]=l[0],o[5]=l[1]}if(t&&t.unactivate(),q.touchData.cxt){if(r={originalEvent:e,type:"cxttapend",position:{x:o[0],y:o[1]}},t?t.emit(r):i.emit(r),!q.touchData.cxtDragged){var u={originalEvent:e,type:"cxttap",position:{x:o[0],y:o[1]}};t?t.emit(u):i.emit(u)}return q.touchData.start&&(q.touchData.start._private.grabbed=!1),q.touchData.cxt=!1,q.touchData.start=null,void q.redraw()}if(!e.touches[2]&&i.boxSelectionEnabled()&&q.touchData.selecting){q.touchData.selecting=!1;var c=i.collection(q.getAllInBox(n[0],n[1],n[2],n[3]));n[0]=void 0,n[1]=void 0,n[2]=void 0,n[3]=void 0,n[4]=0,q.redrawHint("select",!0),i.emit("boxend");c.emit("box").stdFilter(function(e){return e.selectable()&&!e.selected()}).select().emit("boxselect"),c.nonempty()&&q.redrawHint("eles",!0),q.redraw()}if(null!=t&&t.unactivate(),e.touches[2])q.data.bgActivePosistion=void 0,q.redrawHint("select",!0);else if(e.touches[1]);else if(e.touches[0]);else if(!e.touches[0]){q.data.bgActivePosistion=void 0,q.redrawHint("select",!0);var h=q.dragData.touchDragEles;if(null!=t){var d=t._private.grabbed;U(h),q.redrawHint("drag",!0),q.redrawHint("eles",!0),d&&t.emit("free"),H(t,["touchend","tapend","vmouseup","tapdragout"],e,{position:{x:o[0],y:o[1]}}),t.unactivate(),q.touchData.start=null}else{var f=q.findNearestElement(o[0],o[1],!0,!0);H(f,["touchend","tapend","vmouseup","tapdragout"],e,{position:{x:o[0],y:o[1]}})}var p=q.touchData.startPosition[0]-o[0],v=p*p,g=q.touchData.startPosition[1]-o[1],y=(v+g*g)*a*a;null!=t&&!q.dragData.didDrag&&t._private.selectable&&y<q.touchTapThreshold2&&!q.pinching&&("single"===i.selectionType()?(i.$(":selected").unmerge(t).unselect(),t.select()):t.selected()?t.unselect():t.select(),q.redrawHint("eles",!0)),q.touchData.singleTouchMoved||H(t,["tap","vclick"],e,{position:{x:o[0],y:o[1]}}),q.touchData.singleTouchMoved=!0}for(var m=0;m<o.length;m++)s[m]=o[m];q.dragData.didDrag=!1,0===e.touches.length&&(q.touchData.dragDelta=[],q.touchData.startPosition=null,q.touchData.startGPosition=null),e.touches.length<2&&(q.pinching=!1,q.redrawHint("eles",!0),q.redraw())}},!1),"undefined"==typeof TouchEvent){var c=[],h=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},d=function(e){var t;c.push({event:t=e,touch:h(t)})},f=function(e){for(var t=0;t<c.length;t++){if(c[t].event.pointerId===e.pointerId)return void c.splice(t,1)}},p=function(e){e.touches=c.map(function(e){return e.touch})},v=function(e){return"mouse"===e.pointerType||4===e.pointerType};q.registerBinding(q.container,"pointerdown",function(e){v(e)||(e.preventDefault(),d(e),p(e),i(e))}),q.registerBinding(q.container,"pointerup",function(e){v(e)||(f(e),p(e),u(e))}),q.registerBinding(q.container,"pointercancel",function(e){v(e)||(f(e),p(e),l())}),q.registerBinding(q.container,"pointermove",function(e){var t,n;v(e)||(e.preventDefault(),t=e,(n=c.filter(function(e){return e.event.pointerId===t.pointerId})[0]).event=t,n.touch=h(t),p(e),s(e))})}},e.exports=r},function(e,t,n){var x=n(2),r={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,r,i,a,o){return x.polygonIntersectLine(i,a,this.points,e,t,n/2,r/2,o)},checkPoint:function(e,t,n,r,i,a,o){return x.pointInsidePolygon(e,t,this.points,a,o,r,i,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){return x.intersectLineEllipse(i,a,e,t,n/2+o,r/2+o)},checkPoint:function(e,t,n,r,i,a,o){return x.checkInEllipse(e,t,r,i,a,o,n)}}},generateRoundRectangle:function(){return this.nodeShapes.roundrectangle={renderer:this,name:"roundrectangle",points:x.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){return x.roundRectangleIntersectLine(i,a,e,t,n,r,o)},checkPoint:function(e,t,n,r,i,a,o){var s=x.getRoundRectangleRadius(r,i),l=2*s;return!!x.pointInsidePolygon(e,t,this.points,a,o,r,i-l,[0,-1],n)||(!!x.pointInsidePolygon(e,t,this.points,a,o,r-l,i,[0,-1],n)||(!!x.checkInEllipse(e,t,l,l,a-r/2+s,o-i/2+s,n)||(!!x.checkInEllipse(e,t,l,l,a+r/2-s,o-i/2+s,n)||(!!x.checkInEllipse(e,t,l,l,a+r/2-s,o+i/2-s,n)||!!x.checkInEllipse(e,t,l,l,a-r/2+s,o+i/2-s,n)))))}}},generateCutRectangle:function(){return this.nodeShapes.cutrectangle={renderer:this,name:"cutrectangle",cornerLength:x.getCutRectangleCornerLength(),points:x.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},generateCutTrianglePts:function(e,t,n,r){var i=this.cornerLength,a=t/2,o=e/2,s=n-o,l=n+o,u=r-a,c=r+a;return{topLeft:[s,u+i,s+i,u,s+i,u+i],topRight:[l-i,u,l,u+i,l-i,u+i],bottomRight:[l,c-i,l-i,c,l-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function(e,t,n,r,i,a,o){var s=this.generateCutTrianglePts(n+2*o,r+2*o,e,t),l=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return x.polygonIntersectLine(i,a,l,e,t)},checkPoint:function(e,t,n,r,i,a,o){if(x.pointInsidePolygon(e,t,this.points,a,o,r,i-2*this.cornerLength,[0,-1],n))return!0;if(x.pointInsidePolygon(e,t,this.points,a,o,r-2*this.cornerLength,i,[0,-1],n))return!0;var s=this.generateCutTrianglePts(r,i,a,o);return x.pointInsidePolygonPoints(e,t,s.topLeft)||x.pointInsidePolygonPoints(e,t,s.topRight)||x.pointInsidePolygonPoints(e,t,s.bottomRight)||x.pointInsidePolygonPoints(e,t,s.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:x.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){var s=this.generateBarrelBezierPts(n+2*o,r+2*o,e,t),l=function(e){var t=x.qbezierPtAt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=x.qbezierPtAt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=x.qbezierPtAt({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},u=[].concat(l(s.topLeft),l(s.topRight),l(s.bottomRight),l(s.bottomLeft));return x.polygonIntersectLine(i,a,u,e,t)},generateBarrelBezierPts:function(e,t,n,r){var i=t/2,a=e/2,o=n-a,s=n+a,l=r-i,u=r+i,c=x.getBarrelCurveConstants(e,t),h=c.heightOffset,d=c.widthOffset,f=c.ctrlPtOffsetPct*e,p={topLeft:[o,l+h,o+f,l,o+d,l],topRight:[s-d,l,s-f,l,s,l+h],bottomRight:[s,u-h,s-f,u,s-d,u],bottomLeft:[o+d,u,o+f,u,o,u-h]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(e,t,n,r,i,a,o){var s=x.getBarrelCurveConstants(r,i),l=s.heightOffset,u=s.widthOffset;if(x.pointInsidePolygon(e,t,this.points,a,o,r,i-2*l,[0,-1],n))return!0;if(x.pointInsidePolygon(e,t,this.points,a,o,r-2*u,i,[0,-1],n))return!0;for(var c=this.generateBarrelBezierPts(r,i,a,o),h=function(e,t,n){var r=n[4],i=n[2],a=n[0],o=n[5],s=n[1],l=Math.min(r,a),u=Math.max(r,a),c=Math.min(o,s),h=Math.max(o,s);if(l<=e&&e<=u&&c<=t&&t<=h){var d=x.bezierPtsToQuadCoeff(r,i,a),f=x.solveQuadratic(d[0],d[1],d[2],e).filter(function(e){return 0<=e&&e<=1});if(0<f.length)return f[0]}return null},d=Object.keys(c),f=0;f<d.length;f++){var p=c[d[f]],v=h(e,t,p);if(null!=v){var g=p[5],y=p[3],m=p[1],b=x.qbezierAt(g,y,m,v);if(p.isTop&&b<=t)return!0;if(p.isBottom&&t<=b)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottomroundrectangle",points:x.generateUnitNgonPointsFitToSquare(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,a,o){var s=e-(n/2+o),l=t-(r/2+o),u=l,c=e+(n/2+o),h=x.finiteLinesIntersect(i,a,e,t,s,l,c,u,!1);return 0<h.length?h:x.roundRectangleIntersectLine(i,a,e,t,n,r,o)},checkPoint:function(e,t,n,r,i,a,o){var s=x.getRoundRectangleRadius(r,i),l=2*s;if(x.pointInsidePolygon(e,t,this.points,a,o,r,i-l,[0,-1],n))return!0;if(x.pointInsidePolygon(e,t,this.points,a,o,r-l,i,[0,-1],n))return!0;var u=r/2+2*n,c=i/2+2*n,h=[a-u,o-c,a-u,o,a+u,o,a+u,o-c];return!!x.pointInsidePolygonPoints(e,t,h)||(!!x.checkInEllipse(e,t,l,l,a+r/2-s,o+i/2-s,n)||!!x.checkInEllipse(e,t,l,l,a-r/2+s,o+i/2-s,n))}}},registerNodeShapes:function(){var e=this.nodeShapes={},r=this;this.generateEllipse(),this.generatePolygon("triangle",x.generateUnitNgonPointsFitToSquare(3,0)),this.generatePolygon("rectangle",x.generateUnitNgonPointsFitToSquare(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle(),this.generatePolygon("diamond",[0,1,1,0,0,-1,-1,0]),this.generatePolygon("pentagon",x.generateUnitNgonPointsFitToSquare(5,0)),this.generatePolygon("hexagon",x.generateUnitNgonPointsFitToSquare(6,0)),this.generatePolygon("heptagon",x.generateUnitNgonPointsFitToSquare(7,0)),this.generatePolygon("octagon",x.generateUnitNgonPointsFitToSquare(8,0));var t=new Array(20),n=x.generateUnitNgonPoints(5,0),i=x.generateUnitNgonPoints(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var o=0;o<i.length/2;o++)i[2*o]*=a,i[2*o+1]*=a;for(o=0;o<5;o++)t[4*o]=n[2*o],t[4*o+1]=n[2*o+1],t[4*o+2]=i[2*o],t[4*o+3]=i[2*o+1];t=x.fitPolygonToSquare(t),this.generatePolygon("star",t),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("concavehexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]),this.generatePolygon("tag",[-1,-1,.25,-1,1,0,.25,1,-1,1]),e.makePolygon=function(e){var t,n="polygon-"+e.join("$");return(t=this[n])?t:r.generatePolygon(n,e)}}};e.exports=r},function(e,t,n){var o=n(1),r={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||o.staticEmptyObject();void 0===this.averageRedrawTime&&(this.averageRedrawTime=0),void 0===this.lastRedrawTime&&(this.lastRedrawTime=0),void 0===this.lastDrawTime&&(this.lastDrawTime=0),this.requestedFrame=!0,this.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){t=t||0;var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort(function(e,t){return t.priority-e.priority})}}},s=function(e,t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)};r.startRenderLoop=function(){var a=this;if(!a.renderLoopStarted){a.renderLoopStarted=!0;o.requestAnimationFrame(function e(t){if(!a.destroyed){if(a.requestedFrame&&!a.skipFrame){s(a,!0,t);var n=o.performanceNow();a.render(a.renderOptions);var r=a.lastDrawTime=o.performanceNow();void 0===a.averageRedrawTime&&(a.averageRedrawTime=r-n),void 0===a.redrawCount&&(a.redrawCount=0),a.redrawCount++,void 0===a.redrawTotalTime&&(a.redrawTotalTime=0);var i=r-n;a.redrawTotalTime+=i,a.lastRedrawTime=i,a.averageRedrawTime=a.averageRedrawTime/2+i/2,a.requestedFrame=!1}else s(a,!1,t);a.skipFrame=!1,o.requestAnimationFrame(e)}})}},e.exports=r},function(e,t,n){var r=n(1),o=n(0),s=n(124),l=n(125),i=a,u=a.prototype;function a(e){var c=this;c.data={canvases:new Array(u.CANVAS_LAYERS),contexts:new Array(u.CANVAS_LAYERS),canvasNeedsRedraw:new Array(u.CANVAS_LAYERS),bufferCanvases:new Array(u.BUFFER_COUNT),bufferContexts:new Array(u.CANVAS_LAYERS)};var t="-webkit-tap-highlight-color: rgba(0,0,0,0);";c.data.canvasContainer=document.createElement("div");var n=c.data.canvasContainer.style;c.data.canvasContainer.setAttribute("style",t),n.position="relative",n.zIndex="0",n.overflow="hidden";var r=e.cy.container();r.appendChild(c.data.canvasContainer),(r.getAttribute("style")||"").indexOf(t)<0&&r.setAttribute("style",(r.getAttribute("style")||"")+t);for(var i=0;i<u.CANVAS_LAYERS;i++){var a=c.data.canvases[i]=document.createElement("canvas");c.data.contexts[i]=a.getContext("2d"),a.setAttribute("style","-webkit-user-select: none; -moz-user-select: -moz-none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0); outline-style: none;"+(o.ms()?" -ms-touch-action: none; touch-action: none; ":"")),a.style.position="absolute",a.setAttribute("data-id","layer"+i),a.style.zIndex=String(u.CANVAS_LAYERS-i),c.data.canvasContainer.appendChild(a),c.data.canvasNeedsRedraw[i]=!1}c.data.topCanvas=c.data.canvases[0],c.data.canvases[u.NODE].setAttribute("data-id","layer"+u.NODE+"-node"),c.data.canvases[u.SELECT_BOX].setAttribute("data-id","layer"+u.SELECT_BOX+"-selectbox"),c.data.canvases[u.DRAG].setAttribute("data-id","layer"+u.DRAG+"-drag");for(i=0;i<u.BUFFER_COUNT;i++)c.data.bufferCanvases[i]=document.createElement("canvas"),c.data.bufferContexts[i]=c.data.bufferCanvases[i].getContext("2d"),c.data.bufferCanvases[i].style.position="absolute",c.data.bufferCanvases[i].setAttribute("data-id","buffer"+i),c.data.bufferCanvases[i].style.zIndex=String(-i-1),c.data.bufferCanvases[i].style.visibility="hidden";c.pathsEnabled=!0,c.data.eleTxrCache=new s(c),c.data.lyrTxrCache=new l(c,c.data.eleTxrCache),c.onUpdateEleCalcs(function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r._private.rstyle,a=i.dirtyEvents;if(r.isNode()&&a&&1===a.length&&a.position);else if(c.data.eleTxrCache.invalidateElement(r),r.isParent()&&a.style){var o=i.prevParentOpacity,s=r.pstyle("opacity").pfValue;if(o!==(i.prevParentOpacity=s))for(var l=r.descendants(),u=0;u<l.length;u++)c.data.eleTxrCache.invalidateElement(l[u])}}0<t.length&&c.data.lyrTxrCache.invalidateElements(t)})}u.CANVAS_LAYERS=3,u.SELECT_BOX=0,u.DRAG=1,u.NODE=2,u.BUFFER_COUNT=3,u.TEXTURE_BUFFER=0,u.MOTIONBLUR_BUFFER_NODE=1,u.MOTIONBLUR_BUFFER_DRAG=2,u.redrawHint=function(e,t){switch(e){case"eles":this.data.canvasNeedsRedraw[u.NODE]=t;break;case"drag":this.data.canvasNeedsRedraw[u.DRAG]=t;break;case"select":this.data.canvasNeedsRedraw[u.SELECT_BOX]=t}};var c="undefined"!=typeof Path2D;u.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},u.usePaths=function(){return c&&this.pathsEnabled},[n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135)].forEach(function(e){r.extend(u,e)}),e.exports=i},function(e,t,n){var N=n(2),u=n(1),r=n(9),i=n(19),S={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},a=function(e){this.renderer=e,this.onDequeues=[],this.setupDequeueing()},o=a.prototype;o.reasons=S,o.getTextureQueue=function(e){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[e]=this.eleImgCaches[e]||[]},o.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},o.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new r(function(e,t){return t.reqs-e.reqs})},o.getElementIdToQueue=function(){return this.eleIdToCacheQueue=this.eleIdToCacheQueue||{}},o.getElement=function(e,t,n,r,i){var a=this,o=this.renderer,s=e._private.rscratch,l=o.cy.zoom();if(0===t.w||0===t.h||!e.visible())return null;if(null==r&&(r=Math.ceil(N.log2(l*n))),r<-4)r=-4;else if(3.99<=l||2<r)return null;var u,c=Math.pow(2,r),h=t.h*c,d=t.w*c,f=s.imgCaches=s.imgCaches||{},p=f[r];if(p)return p;if(u=h<=25?25:h<=50?50:50*Math.ceil(h/50),1024<h||1024<d||e.isEdge()||e.isParent())return null;var v=a.getTextureQueue(u),g=v[v.length-2],y=function(){return a.recycleTexture(u,d)||a.addTexture(u,d)};g||(g=v[v.length-1]),g||(g=y()),g.width-g.usedWidth<d&&(g=y());for(var m,b=o.eleTextBiggerThanMin(e,c),x=function(e){return e&&e.scaledLabelShown===b},w=i&&i===S.dequeue,_=i&&i===S.highQuality,E=i&&i===S.downscale,C=r+1;C<=2;C++){if(A=f[C]){m=A;break}}var k=m&&m.level===r+1?m:null,T=function(){g.context.drawImage(k.texture.canvas,k.x,0,k.width,k.height,g.usedWidth,0,d,h)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,d,u),x(k))T();else if(x(m)){if(!_)return a.queueElement(e,m.level-1),m;for(C=m.level;r<C;C--)k=a.getElement(e,t,n,C,S.downscale);T()}else{var P;if(!w&&!_&&!E)for(C=r-1;-4<=C;C--){var A;if(A=f[C]){P=A;break}}if(x(P))return a.queueElement(e,r),P;g.context.translate(g.usedWidth,0),g.context.scale(c,c),o.drawElement(g.context,e,t,b),g.context.scale(1/c,1/c),g.context.translate(-g.usedWidth,0)}return p=f[r]={ele:e,x:g.usedWidth,texture:g,level:r,scale:c,width:d,height:h,scaledLabelShown:b},g.usedWidth+=Math.ceil(d+8),g.eleCaches.push(p),a.checkTextureFullness(g),p},o.invalidateElement=function(e){var t=e._private.rscratch.imgCaches;if(t)for(var n=-4;n<=2;n++){var r=t[n];if(r){var i=r.texture;i.invalidatedWidth+=r.width,t[n]=null,u.removeFromArray(i.eleCaches,r),this.removeFromQueue(e),this.checkTextureUtility(i)}}},o.checkTextureUtility=function(e){e.invalidatedWidth>=.5*e.width&&this.retireTexture(e)},o.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);.8<e.usedWidth/e.width&&10<=e.fullnessChecks?u.removeFromArray(t,e):e.fullnessChecks++},o.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t);u.removeFromArray(n,e),e.retired=!0;for(var r=e.eleCaches,i=0;i<r.length;i++){var a=r[i],o=a.ele,s=a.level,l=o._private.rscratch.imgCaches;l&&(l[s]=null)}u.clearArray(r),this.getRetiredTextureQueue(t).push(e)},o.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=document.createElement("canvas"),n.canvas.width=n.width,n.canvas.height=n.height,n.context=n.canvas.getContext("2d"),n},o.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),i=0;i<r.length;i++){var a=r[i];if(a.width>=t)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,u.clearArray(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),u.removeFromArray(r,a),n.push(a),a}},o.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementIdToQueue(),i=e.id(),a=r[i];if(a)a.level=Math.max(a.level,t),a.reqs++,n.updateItem(a);else{var o={ele:e,level:t,reqs:1};n.push(o),r[i]=o}},o.dequeue=function(e){for(var t=this.getElementQueue(),n=this.getElementIdToQueue(),r=[],i=0;i<1&&0<t.size();i++){var a=t.pop(),o=a.ele;if(null==o._private.rscratch.imgCaches[a.level]){n[o.id()]=null,r.push(a);var s=o.boundingBox();this.getElement(o,s,e,a.level,S.dequeue)}}return r},o.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementIdToQueue(),r=n[e.id()];null!=r&&(r.reqs=u.MAX_INT,t.updateItem(r),t.pop(),n[e.id()]=null)},o.onDequeue=function(e){this.onDequeues.push(e)},o.offDequeue=function(e){u.removeFromArray(this.onDequeues,e)},o.setupDequeueing=i.setupDequeueing({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){(0,e.onDequeues[n])(t)}},shouldRedraw:function(e,t,n,r){for(var i=0;i<t.length;i++){var a=t[i].ele.boundingBox();if(N.boundingBoxesIntersect(a,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}}),e.exports=a},function(e,t,n){var x=n(1),w=n(2),i=n(9),c=n(0),r=n(19),a=function(e,t){var n=this,r=n.renderer=e;n.layersByLevel={},n.firstGet=!0,n.lastInvalidationTime=x.performanceNow()-500,n.skipping=!1,r.beforeRender(function(e,t){t-n.lastInvalidationTime<=250?n.skipping=!0:n.skipping=!1});n.layersQueue=new i(function(e,t){return t.reqs-e.reqs}),n.eleTxrCache=t,n.setupEleCacheInvalidation(),n.setupDequeueing()},o=a.prototype,h=0,d=Math.pow(2,53)-1;function f(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)}o.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),a=document.createElement("canvas");a.width=r,a.height=i;var o={id:h=++h%d,bb:e,level:t,width:r,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(n,n),s.translate(l,u),o},o.getLayers=function(i,e,a){var o=this,t=o.renderer.cy.zoom(),n=o.firstGet;if(o.firstGet=!1,null==a)if((a=Math.ceil(w.log2(t*e)))<-4)a=-4;else if(3.99<=t||2<a)return null;o.validateLayersElesOrdering(a,i);var s,l,u=o.layersByLevel,c=Math.pow(2,a),h=u[a]=u[a]||[];if(o.levelIsComplete(a,i))return h;!function(){var n=function(e){if(o.validateLayersElesOrdering(e,i),o.levelIsComplete(e,i))return l=u[e],!0},e=function(e){if(!l)for(var t=a+e;-4<=t&&t<=2&&!n(t);t+=e);};e(1),e(-1);for(var t=h.length-1;0<=t;t--){var r=h[t];r.invalid&&x.removeFromArray(h,r)}}();var r=function(e){var t=(e=e||{}).after;if(function(){if(!s){s=w.makeBoundingBox();for(var e=0;e<i.length;e++)w.updateBoundingBox(s,i[e].boundingBox())}}(),16e6<s.w*c*(s.h*c))return null;var n=o.makeLayer(s,a);if(null!=t){var r=h.indexOf(t)+1;h.splice(r,0,n)}else(void 0===e.insert||e.insert)&&h.unshift(n);return n};if(o.skipping&&!n)return null;for(var d=null,f=i.length/1,p=!n,v=0;v<i.length;v++){var g=i[v],y=g._private.rscratch,m=y.imgLayerCaches=y.imgLayerCaches||{},b=m[a];if(b)d=b;else{if((!d||d.eles.length>=f||!w.boundingBoxInBoundingBox(d.bb,g.boundingBox()))&&!(d=r({insert:!0,after:d})))return null;l||p?o.queueLayer(d,g):o.drawEleInLayer(d,g,a,e),d.eles.push(g),m[a]=d}}return l||(p?null:h)},o.getEleLevelForLayerLevel=function(e,t){return e},o.drawEleInLayer=function(e,t,n,r){var i=this.renderer,a=e.context,o=t.boundingBox();if(0!==o.w&&0!==o.h&&t.visible()){var s=this.eleTxrCache,l=s.reasons.highQuality;n=this.getEleLevelForLayerLevel(n,r);var u=s.getElement(t,o,null,n,l);u?(f(a,!1),a.drawImage(u.texture.canvas,u.x,0,u.width,u.height,o.x1,o.y1,o.w,o.h),f(a,!0)):i.drawElement(a,t)}},o.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var a=n[i];if(0<a.reqs)return!1;if(a.invalid)return!1;r+=a.eles.length}return r===t.length},o.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(a<0)this.invalidateLayer(i);else{var s=a;for(o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}}},o.updateElementsInLayers=function(e,t){for(var n=c.element(e[0]),r=0;r<e.length;r++)for(var i=n?null:e[r],a=n?e[r]:e[r].ele,o=a._private.rscratch,s=o.imgLayerCaches=o.imgLayerCaches||{},l=-4;l<=2;l++){var u=s[l];u&&(i&&this.getEleLevelForLayerLevel(u.level)!==i.level||t(u,a,i))}},o.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&0<n.length){e=!0;break}}return e},o.invalidateElements=function(e){var r=this;r.lastInvalidationTime=x.performanceNow(),0!==e.length&&r.haveLayers()&&r.updateElementsInLayers(e,function(e,t,n){r.invalidateLayer(e)})},o.invalidateLayer=function(e){if(this.lastInvalidationTime=x.performanceNow(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];x.removeFromArray(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var a=n[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},o.refineElementTextures=function(e){var a=this;a.updateElementsInLayers(e,function(e,t,n){var r=e.replacement;if(r||((r=e.replacement=a.makeLayer(e.bb,e.level)).replaces=e,r.eles=e.eles),!r.reqs)for(var i=0;i<r.eles.length;i++)a.queueLayer(r,r.eles[i])})},o.setupEleCacheInvalidation=function(){var e=this,n=[];var r=x.debounce(function(){e.refineElementTextures(n),n=[]},50);e.eleTxrCache.onDequeue(function(e){for(var t=0;t<e.length;t++)n.push(e[t]);r()})},o.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,i=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;r.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},o.dequeue=function(e){for(var t=this.layersQueue,n=[],r=0;r<1&&0!==t.size();){var i=t.peek();if(i.replacement)t.pop();else if(i.replaces&&i!==i.replaces.replacement)t.pop();else if(i.invalid)t.pop();else{var a=i.elesQueue.shift();a&&(this.drawEleInLayer(i,a,i.level,e),r++),0===n.length&&n.push(!0),0===i.elesQueue.length&&(t.pop(),i.reqs=0,i.replaces&&this.applyLayerReplacement(i),this.requestRedraw())}}return n},o.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var i=0;i<e.eles.length;i++){var a=e.eles[i]._private,o=a.imgLayerCaches=a.imgLayerCaches||{};o&&(o[e.level]=e)}this.requestRedraw()}},o.requestRedraw=x.debounce(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),o.setupDequeueing=r.setupDequeueing({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:x.noop,shouldRedraw:x.trueify,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}}),e.exports=a},function(e,t,n){var r,i={};i.arrowShapeImpl=function(e){return(r||(r={polygon:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}},"triangle-backcurve":function(e,t,n){for(var r,i=0;i<t.length;i++){var a=t[i];0===i&&(r=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)},"triangle-tee":function(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var a=r[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath(),e.beginPath&&e.beginPath();var o=n,s=n[0];e.moveTo(s.x,s.y);for(i=0;i<o.length;i++){a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()},"triangle-cross":function(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var a=r[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath(),e.beginPath&&e.beginPath();var o=n,s=n[0];e.moveTo(s.x,s.y);for(i=0;i<o.length;i++){a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()},circle:function(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}}))[e]},e.exports=i},function(e,t,n){var o=n(2),r={drawElement:function(e,t,n,r){t.isNode()?this.drawNode(e,t,n,r):this.drawEdge(e,t,n,r)},drawCachedElement:function(e,t,n,r){var i=t.boundingBox();if(0!==i.w&&0!==i.h&&(!r||o.boundingBoxesIntersect(i,r))){var a=this.data.eleTxrCache.getElement(t,i,n);null!=a?e.drawImage(a.texture.canvas,a.x,0,a.width,a.height,i.x1,i.y1,i.w,i.h):this.drawElement(e,t)}},drawElements:function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},drawCachedElements:function(e,t,n,r){for(var i=0;i<t.length;i++){var a=t[i];this.drawCachedElement(e,a,n,r)}},drawCachedNodes:function(e,t,n,r){for(var i=0;i<t.length;i++){var a=t[i];a.isNode()&&this.drawCachedElement(e,a,n,r)}},drawLayeredElements:function(e,t,n,r){var i=this.data.lyrTxrCache.getLayers(t,n);if(i)for(var a=0;a<i.length;a++){var o=i[a],s=o.bb;0!==s.w&&0!==s.h&&e.drawImage(o.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,n,r)},drawDebugPoints:function(r,e){for(var t=function(e,t,n){r.fillStyle=n,r.fillRect(e-1,t-1,3,3)},n=0;n<e.length;n++){var i=e[n],a=i._private.rscratch;if(i.isNode()){var o=i.position();t(o.x,o.y,"magenta")}else{for(var s=a.allpts,l=0;l+1<s.length;l+=2){t(s[l],s[l+1],"cyan")}t(a.midX,a.midY,"yellow")}}}};e.exports=r},function(e,t,n){var r={drawEdge:function(t,n,e,r){var i=this,a=n._private.rscratch,o=i.usePaths();if(n.visible()&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var s=void 0;e&&(s=e,t.translate(-s.x1,-s.y1));var l=2*n.pstyle("overlay-padding").pfValue,u=n.pstyle("overlay-opacity").value,c=n.pstyle("overlay-color").value,h=n.pstyle("line-color").value,d=n.pstyle("opacity").value,f=n.pstyle("line-style").value,p=n.pstyle("width").pfValue,v=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d;t.lineWidth=p,t.lineCap="butt",i.strokeStyle(t,h[0],h[1],h[2],e),i.drawEdgePath(n,t,a.allpts,f)},g=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:d;i.drawArrowheads(t,n,e)};if(t.lineJoin="round","yes"===n.pstyle("ghost").value){var y=n.pstyle("ghost-offset-x").pfValue,m=n.pstyle("ghost-offset-y").pfValue,b=n.pstyle("ghost-opacity").value,x=d*b;t.translate(y,m),v(x),g(x),t.translate(-y,-m)}v(),g(),function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u;t.lineWidth=l,"self"!==a.edgeType||o?t.lineCap="round":t.lineCap="butt",i.strokeStyle(t,c[0],c[1],c[2],e),i.drawEdgePath(n,t,a.allpts,"solid")}(),i.drawElementText(t,n,r),e&&t.translate(s.x1,s.y1)}},drawEdgePath:function(e,t,n,r){var i=e._private.rscratch,a=t,o=void 0,s=!1,l=this.usePaths();if(l){var u=n.join("$");i.pathCacheKey&&i.pathCacheKey===u?(o=t=i.pathCache,s=!0):(o=t=new Path2D,i.pathCacheKey=u,i.pathCache=o)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash([6,3]);break;case"solid":a.setLineDash([])}if(!s&&!i.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var c=2;c+3<n.length;c+=4)t.quadraticCurveTo(n[c],n[c+1],n[c+2],n[c+3]);break;case"straight":case"segments":case"haystack":for(var h=2;h+1<n.length;h+=2)t.lineTo(n[h],n[h+1])}t=a,l?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])},drawArrowheads:function(e,t,n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},drawArrowhead:function(e,t,n,r,i,a,o){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(a)||null==a)){var s=t.pstyle(n+"-arrow-shape").value;if("none"!==s){var l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",u=t.pstyle(n+"-arrow-fill").value,c=t.pstyle("width").pfValue,h=t.pstyle("opacity").value;void 0===o&&(o=h);var d=e.globalCompositeOperation;1===o&&"hollow"!==u||(e.globalCompositeOperation="destination-out",this.fillStyle(e,255,255,255,1),this.strokeStyle(e,255,255,255,1),this.drawArrowShape(t,n,e,l,c,s,r,i,a),e.globalCompositeOperation=d);var f=t.pstyle(n+"-arrow-color").value;this.fillStyle(e,f[0],f[1],f[2],o),this.strokeStyle(e,f[0],f[1],f[2],o),this.drawArrowShape(t,n,e,u,c,s,r,i,a)}}},drawArrowShape:function(e,t,n,r,i,a,o,s,l){var u=this.usePaths(),c=e._private.rscratch,h=!1,d=void 0,f=n,p={x:o,y:s},v=e.pstyle("arrow-scale").value,g=this.getArrowWidth(i,v),y=this.arrowShapes[a];if(u){var m=g+"$"+a+"$"+l+"$"+o+"$"+s;c.arrowPathCacheKey=c.arrowPathCacheKey||{},c.arrowPathCache=c.arrowPathCache||{},c.arrowPathCacheKey[t]===m?(d=n=c.arrowPathCache[t],h=!0):(d=n=new Path2D,c.arrowPathCacheKey[t]=m,c.arrowPathCache[t]=d)}n.beginPath&&n.beginPath(),h||y.draw(n,g,l,p,i),!y.leavePathOpen&&n.closePath&&n.closePath(),n=f,"filled"!==r&&"both"!==r||(u?n.fill(d):n.fill()),"hollow"!==r&&"both"!==r||(n.lineWidth=y.matchEdgeWidth?i:1,n.lineJoin="miter",u?n.stroke(d):n.stroke())}};e.exports=r},function(e,t,n){var r={safeDrawImage:function(e,t,n,r,i,a,o,s,l,u){i<=0||a<=0||l<=0||u<=0||e.drawImage(t,n,r,i,a,o,s,l,u)},drawInscribedImage:function(e,t,n,r,i){var a=n.position(),o=a.x,s=a.y,l=n.cy().style(),u=l.getIndexedStyle.bind(l),c=u(n,"background-fit","value",r),h=u(n,"background-repeat","value",r),d=n.width(),f=n.height(),p=2*n.padding(),v=d+("inner"===u(n,"background-width-relative-to","value",r)?0:p),g=f+("inner"===u(n,"background-height-relative-to","value",r)?0:p),y=n._private.rscratch,m="node"===n.pstyle("background-clip").value,b=u(n,"background-image-opacity","value",r)*i,x=t.width||t.cachedW,w=t.height||t.cachedH;null!=x&&null!=w||(document.body.appendChild(t),x=t.cachedW=t.width||t.offsetWidth,w=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var _=x,E=w;if("auto"!==u(n,"background-width","value",r)&&(_="%"===u(n,"background-width","units",r)?u(n,"background-width","pfValue",r)*v:u(n,"background-width","pfValue",r)),"auto"!==u(n,"background-height","value",r)&&(E="%"===u(n,"background-height","units",r)?u(n,"background-height","pfValue",r)*g:u(n,"background-height","pfValue",r)),0!==_&&0!==E){if("contain"===c)_*=C=Math.min(v/_,g/E),E*=C;else if("cover"===c){var C;_*=C=Math.max(v/_,g/E),E*=C}var k=o-v/2;"%"===u(n,"background-position-x","units",r)?k+=(v-_)*u(n,"background-position-x","pfValue",r):k+=u(n,"background-position-x","pfValue",r);var T=s-g/2;"%"===u(n,"background-position-y","units",r)?T+=(g-E)*u(n,"background-position-y","pfValue",r):T+=u(n,"background-position-y","pfValue",r),y.pathCache&&(k-=o,T-=s,s=o=0);var P=e.globalAlpha;if(e.globalAlpha=b,"no-repeat"===h)m&&(e.save(),y.pathCache?e.clip(y.pathCache):(this.nodeShapes[this.getNodeShape(n)].draw(e,o,s,v,g),e.clip())),this.safeDrawImage(e,t,0,0,x,w,k,T,_,E),m&&e.restore();else{var A=e.createPattern(t,h);e.fillStyle=A,this.nodeShapes[this.getNodeShape(n)].draw(e,o,s,v,g),e.translate(k,T),e.fill(),e.translate(-k,-T)}e.globalAlpha=P}}};e.exports=r},function(e,t,n){var Y=n(1),a=n(2),r={};r.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(a.log2(n*r));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},r.drawElementText=function(e,t,n){if(void 0===n){if(!this.eleTextBiggerThanMin(t))return}else if(!n)return;if(t.isNode()){if(!(i=t.pstyle("label"))||!i.value)return;var r=t.pstyle("text-halign").strValue;t.pstyle("text-valign").strValue;switch(r){case"left":e.textAlign="right";break;case"right":e.textAlign="left";break;default:e.textAlign="center"}e.textBaseline="bottom"}else{var i=t.pstyle("label"),a=t.pstyle("source-label"),o=t.pstyle("target-label");if(!(i&&i.value||a&&a.value||o&&o.value))return;e.textAlign="center",e.textBaseline="bottom"}this.drawText(e,t),t.isEdge()&&(this.drawText(e,t,"source"),this.drawText(e,t,"target"))},r.drawNodeText=r.drawEdgeText=r.drawElementText,r.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},r.setupTextStyle=function(e,t){var n=t.effectiveOpacity(),r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=t.pstyle("text-opacity").value*t.pstyle("opacity").value*n,l=t.pstyle("text-outline-opacity").value*s,u=t.pstyle("color").value,c=t.pstyle("text-outline-color").value,h=t._private.fontKey,d=this.getFontCache(e);d.key!==h&&(e.font=r+" "+o+" "+i+" "+a,d.key=h),e.lineJoin="round",this.fillStyle(e,u[0],u[1],u[2],s),this.strokeStyle(e,c[0],c[1],c[2],l)},r.drawText=function(e,t,n){var r=t._private.rscratch,i=t.effectiveOpacity();if(0!==i&&0!==t.pstyle("text-opacity").value){var a,o,s,l,u,c,h=Y.getPrefixedProperty(r,"labelX",n),d=Y.getPrefixedProperty(r,"labelY",n),f=this.getLabelText(t,n);if(null!=f&&""!==f&&!isNaN(h)&&!isNaN(d)){this.setupTextStyle(e,t);var p=n?n+"-":"",v=Y.getPrefixedProperty(r,"labelWidth",n),g=Y.getPrefixedProperty(r,"labelHeight",n),y=Y.getPrefixedProperty(r,"labelAngle",n),m=t.pstyle(p+"text-margin-x").pfValue,b=t.pstyle(p+"text-margin-y").pfValue,x=t.isEdge(),w=(t.isNode(),t.pstyle("text-halign").value),_=t.pstyle("text-valign").value;x&&(_=w="center"),h+=m,d+=b;var E,C=t.pstyle(p+"text-rotation");if(0!==(E="autorotate"===C.strValue?x?y:0:"none"===C.strValue?0:C.pfValue)){var k=h,T=d;e.translate(k,T),e.rotate(E),d=h=0}switch(_){case"top":break;case"center":d+=g/2;break;case"bottom":d+=g}var P=t.pstyle("text-background-opacity").value,A=t.pstyle("text-border-opacity").value,N=t.pstyle("text-border-width").pfValue,S=t.pstyle("text-background-padding").pfValue;if(0<P||0<N&&0<A){var O=h-S;switch(w){case"left":O-=v;break;case"center":O-=v/2}var I=d-g-S,M=v+2*S,R=g+2*S;if(0<P){var B=e.fillStyle,D=t.pstyle("text-background-color").value;e.fillStyle="rgba("+D[0]+","+D[1]+","+D[2]+","+P*i+")","roundrectangle"==t.pstyle("text-background-shape").strValue?(o=O,s=I,l=M,u=R,c=(c=2)||5,(a=e).beginPath(),a.moveTo(o+c,s),a.lineTo(o+l-c,s),a.quadraticCurveTo(o+l,s,o+l,s+c),a.lineTo(o+l,s+u-c),a.quadraticCurveTo(o+l,s+u,o+l-c,s+u),a.lineTo(o+c,s+u),a.quadraticCurveTo(o,s+u,o,s+u-c),a.lineTo(o,s+c),a.quadraticCurveTo(o,s,o+c,s),a.closePath(),a.fill()):e.fillRect(O,I,M,R),e.fillStyle=B}if(0<N&&0<A){var L=e.strokeStyle,j=e.lineWidth,z=t.pstyle("text-border-color").value,$=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+z[0]+","+z[1]+","+z[2]+","+A*i+")",e.lineWidth=N,e.setLineDash)switch($){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=N/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(O,I,M,R),"double"===$){var V=N/2;e.strokeRect(O+V,I+V,M-2*V,R-2*V)}e.setLineDash&&e.setLineDash([]),e.lineWidth=j,e.strokeStyle=L}}var F=2*t.pstyle("text-outline-width").pfValue;if(0<F&&(e.lineWidth=F),"wrap"===t.pstyle("text-wrap").value){var q=Y.getPrefixedProperty(r,"labelWrapCachedLines",n),H=g/q.length;switch(_){case"top":d-=(q.length-1)*H;break;case"center":case"bottom":d-=(q.length-1)*H}for(var X=0;X<q.length;X++)0<F&&e.strokeText(q[X],h,d),e.fillText(q[X],h,d),d+=H}else 0<F&&e.strokeText(f,h,d),e.fillText(f,h,d);0!==E&&(e.rotate(-E),e.translate(-k,-T))}}},e.exports=r},function(e,t,n){var U=n(0),r={drawNode:function(i,a,e,t){var n,r,o=this,s=a._private,l=s.rscratch,u=a.position();if(U.number(u.x)&&U.number(u.y)&&a.visible()){var c=a.effectiveOpacity(),h=o.usePaths(),d=void 0,f=!1,p=a.padding();n=a.width()+2*p,r=a.height()+2*p;var v=void 0;e&&(v=e,i.translate(-v.x1,-v.y1));for(var g=a.pstyle("background-image").value,y=new Array(g.length),m=new Array(g.length),b=0,x=0;x<g.length;x++){var w=g[x];if(y[x]=null!=w&&"none"!==w){var _=a.cy().style().getIndexedStyle(a,"background-image-crossorigin","value",x);b++,m[x]=o.getCachedImage(w,_,function(){a.emitAndNotify("background")})}}var E=a.pstyle("background-blacken").value,C=a.pstyle("border-width").pfValue,k=a.pstyle("background-color").value,T=a.pstyle("background-opacity").value*c,P=a.pstyle("border-color").value,A=a.pstyle("border-style").value,N=a.pstyle("border-opacity").value*c;i.lineJoin="miter";var S=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:T;o.fillStyle(i,k[0],k[1],k[2],e)},O=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:N;o.strokeStyle(i,P[0],P[1],P[2],e)},I=a.pstyle("shape").strValue,M=a.pstyle("shape-polygon-points").pfValue;if(h){var R=I+"$"+n+"$"+r+("polygon"===I?"$"+M.join("$"):"");i.translate(u.x,u.y),l.pathCacheKey===R?(d=l.pathCache,f=!0):(d=new Path2D,l.pathCacheKey=R,l.pathCache=d)}var B,D,L,j=function(){if(!f){var e=u;h&&(e={x:0,y:0}),o.nodeShapes[o.getNodeShape(a)].draw(d||i,e.x,e.y,n,r)}h?i.fill(d):i.fill()},z=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c,t=s.backgrounding,n=0,r=0;r<m.length;r++)y[r]&&m[r].complete&&!m[r].error&&(n++,o.drawInscribedImage(i,m[r],a,r,e));s.backgrounding=!(n===b),t!==s.backgrounding&&a.updateStyle(!1)},$=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;o.hasPie(a)&&(o.drawPie(i,a,t),e&&(h||o.nodeShapes[o.getNodeShape(a)].draw(i,u.x,u.y,n,r)))},V=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c,t=(0<E?E:-E)*e,n=0<E?0:255;0!==E&&(o.fillStyle(i,n,n,n,t),h?i.fill(d):i.fill())},F=function(){if(0<C){if(i.lineWidth=C,i.lineCap="butt",i.setLineDash)switch(A){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash([4,2]);break;case"solid":case"double":i.setLineDash([])}if(h?i.stroke(d):i.stroke(),"double"===A){i.lineWidth=C/3;var e=i.globalCompositeOperation;i.globalCompositeOperation="destination-out",h?i.stroke(d):i.stroke(),i.globalCompositeOperation=e}i.setLineDash&&i.setLineDash([])}};if("yes"===a.pstyle("ghost").value){var q=a.pstyle("ghost-offset-x").pfValue,H=a.pstyle("ghost-offset-y").pfValue,X=a.pstyle("ghost-opacity").value,Y=X*c;i.translate(q,H),S(X*T),j(),z(Y),$(0!==E||0!==C),V(Y),O(X*N),F(),i.translate(-q,-H)}S(),j(),z(),$(0!==E||0!==C),V(),O(),F(),h&&i.translate(-u.x,-u.y),o.drawElementText(i,a,t),B=a.pstyle("overlay-padding").pfValue,D=a.pstyle("overlay-opacity").value,L=a.pstyle("overlay-color").value,0<D&&(o.fillStyle(i,L[0],L[1],L[2],D),o.nodeShapes.roundrectangle.draw(i,u.x,u.y,n+2*B,r+2*B),i.fill()),e&&i.translate(v.x1,v.y1)}},hasPie:function(e){return(e=e[0])._private.hasPie},drawPie:function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),a=t.pstyle("pie-size"),o=r.x,s=r.y,l=t.width(),u=t.height(),c=Math.min(l,u)/2,h=0;this.usePaths()&&(s=o=0),"%"===a.units?c*=a.pfValue:void 0!==a.pfValue&&(c=a.pfValue/2);for(var d=1;d<=i.pieBackgroundN;d++){var f=t.pstyle("pie-"+d+"-background-size").value,p=t.pstyle("pie-"+d+"-background-color").value,v=t.pstyle("pie-"+d+"-background-opacity").value*n,g=f/100;1<g+h&&(g=1-h);var y=1.5*Math.PI+2*Math.PI*h,m=y+2*Math.PI*g;0===f||1<=h||1<h+g||(e.beginPath(),e.moveTo(o,s),e.arc(o,s,c,y,m),e.closePath(),this.fillStyle(e,p[0],p[1],p[2],v),e.fill(),h+=g)}}};e.exports=r},function(e,t,n){var r={},U=n(1);r.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},r.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((t=n[i]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},r.fillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},r.strokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},r.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],a=r[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=s);var l,u=i*o,c=a*o;if(u!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var h=n.canvasContainer;h.style.width=i+"px",h.style.height=a+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)(l=n.canvases[d]).width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px";for(d=0;d<t.BUFFER_COUNT;d++)(l=n.bufferCanvases[d]).width=u,l.height=c,l.style.width=i+"px",l.style.height=a+"px";o<=(t.textureMult=1)&&(l=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,l.width=u*t.textureMult,l.height=c*t.textureMult),t.canvasWidth=u,t.canvasHeight=c}},r.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},r.render=function(e){var o=(e=e||U.staticEmptyObject()).forcedContext,s=e.drawAllLayers,t=e.drawOnlyNodeLayer,l=e.forcedZoom,u=e.forcedPan,c=this,n=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,r=c.cy,h=c.data,i=h.canvasNeedsRedraw,a=c.textureOnViewport&&!o&&(c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming),d=void 0!==e.motionBlur?e.motionBlur:c.motionBlur,f=c.motionBlurPxRatio,p=r.hasCompoundNodes(),v=c.hoverData.draggingEles,g=!(!c.hoverData.selecting&&!c.touchData.selecting),y=d=d&&!o&&c.motionBlurEnabled&&!g;o||(c.prevPxRatio!==n&&(c.invalidateContainerClientCoordsCache(),c.matchCanvasSize(c.container),c.redrawHint("eles",!0),c.redrawHint("drag",!0)),c.prevPxRatio=n),!o&&c.motionBlurTimeout&&clearTimeout(c.motionBlurTimeout),d&&(null==c.mbFrames&&(c.mbFrames=0),c.mbFrames++,c.mbFrames<3&&(y=!1),c.mbFrames>c.minMbLowQualFrames&&(c.motionBlurPxRatio=c.mbPxRBlurry)),c.clearingMotionBlur&&(c.motionBlurPxRatio=1),c.textureDrawLastFrame&&!a&&(i[c.NODE]=!0,i[c.SELECT_BOX]=!0);var m=r.style()._private.coreStyle,b=r.zoom(),x=void 0!==l?l:b,w=r.pan(),_={x:w.x,y:w.y},E={zoom:b,pan:{x:w.x,y:w.y}},C=c.prevViewport;void 0===C||E.zoom!==C.zoom||E.pan.x!==C.pan.x||E.pan.y!==C.pan.y||v&&!p||(c.motionBlurPxRatio=1),u&&(_=u),x*=n,_.x*=n,_.y*=n;var k=c.getCachedZSortedEles();function T(e,t,n,r,i){var a=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",c.fillStyle(e,255,255,255,c.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=a}function P(e,t){var n,r,i,a;a=c.clearingMotionBlur||e!==h.bufferContexts[c.MOTIONBLUR_BUFFER_NODE]&&e!==h.bufferContexts[c.MOTIONBLUR_BUFFER_DRAG]?(n=_,r=x,i=c.canvasWidth,c.canvasHeight):(n={x:w.x*f,y:w.y*f},r=b*f,i=c.canvasWidth*f,c.canvasHeight*f),e.setTransform(1,0,0,1,0,0),"motionBlur"===t?T(e,0,0,i,a):o||void 0!==t&&!t||e.clearRect(0,0,i,a),s||(e.translate(n.x,n.y),e.scale(r,r)),u&&e.translate(u.x,u.y),l&&e.scale(l,l)}if(a||(c.textureDrawLastFrame=!1),a){if(c.textureDrawLastFrame=!0,!c.textureCache){c.textureCache={},c.textureCache.bb=r.mutableElements().boundingBox(),c.textureCache.texture=c.data.bufferCanvases[c.TEXTURE_BUFFER];var A=c.data.bufferContexts[c.TEXTURE_BUFFER];A.setTransform(1,0,0,1,0,0),A.clearRect(0,0,c.canvasWidth*c.textureMult,c.canvasHeight*c.textureMult),c.render({forcedContext:A,drawOnlyNodeLayer:!0,forcedPxRatio:n*c.textureMult}),(E=c.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:c.canvasWidth,height:c.canvasHeight}).mpan={x:(0-E.pan.x)/E.zoom,y:(0-E.pan.y)/E.zoom}}i[c.DRAG]=!1,i[c.NODE]=!1;var N=h.contexts[c.NODE],S=c.textureCache.texture;E=c.textureCache.viewport;c.textureCache.bb,N.setTransform(1,0,0,1,0,0),d?T(N,0,0,E.width,E.height):N.clearRect(0,0,E.width,E.height);var O=m["outside-texture-bg-color"].value,I=m["outside-texture-bg-opacity"].value;c.fillStyle(N,O[0],O[1],O[2],I),N.fillRect(0,0,E.width,E.height);b=r.zoom();P(N,!1),N.clearRect(E.mpan.x,E.mpan.y,E.width/E.zoom/n,E.height/E.zoom/n),N.drawImage(S,E.mpan.x,E.mpan.y,E.width/E.zoom/n,E.height/E.zoom/n)}else c.textureOnViewport&&!o&&(c.textureCache=null);var M=r.extent(),R=c.pinching||c.hoverData.dragging||c.swipePanning||c.data.wheelZooming||c.hoverData.draggingEles,B=c.hideEdgesOnViewport&&R,D=[];if(D[c.NODE]=!i[c.NODE]&&d&&!c.clearedForMotionBlur[c.NODE]||c.clearingMotionBlur,D[c.NODE]&&(c.clearedForMotionBlur[c.NODE]=!0),D[c.DRAG]=!i[c.DRAG]&&d&&!c.clearedForMotionBlur[c.DRAG]||c.clearingMotionBlur,D[c.DRAG]&&(c.clearedForMotionBlur[c.DRAG]=!0),i[c.NODE]||s||t||D[c.NODE]){var L=d&&!D[c.NODE]&&1!==f;P(N=o||(L?c.data.bufferContexts[c.MOTIONBLUR_BUFFER_NODE]:h.contexts[c.NODE]),d&&!L?"motionBlur":void 0),B?c.drawCachedNodes(N,k.nondrag,n,M):c.drawLayeredElements(N,k.nondrag,n,M),c.debug&&c.drawDebugPoints(N,k.nondrag),s||d||(i[c.NODE]=!1)}if(!t&&(i[c.DRAG]||s||D[c.DRAG])){L=d&&!D[c.DRAG]&&1!==f;P(N=o||(L?c.data.bufferContexts[c.MOTIONBLUR_BUFFER_DRAG]:h.contexts[c.DRAG]),d&&!L?"motionBlur":void 0),B?c.drawCachedNodes(N,k.drag,n,M):c.drawCachedElements(N,k.drag,n,M),c.debug&&c.drawDebugPoints(N,k.drag),s||d||(i[c.DRAG]=!1)}if(c.showFps||!t&&i[c.SELECT_BOX]&&!s){if(P(N=o||h.contexts[c.SELECT_BOX]),1==c.selection[4]&&(c.hoverData.selecting||c.touchData.selecting)){b=c.cy.zoom();var j=m["selection-box-border-width"].value/b;N.lineWidth=j,N.fillStyle="rgba("+m["selection-box-color"].value[0]+","+m["selection-box-color"].value[1]+","+m["selection-box-color"].value[2]+","+m["selection-box-opacity"].value+")",N.fillRect(c.selection[0],c.selection[1],c.selection[2]-c.selection[0],c.selection[3]-c.selection[1]),0<j&&(N.strokeStyle="rgba("+m["selection-box-border-color"].value[0]+","+m["selection-box-border-color"].value[1]+","+m["selection-box-border-color"].value[2]+","+m["selection-box-opacity"].value+")",N.strokeRect(c.selection[0],c.selection[1],c.selection[2]-c.selection[0],c.selection[3]-c.selection[1]))}if(h.bgActivePosistion&&!c.hoverData.selecting){b=c.cy.zoom();var z=h.bgActivePosistion;N.fillStyle="rgba("+m["active-bg-color"].value[0]+","+m["active-bg-color"].value[1]+","+m["active-bg-color"].value[2]+","+m["active-bg-opacity"].value+")",N.beginPath(),N.arc(z.x,z.y,m["active-bg-size"].pfValue/b,0,2*Math.PI),N.fill()}var $=c.lastRedrawTime;if(c.showFps&&$){$=Math.round($);var V=Math.round(1e3/$);N.setTransform(1,0,0,1,0,0),N.fillStyle="rgba(255, 0, 0, 0.75)",N.strokeStyle="rgba(255, 0, 0, 0.75)",N.lineWidth=1,N.fillText("1 frame = "+$+" ms = "+V+" fps",0,20);N.strokeRect(0,30,250,20),N.fillRect(0,30,250*Math.min(V/60,1),20)}s||(i[c.SELECT_BOX]=!1)}if(d&&1!==f){var F=h.contexts[c.NODE],q=c.data.bufferCanvases[c.MOTIONBLUR_BUFFER_NODE],H=h.contexts[c.DRAG],X=c.data.bufferCanvases[c.MOTIONBLUR_BUFFER_DRAG],Y=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!y?e.clearRect(0,0,c.canvasWidth,c.canvasHeight):T(e,0,0,c.canvasWidth,c.canvasHeight);var r=f;e.drawImage(t,0,0,c.canvasWidth*r,c.canvasHeight*r,0,0,c.canvasWidth,c.canvasHeight)};(i[c.NODE]||D[c.NODE])&&(Y(F,q,D[c.NODE]),i[c.NODE]=!1),(i[c.DRAG]||D[c.DRAG])&&(Y(H,X,D[c.DRAG]),i[c.DRAG]=!1)}c.prevViewport=E,c.clearingMotionBlur&&(c.clearingMotionBlur=!1,c.motionBlurCleared=!0,c.motionBlur=!0),d&&(c.motionBlurTimeout=setTimeout(function(){c.motionBlurTimeout=null,c.clearedForMotionBlur[c.NODE]=!1,c.clearedForMotionBlur[c.DRAG]=!1,c.motionBlur=!1,c.clearingMotionBlur=!a,c.mbFrames=0,i[c.NODE]=!0,i[c.DRAG]=!0,c.redraw()},100)),o||r.emit("render")},e.exports=r},function(e,t,n){for(var v=n(2),r={drawPolygonPath:function(e,t,n,r,i,a){var o=r/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],n+s*a[1]);for(var l=1;l<a.length/2;l++)e.lineTo(t+o*a[2*l],n+s*a[2*l+1]);e.closePath()},drawRoundRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2,s=v.getRoundRectangleRadius(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.arcTo(t+a,n-o,t+a,n,s),e.arcTo(t+a,n+o,t,n+o,s),e.arcTo(t-a,n+o,t-a,n,s),e.arcTo(t-a,n-o,t,n-o,s),e.lineTo(t,n-o),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2,s=v.getRoundRectangleRadius(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-o),e.lineTo(t+a,n-o),e.lineTo(t+a,n),e.arcTo(t+a,n+o,t,n+o,s),e.arcTo(t-a,n+o,t-a,n,s),e.lineTo(t-a,n-o),e.lineTo(t,n-o),e.closePath()},drawCutRectanglePath:function(e,t,n,r,i){var a=r/2,o=i/2,s=v.getCutRectangleCornerLength();e.beginPath&&e.beginPath(),e.moveTo(t-a+s,n-o),e.lineTo(t+a-s,n-o),e.lineTo(t+a,n-o+s),e.lineTo(t+a,n+o-s),e.lineTo(t+a-s,n+o),e.lineTo(t-a+s,n+o),e.lineTo(t-a,n+o-s),e.lineTo(t-a,n-o+s),e.closePath()},drawBarrelPath:function(e,t,n,r,i){var a=r/2,o=i/2,s=t-a,l=t+a,u=n-o,c=n+o,h=v.getBarrelCurveConstants(r,i),d=h.widthOffset,f=h.heightOffset,p=h.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(s,u+f),e.lineTo(s,c-f),e.quadraticCurveTo(s+p,c,s+d,c),e.lineTo(l-d,c),e.quadraticCurveTo(l-p,c,l,c-f),e.lineTo(l,u+f),e.quadraticCurveTo(l-p,u,l-d,u),e.lineTo(s+d,u),e.quadraticCurveTo(s+p,u,s,u+f),e.closePath()}},c=Math.sin(0),h=Math.cos(0),d={},f={},p=Math.PI/40,i=0*Math.PI;i<2*Math.PI;i+=p)d[i]=Math.sin(i),f[i]=Math.cos(i);r.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var a,o,s=r/2,l=i/2,u=0*Math.PI;u<2*Math.PI;u+=p)a=t-s*d[u]*c+s*f[u]*h,o=n+l*f[u]*c+l*d[u]*h,0===u?e.moveTo(a,o):e.lineTo(a,o);e.closePath()},e.exports=r},function(e,t,n){var g=n(0),r={};function i(e){var t=e.indexOf(",");return e.substr(t+1)}function a(e,t,n){var r=t.toDataURL(n,e.quality);switch(e.output){case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return new Blob([r],{type:t})}(i(r),n);case"base64":return i(r);case"base64uri":default:return r}}r.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},r.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):r[2],a=e.full?Math.ceil(n.h):r[3],o=g.number(e.maxWidth)||g.number(e.maxHeight),s=this.getPixelRatio(),l=1;if(void 0!==e.scale)i*=e.scale,a*=e.scale,l=e.scale;else if(o){var u=1/0,c=1/0;g.number(e.maxWidth)&&(u=l*e.maxWidth/i),g.number(e.maxHeight)&&(c=l*e.maxHeight/a),i*=l=Math.min(u,c),a*=l}o||(i*=s,a*=s,l*=s);var h=document.createElement("canvas");h.width=i,h.height=a,h.style.width=i+"px",h.style.height=a+"px";var d=h.getContext("2d");if(0<i&&0<a){d.clearRect(0,0,i,a),d.globalCompositeOperation="source-over";var f=this.getCachedZSortedEles();if(e.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,f),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var p=t.pan(),v={x:p.x*l,y:p.y*l};l*=t.zoom(),d.translate(v.x,v.y),d.scale(l,l),this.drawElements(d,f),d.scale(1/l,1/l),d.translate(-v.x,-v.y)}e.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=e.bg,d.rect(0,0,i,a),d.fill())}return h},r.png=function(e){return a(e,this.bufferCanvasImage(e),"image/png")},r.jpg=function(e){return a(e,this.bufferCanvasImage(e),"image/jpeg")},e.exports=r},function(e,t,n){var r={nodeShapeImpl:function(e,t,n,r,i,a,o){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,a);case"polygon":return this.drawPolygonPath(t,n,r,i,a,o);case"roundrectangle":return this.drawRoundRectanglePath(t,n,r,i,a);case"cutrectangle":return this.drawCutRectanglePath(t,n,r,i,a);case"bottomroundrectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,a);case"barrel":return this.drawBarrelPath(t,n,r,i,a)}}};e.exports=r},function(e,t,n){var u=n(0),c=n(1),h=n(18),r=function e(){if(!(this instanceof e))return new e;this.length=0},i=r.prototype;i.instanceString=function(){return"stylesheet"},i.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this},i.css=function(e,t){var n=this.length-1;if(u.string(e))this[n].properties.push({name:e,value:t});else if(u.plainObject(e))for(var r=e,i=0;i<h.properties.length;i++){var a=h.properties[i],o=r[a.name];if(void 0===o&&(o=r[c.dash2camel(a.name)]),void 0!==o){var s=a.name,l=o;this[n].properties.push({name:s,value:l})}}return this},i.style=i.css,i.generateStyle=function(e){var t=new h(e);return this.appendToStyle(t)},i.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var a=0;a<i.length;a++){var o=i[a];e.css(o.name,o.value)}}return e},e.exports=r},function(e,t,n){e.exports="3.2.16"}])},"object"==typeof e?e.exports=n(A.r(60),A.r(58)):t.cytoscape=n(A.r(60),A.r(58))},A.f[7]=function(e,t){e.exports={graphlib:A.r(8),layout:A.r(9),debug:A.r(35),util:{time:A.r(15).time,notime:A.r(15).notime},version:A.r(36)}},A.f[8]=function(e,t){var n;try{n=A.r(38)}catch(e){}n||(n=window.graphlib),e.exports=n},A.f[9]=function(e,t){var u=A.r(10),i=A.r(11),a=A.r(14),o=A.r(16),s=A.r(15).normalizeRanks,l=A.r(20),c=A.r(15).removeEmptyRanks,h=A.r(21),d=A.r(22),f=A.r(23),p=A.r(24),v=A.r(33),g=A.r(15),y=A.r(8).Graph;e.exports=function(t,e){var r=e&&e.debugTiming?g.time:g.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return n=t,r=new y({multigraph:!0,compound:!0}),e=P(n.graph()),r.setGraph(u.merge({},b,T(e,m),u.pick(e,x))),u.each(n.nodes(),function(e){var t=P(n.node(e));r.setNode(e,u.defaults(T(t,w),_)),r.setParent(e,n.parent(e))}),u.each(n.edges(),function(e){var t=P(n.edge(e));r.setEdge(e,u.merge({},C,T(t,E),u.pick(t,k)))}),r;var n,r,e});r("  runLayout",function(){var t,e;t=n,(e=r)("    makeSpaceForEdgeLabels",function(){var n,r;(r=(n=t).graph()).ranksep/=2,u.each(n.edges(),function(e){var t=n.edge(e);t.minlen*=2,"c"!==t.labelpos.toLowerCase()&&("TB"===r.rankdir||"BT"===r.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)})}),e("    removeSelfEdges",function(){var n;n=t,u.each(n.edges(),function(e){if(e.v===e.w){var t=n.node(e.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e:e,label:n.edge(e)}),n.removeEdge(e)}})}),e("    acyclic",function(){i.run(t)}),e("    nestingGraph.run",function(){h.run(t)}),e("    rank",function(){o(g.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){var a;a=t,u.each(a.edges(),function(e){var t=a.edge(e);if(t.width&&t.height){var n=a.node(e.v),r=a.node(e.w),i={rank:(r.rank-n.rank)/2+n.rank,e:e};g.addDummyNode(a,"edge-proxy",i,"_ep")}})}),e("    removeEmptyRanks",function(){c(t)}),e("    nestingGraph.cleanup",function(){h.cleanup(t)}),e("    normalizeRanks",function(){s(t)}),e("    assignRankMinMax",function(){var n,r;n=t,r=0,u.each(n.nodes(),function(e){var t=n.node(e);t.borderTop&&(t.minRank=n.node(t.borderTop).rank,t.maxRank=n.node(t.borderBottom).rank,r=u.max(r,t.maxRank))}),n.graph().maxRank=r}),e("    removeEdgeLabelProxies",function(){var n;n=t,u.each(n.nodes(),function(e){var t=n.node(e);"edge-proxy"===t.dummy&&(n.edge(t.e).labelRank=t.rank,n.removeNode(e))})}),e("    normalize.run",function(){a.run(t)}),e("    parentDummyChains",function(){l(t)}),e("    addBorderSegments",function(){d(t)}),e("    order",function(){p(t)}),e("    insertSelfEdges",function(){var i,e;i=t,e=g.buildLayerMatrix(i),u.each(e,function(e){var r=0;u.each(e,function(e,t){var n=i.node(e);n.order=t+r,u.each(n.selfEdges,function(e){g.addDummyNode(i,"selfedge",{width:e.label.width,height:e.label.height,rank:n.rank,order:t+ ++r,e:e.e,label:e.label},"_se")}),delete n.selfEdges})})}),e("    adjustCoordinateSystem",function(){f.adjust(t)}),e("    position",function(){v(t)}),e("    positionSelfEdges",function(){var s;s=t,u.each(s.nodes(),function(e){var t=s.node(e);if("selfedge"===t.dummy){var n=s.node(t.e.v),r=n.x+n.width/2,i=n.y,a=t.x-r,o=n.height/2;s.setEdge(t.e,t.label),s.removeNode(e),t.label.points=[{x:r+2*a/3,y:i-o},{x:r+5*a/6,y:i-o},{x:r+a,y:i},{x:r+5*a/6,y:i+o},{x:r+2*a/3,y:i+o}],t.label.x=t.x,t.label.y=t.y}})}),e("    removeBorderNodes",function(){var o;o=t,u.each(o.nodes(),function(e){if(o.children(e).length){var t=o.node(e),n=o.node(t.borderTop),r=o.node(t.borderBottom),i=o.node(u.last(t.borderLeft)),a=o.node(u.last(t.borderRight));t.width=Math.abs(a.x-i.x),t.height=Math.abs(r.y-n.y),t.x=i.x+t.width/2,t.y=n.y+t.height/2}}),u.each(o.nodes(),function(e){"border"===o.node(e).dummy&&o.removeNode(e)})}),e("    normalize.undo",function(){a.undo(t)}),e("    fixupEdgeLabelCoords",function(){var n;n=t,u.each(n.edges(),function(e){var t=n.edge(e);if(u.has(t,"x"))switch("l"!==t.labelpos&&"r"!==t.labelpos||(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset}})}),e("    undoCoordinateSystem",function(){f.undo(t)}),e("    translateGraph",function(){!function(n){var a=Number.POSITIVE_INFINITY,o=0,s=Number.POSITIVE_INFINITY,l=0,e=n.graph(),t=e.marginx||0,r=e.marginy||0;function i(e){var t=e.x,n=e.y,r=e.width,i=e.height;a=Math.min(a,t-r/2),o=Math.max(o,t+r/2),s=Math.min(s,n-i/2),l=Math.max(l,n+i/2)}u.each(n.nodes(),function(e){i(n.node(e))}),u.each(n.edges(),function(e){var t=n.edge(e);u.has(t,"x")&&i(t)}),a-=t,s-=r,u.each(n.nodes(),function(e){var t=n.node(e);t.x-=a,t.y-=s}),u.each(n.edges(),function(e){var t=n.edge(e);u.each(t.points,function(e){e.x-=a,e.y-=s}),u.has(t,"x")&&(t.x-=a),u.has(t,"y")&&(t.y-=s)}),e.width=o-a+t,e.height=l-s+r}(t)}),e("    assignNodeIntersects",function(){var o;o=t,u.each(o.edges(),function(e){var t,n,r=o.edge(e),i=o.node(e.v),a=o.node(e.w);n=r.points?(t=r.points[0],r.points[r.points.length-1]):(r.points=[],t=a,i),r.points.unshift(g.intersectRect(i,t)),r.points.push(g.intersectRect(a,n))})}),e("    reversePoints",function(){var n;n=t,u.each(n.edges(),function(e){var t=n.edge(e);t.reversed&&t.points.reverse()})}),e("    acyclic.undo",function(){i.undo(t)})}),r("  updateInputGraph",function(){var r,i;r=t,i=n,u.each(r.nodes(),function(e){var t=r.node(e),n=i.node(e);t&&(t.x=n.x,t.y=n.y,i.children(e).length&&(t.width=n.width,t.height=n.height))}),u.each(r.edges(),function(e){var t=r.edge(e),n=i.edge(e);t.points=n.points,u.has(n,"x")&&(t.x=n.x,t.y=n.y)}),r.graph().width=i.graph().width,r.graph().height=i.graph().height})})};var m=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],w=["width","height"],_={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],C={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function T(e,t){return u.mapValues(u.pick(e,t),Number)}function P(e){var n={};return u.each(e,function(e,t){n[t.toLowerCase()]=e}),n}},A.f[10]=function(e,t){var n;try{n=A.r(61)}catch(e){}n||(n=window._),e.exports=n},A.f[11]=function(e,t){var s=A.r(10),l=A.r(12);e.exports={run:function(n){var e="greedy"===n.graph().acyclicer?l(n,(t=n,function(e){return t.edge(e).weight})):(r=n,i=[],a={},o={},s.each(r.nodes(),function t(e){s.has(o,e)||(o[e]=!0,a[e]=!0,s.each(r.outEdges(e),function(e){s.has(a,e.w)?i.push(e):t(e.w)}),delete a[e])}),i);var r,i,a,o;var t;s.each(e,function(e){var t=n.edge(e);n.removeEdge(e),t.forwardName=e.name,t.reversed=!0,n.setEdge(e.w,e.v,t,s.uniqueId("rev"))})},undo:function(r){s.each(r.edges(),function(e){var t=r.edge(e);if(t.reversed){r.removeEdge(e);var n=t.forwardName;delete t.reversed,delete t.forwardName,r.setEdge(e.w,e.v,t,n)}})}}},A.f[12]=function(e,t){var l=A.r(10),u=A.r(8).Graph,c=A.r(13);e.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(e,i){var a=new u,o=0,s=0;l.each(e.nodes(),function(e){a.setNode(e,{v:e,in:0,out:0})}),l.each(e.edges(),function(e){var t=a.edge(e.v,e.w)||0,n=i(e),r=t+n;a.setEdge(e.v,e.w,r),s=Math.max(s,a.node(e.v).out+=n),o=Math.max(o,a.node(e.w).in+=n)});var t=l.range(s+o+3).map(function(){return new c}),n=o+1;return l.each(a.nodes(),function(e){d(t,n,a.node(e))}),{graph:a,buckets:t,zeroIdx:n}}(t,e||i),r=function(e,t,n){var r,i=[],a=t[t.length-1],o=t[0];for(;e.nodeCount();){for(;r=o.dequeue();)h(e,t,n,r);for(;r=a.dequeue();)h(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;0<s;--s)if(r=t[s].dequeue()){i=i.concat(h(e,t,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return l.flatten(l.map(r,function(e){return t.outEdges(e.v,e.w)}),!0)};var i=l.constant(1);function h(i,a,o,e,r){var s=r?[]:void 0;return l.each(i.inEdges(e.v),function(e){var t=i.edge(e),n=i.node(e.v);r&&s.push({v:e.v,w:e.w}),n.out-=t,d(a,o,n)}),l.each(i.outEdges(e.v),function(e){var t=i.edge(e),n=e.w,r=i.node(n);r.in-=t,d(a,o,r)}),i.removeNode(e.v),s}function d(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},A.f[13]=function(e,t){function n(){var e={};e._next=e._prev=e,this._sentinel=e}function r(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function i(e,t){if("_next"!==e&&"_prev"!==e)return t}(e.exports=n).prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return r(t),t},n.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&r(e),e._next=t._next,t._next._prev=e,(t._next=e)._prev=t},n.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,i)),n=n._prev;return"["+e.join(", ")+"]"}},A.f[14]=function(e,t){var n=A.r(10),d=A.r(15);e.exports={run:function(t){t.graph().dummyChains=[],n.each(t.edges(),function(e){!function(e,t){var n,r,i,a=t.v,o=e.node(a).rank,s=t.w,l=e.node(s).rank,u=t.name,c=e.edge(t),h=c.labelRank;if(l===o+1)return;for(e.removeEdge(t),i=0,++o;o<l;++i,++o)c.points=[],r={width:0,height:0,edgeLabel:c,edgeObj:t,rank:o},n=d.addDummyNode(e,"edge",r,"_d"),o===h&&(r.width=c.width,r.height=c.height,r.dummy="edge-label",r.labelpos=c.labelpos),e.setEdge(a,n,{weight:c.weight},u),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,s,{weight:c.weight},u)}(t,e)})},undo:function(i){n.each(i.graph().dummyChains,function(e){var t,n=i.node(e),r=n.edgeLabel;for(i.setEdge(n.edgeObj,r);n.dummy;)t=i.successors(e)[0],i.removeNode(e),r.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=t,n=i.node(e)})}}},A.f[15]=function(e,t){var s=A.r(10),a=A.r(8).Graph;function o(e,t,n,r){for(var i;i=s.uniqueId(r),e.hasNode(i););return n.dummy=t,e.setNode(i,n),i}function n(n){return s.max(s.map(n.nodes(),function(e){var t=n.node(e).rank;if(!s.isUndefined(t))return t}))}e.exports={addDummyNode:o,simplify:function(r){var i=(new a).setGraph(r.graph());return s.each(r.nodes(),function(e){i.setNode(e,r.node(e))}),s.each(r.edges(),function(e){var t=i.edge(e.v,e.w)||{weight:0,minlen:1},n=r.edge(e);i.setEdge(e.v,e.w,{weight:t.weight+n.weight,minlen:Math.max(t.minlen,n.minlen)})}),i},asNonCompoundGraph:function(t){var n=new a({multigraph:t.isMultigraph()}).setGraph(t.graph());return s.each(t.nodes(),function(e){t.children(e).length||n.setNode(e,t.node(e))}),s.each(t.edges(),function(e){n.setEdge(e,t.edge(e))}),n},successorWeights:function(n){var e=s.map(n.nodes(),function(e){var t={};return s.each(n.outEdges(e),function(e){t[e.w]=(t[e.w]||0)+n.edge(e).weight}),t});return s.zipObject(n.nodes(),e)},predecessorWeights:function(n){var e=s.map(n.nodes(),function(e){var t={};return s.each(n.inEdges(e),function(e){t[e.v]=(t[e.v]||0)+n.edge(e).weight}),t});return s.zipObject(n.nodes(),e)},intersectRect:function(e,t){var n,r,i=e.x,a=e.y,o=t.x-i,s=t.y-a,l=e.width/2,u=e.height/2;if(!o&&!s)throw new Error("Not possible to find intersection inside of the rectangle");r=Math.abs(s)*l>Math.abs(o)*u?(s<0&&(u=-u),n=u*o/s,u):(o<0&&(l=-l),(n=l)*s/o);return{x:i+n,y:a+r}},buildLayerMatrix:function(r){var i=s.map(s.range(n(r)+1),function(){return[]});return s.each(r.nodes(),function(e){var t=r.node(e),n=t.rank;s.isUndefined(n)||(i[n][t.order]=e)}),i},normalizeRanks:function(n){var r=s.min(s.map(n.nodes(),function(e){return n.node(e).rank}));s.each(n.nodes(),function(e){var t=n.node(e);s.has(t,"rank")&&(t.rank-=r)})},removeEmptyRanks:function(n){var r=s.min(s.map(n.nodes(),function(e){return n.node(e).rank})),i=[];s.each(n.nodes(),function(e){var t=n.node(e).rank-r;i[t]||(i[t]=[]),i[t].push(e)});var a=0,o=n.graph().nodeRankFactor;s.each(i,function(e,t){s.isUndefined(e)&&t%o!=0?--a:a&&s.each(e,function(e){n.node(e).rank+=a})})},addBorderNode:function(e,t,n,r){var i={width:0,height:0};4<=arguments.length&&(i.rank=n,i.order=r);return o(e,"border",i,t)},maxRank:n,partition:function(e,t){var n={lhs:[],rhs:[]};return s.each(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=s.now();try{return t()}finally{console.log(e+" time: "+(s.now()-n)+"ms")}},notime:function(e,t){return t()}}},A.f[16]=function(e,t){var n=A.r(17).longestPath,r=A.r(18),i=A.r(19);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":o(e);break;case"tight-tree":n(t=e),r(t);break;case"longest-path":a(e);break;default:o(e)}var t};var a=n;function o(e){i(e)}},A.f[17]=function(e,t){var o=A.r(10);e.exports={longestPath:function(i){var a={};o.each(i.sources(),function t(e){var n=i.node(e);if(o.has(a,e))return n.rank;a[e]=!0;var r=o.min(o.map(i.outEdges(e),function(e){return t(e.w)-i.edge(e).minlen}));r===Number.POSITIVE_INFINITY&&(r=0);return n.rank=r})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},A.f[18]=function(e,t){var s=A.r(10),o=A.r(8).Graph,l=A.r(17).slack;function u(a,o){return s.each(a.nodes(),function r(i){s.each(o.nodeEdges(i),function(e){var t=e.v,n=i===t?e.w:t;a.hasNode(n)||l(o,e)||(a.setNode(n,{}),a.setEdge(i,n,{}),r(n))})}),a.nodeCount()}function c(t,n){return s.min(n.edges(),function(e){if(t.hasNode(e.v)!==t.hasNode(e.w))return l(n,e)})}function h(e,t,n){s.each(e.nodes(),function(e){t.node(e).rank+=n})}e.exports=function(e){var t,n,r=new o({directed:!1}),i=e.nodes()[0],a=e.nodeCount();r.setNode(i,{});for(;u(r,e)<a;)t=c(r,e),n=r.hasNode(t.v)?l(e,t):-l(e,t),h(r,e,n);return r}},A.f[19]=function(e,t){var p=A.r(10),r=A.r(18),c=A.r(17).slack,i=A.r(17).longestPath,h=A.r(8).alg.preorder,n=A.r(8).alg.postorder,a=A.r(15).simplify;function o(e){e=a(e),i(e);var t,n=r(e);for(f(n),d(n,e);t=l(n);)v(n,e,t,u(n,e,t))}function d(a,o){var e=n(a,a.nodes());e=e.slice(0,e.length-1),p.each(e,function(e){var t,n,r,i;n=o,r=e,i=(t=a).node(r).parent,t.edge(r,i).cutvalue=s(t,n,r)})}function s(l,u,c){var h=l.node(c).parent,d=!0,e=u.edge(c,h),f=0;return e||(d=!1,e=u.edge(h,c)),f=e.weight,p.each(u.nodeEdges(c),function(e){var t,n,r=e.v===c,i=r?e.w:e.v;if(i!==h){var a=r===d,o=u.edge(e).weight;if(f+=a?o:-o,t=c,n=i,l.hasEdge(t,n)){var s=l.edge(c,i).cutvalue;f+=a?-s:s}}}),f}function f(e,t){arguments.length<2&&(t=e.nodes()[0]),function t(n,r,i,a,e){var o=i,s=n.node(a);r[a]=!0;p.each(n.neighbors(a),function(e){p.has(r,e)||(i=t(n,r,i,e,a))});s.low=o;s.lim=i++;e?s.parent=e:delete s.parent;return i}(e,{},1,t)}function l(t){return p.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function u(t,n,e){var r=e.v,i=e.w;n.hasEdge(r,i)||(r=e.w,i=e.v);var a=t.node(r),o=t.node(i),s=a,l=!1;a.lim>o.lim&&(s=o,l=!0);var u=p.filter(n.edges(),function(e){return l===g(t,t.node(e.v),s)&&l!==g(t,t.node(e.w),s)});return p.min(u,function(e){return c(n,e)})}function v(e,t,n,r){var i,a,o,s,l=n.v,u=n.w;e.removeEdge(l,u),e.setEdge(r.v,r.w,{}),f(e),d(e,t),i=e,a=t,o=p.find(i.nodes(),function(e){return!a.node(e).parent}),s=(s=h(i,o)).slice(1),p.each(s,function(e){var t=i.node(e).parent,n=a.edge(e,t),r=!1;n||(n=a.edge(t,e),r=!0),a.node(e).rank=a.node(t).rank+(r?n.minlen:-n.minlen)})}function g(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}(e.exports=o).initLowLimValues=f,o.initCutValues=d,o.calcCutValue=s,o.leaveEdge=l,o.enterEdge=u,o.exchangeEdges=v},A.f[20]=function(e,t){var o=A.r(10);e.exports=function(u){var c=(r=u,i={},a=0,o.each(r.children(),function e(t){var n=a;o.each(r.children(t),e),i[t]={low:n,lim:a++}}),i);var r,i,a;o.each(u.graph().dummyChains,function(e){for(var t=u.node(e),n=t.edgeObj,r=function(e,t,n,r){var i,a,o=[],s=[],l=Math.min(t[n].low,t[r].low),u=Math.max(t[n].lim,t[r].lim);i=n;for(;i=e.parent(i),o.push(i),i&&(t[i].low>l||u>t[i].lim););a=i,i=r;for(;(i=e.parent(i))!==a;)s.push(i);return{path:o.concat(s.reverse()),lca:a}}(u,c,n.v,n.w),i=r.path,a=r.lca,o=0,s=i[o],l=!0;e!==n.w;){if(t=u.node(e),l){for(;(s=i[o])!==a&&u.node(s).maxRank<t.rank;)o++;s===a&&(l=!1)}if(!l){for(;o<i.length-1&&u.node(s=i[o+1]).minRank<=t.rank;)o++;s=i[o]}u.setParent(e,s),e=u.successors(e)[0]}})}},A.f[21]=function(e,t){var g=A.r(10),y=A.r(15);e.exports={run:function(t){var n=y.addDummyNode(t,"root",{},"_root"),r=(o=t,s={},g.each(o.children(),function(e){!function t(e,n){var r=o.children(e);r&&r.length&&g.each(r,function(e){t(e,n+1)}),s[e]=n}(e,1)}),s),i=g.max(r)-1,a=2*i+1;var o,s;t.graph().nestingRoot=n,g.each(t.edges(),function(e){t.edge(e).minlen*=a});var l=(u=t,g.reduce(u.edges(),function(e,t){return e+u.edge(t).weight},0)+1);var u;g.each(t.children(),function(e){!function o(s,l,u,c,h,d,f){var e=s.children(f);if(!e.length)return void(f!==l&&s.setEdge(l,f,{weight:0,minlen:u}));var p=y.addBorderNode(s,"_bt"),v=y.addBorderNode(s,"_bb"),t=s.node(f);s.setParent(p,f);t.borderTop=p;s.setParent(v,f);t.borderBottom=v;g.each(e,function(e){o(s,l,u,c,h,d,e);var t=s.node(e),n=t.borderTop?t.borderTop:e,r=t.borderBottom?t.borderBottom:e,i=t.borderTop?c:2*c,a=n!==r?1:h-d[f]+1;s.setEdge(p,n,{weight:i,minlen:a,nestingEdge:!0}),s.setEdge(r,v,{weight:i,minlen:a,nestingEdge:!0})});s.parent(f)||s.setEdge(l,p,{weight:0,minlen:h+d[f]})}(t,n,a,l,i,r,e)}),t.graph().nodeRankFactor=a},cleanup:function(n){var e=n.graph();n.removeNode(e.nestingRoot),delete e.nestingRoot,g.each(n.edges(),function(e){var t=n.edge(e);t.nestingEdge&&n.removeEdge(e)})}}},A.f[22]=function(e,t){var s=A.r(10),u=A.r(15);function l(e,t,n,r,i,a){var o={width:0,height:0,rank:a,borderType:t},s=i[t][a-1],l=u.addDummyNode(e,"border",o,n);i[t][a]=l,e.setParent(l,r),s&&e.setEdge(s,l,{weight:1})}e.exports=function(o){s.each(o.children(),function e(t){var n=o.children(t),r=o.node(t);n.length&&s.each(n,e);if(s.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var i=r.minRank,a=r.maxRank+1;i<a;++i)l(o,"borderLeft","_bl",t,r,i),l(o,"borderRight","_br",t,r,i)}})}},A.f[23]=function(e,t){var i=A.r(10);function a(t){i.each(t.nodes(),function(e){n(t.node(e))}),i.each(t.edges(),function(e){n(t.edge(e))})}function n(e){var t=e.width;e.width=e.height,e.height=t}function o(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||a(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||(n=e,i.each(n.nodes(),function(e){o(n.node(e))}),i.each(n.edges(),function(e){var t=n.edge(e);i.each(t.points,o),i.has(t,"y")&&o(t)}));var n;"lr"!==t&&"rl"!==t||(r=e,i.each(r.nodes(),function(e){s(r.node(e))}),i.each(r.edges(),function(e){var t=r.edge(e);i.each(t.points,s),i.has(t,"x")&&s(t)}),a(e));var r}}},A.f[24]=function(e,t){var c=A.r(10),h=A.r(25),d=A.r(26),a=A.r(27),r=A.r(31),o=A.r(32),n=A.r(8).Graph,f=A.r(15);function p(t,e,n){return c.map(e,function(e){return r(t,e,n)})}function v(e,r){var i=new n;c.each(e,function(n){var e=n.graph().root,t=a(n,e,i,r);c.each(t.vs,function(e,t){n.node(e).order=t}),o(n,i,t.vs)})}function g(n,e){c.each(e,function(e){c.each(e,function(e,t){n.node(e).order=t})})}e.exports=function(e){var t=f.maxRank(e),n=p(e,c.range(1,t+1),"inEdges"),r=p(e,c.range(t-1,-1,-1),"outEdges"),i=h(e);g(e,i);for(var a,o=Number.POSITIVE_INFINITY,s=0,l=0;l<4;++s,++l){v(s%2?n:r,2<=s%4),i=f.buildLayerMatrix(e);var u=d(e,i);u<o&&(l=0,a=c.cloneDeep(i),o=u)}g(e,a)}},A.f[25]=function(e,t){var o=A.r(10);e.exports=function(r){var i={},e=o.filter(r.nodes(),function(e){return!r.children(e).length}),t=o.max(o.map(e,function(e){return r.node(e).rank})),a=o.map(o.range(t+1),function(){return[]});var n=o.sortBy(e,function(e){return r.node(e).rank});return o.each(n,function e(t){if(!o.has(i,t)){i[t]=!0;var n=r.node(t);a[n.rank].push(t),o.each(r.successors(t),e)}}),a}},A.f[26]=function(e,t){var u=A.r(10);function i(t,e,n){for(var r=u.zipObject(n,u.map(n,function(e,t){return t})),i=u.flatten(u.map(e,function(e){return u.chain(t.outEdges(e)).map(function(e){return{pos:r[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),a=1;a<n.length;)a<<=1;var o=2*a-1;a-=1;var s=u.map(new Array(o),function(){return 0}),l=0;return u.each(i.forEach(function(e){var t=e.pos+a;s[t]+=e.weight;for(var n=0;0<t;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;l+=e.weight*n})),l}e.exports=function(e,t){for(var n=0,r=1;r<t.length;++r)n+=i(e,t[r-1],t[r]);return n}},A.f[27]=function(e,t){var y=A.r(10),m=A.r(28),b=A.r(29),x=A.r(30);function w(e,t){y.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}e.exports=function n(r,e,i,a){var t=r.children(e),o=r.node(e),s=o?o.borderLeft:void 0,l=o?o.borderRight:void 0,u={};s&&(t=y.filter(t,function(e){return e!==s&&e!==l}));var c=m(r,t);y.each(c,function(e){if(r.children(e.v).length){var t=n(r,e.v,i,a);u[e.v]=t,y.has(t,"barycenter")&&w(e,t)}});var h=b(c,i);d=h,f=u,y.each(d,function(e){e.vs=y.flatten(e.vs.map(function(e){return f[e]?f[e].vs:e}),!0)});var d,f;var p=x(h,a);if(s&&(p.vs=y.flatten([s,p.vs,l],!0),r.predecessors(s).length)){var v=r.node(r.predecessors(s)[0]),g=r.node(r.predecessors(l)[0]);y.has(p,"barycenter")||(p.barycenter=0,p.weight=0),p.barycenter=(p.barycenter*p.weight+v.order+g.order)/(p.weight+2),p.weight+=2}return p}},A.f[28]=function(e,t){var r=A.r(10);e.exports=function(i,e){return r.map(e,function(e){var t=i.inEdges(e);if(t.length){var n=r.reduce(t,function(e,t){var n=i.edge(t),r=i.node(t.v);return{sum:e.sum+n.weight*r.order,weight:e.weight+n.weight}},{sum:0,weight:0});return{v:e,barycenter:n.sum/n.weight,weight:n.weight}}return{v:e}})}},A.f[29]=function(e,t){var o=A.r(10);e.exports=function(e,t){var r={};return o.each(e,function(e,t){var n=r[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};o.isUndefined(e.barycenter)||(n.barycenter=e.barycenter,n.weight=e.weight)}),o.each(t.edges(),function(e){var t=r[e.v],n=r[e.w];o.isUndefined(t)||o.isUndefined(n)||(n.indegree++,t.out.push(r[e.w]))}),function(n){var e=[];function t(a){return function(e){var t,n,r,i;e.merged||(o.isUndefined(e.barycenter)||o.isUndefined(a.barycenter)||e.barycenter>=a.barycenter)&&(n=e,i=r=0,(t=a).weight&&(r+=t.barycenter*t.weight,i+=t.weight),n.weight&&(r+=n.barycenter*n.weight,i+=n.weight),t.vs=n.vs.concat(t.vs),t.barycenter=r/i,t.weight=i,t.i=Math.min(n.i,t.i),n.merged=!0)}}function r(t){return function(e){e.in.push(t),0==--e.indegree&&n.push(e)}}for(;n.length;){var i=n.pop();e.push(i),o.each(i.in.reverse(),t(i)),o.each(i.out,r(i))}return o.chain(e).filter(function(e){return!e.merged}).map(function(e){return o.pick(e,["vs","i","barycenter","weight"])}).value()}(o.filter(r,function(e){return!e.indegree}))}},A.f[30]=function(e,t){var h=A.r(10),d=A.r(15);function f(e,t,n){for(var r;t.length&&(r=h.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}e.exports=function(e,t){var n=d.partition(e,function(e){return h.has(e,"barycenter")}),r=n.lhs,i=h.sortBy(n.rhs,function(e){return-e.i}),a=[],o=0,s=0,l=0;r.sort((u=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:u?t.i-e.i:e.i-t.i})),l=f(a,i,l),h.each(r,function(e){l+=e.vs.length,a.push(e.vs),o+=e.barycenter*e.weight,s+=e.weight,l=f(a,i,l)});var u;var c={vs:h.flatten(a,!0)};s&&(c.barycenter=o/s,c.weight=s);return c}},A.f[31]=function(e,t){var l=A.r(10),i=A.r(8).Graph;e.exports=function(a,n,r){var o=function(e){var t;for(;e.hasNode(t=l.uniqueId("_root")););return t}(a),s=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel(function(e){return a.node(e)});return l.each(a.nodes(),function(i){var e=a.node(i),t=a.parent(i);(e.rank===n||e.minRank<=n&&n<=e.maxRank)&&(s.setNode(i),s.setParent(i,t||o),l.each(a[r](i),function(e){var t=e.v===i?e.w:e.v,n=s.edge(t,i),r=l.isUndefined(n)?0:n.weight;s.setEdge(t,i,{weight:a.edge(e).weight+r})}),l.has(e,"minRank")&&s.setNode(i,{borderLeft:e.borderLeft[n],borderRight:e.borderRight[n]}))}),s}},A.f[32]=function(e,t){var n=A.r(10);e.exports=function(i,a,e){var o,s={};n.each(e,function(e){for(var t,n,r=i.parent(e);r;){if((t=i.parent(r))?(n=s[t],s[t]=r):(n=o,o=r),n&&n!==r)return void a.setEdge(n,r);r=t}})}},A.f[33]=function(e,t){var o=A.r(10),s=A.r(15),l=A.r(34).positionX;e.exports=function(n){r=n=s.asNonCompoundGraph(n),e=s.buildLayerMatrix(r),i=r.graph().ranksep,a=0,o.each(e,function(e){var t=o.max(o.map(e,function(e){return r.node(e).height}));o.each(e,function(e){r.node(e).y=a+t/2}),a+=t+i}),o.each(l(n),function(e,t){n.node(t).x=e});var r,e,i,a}},A.f[34]=function(e,t){var b=A.r(10),x=A.r(8).Graph,n=A.r(15);function r(u,e){var c={};return b.reduce(e,function(e,r){var a=0,o=0,s=e.length,l=b.last(r);return b.each(r,function(e,t){var n=function(t,e){if(t.node(e).dummy)return b.find(t.predecessors(e),function(e){return t.node(e).dummy})}(u,e),i=n?u.node(n).order:s;(n||e===l)&&(b.each(r.slice(o,t+1),function(r){b.each(u.predecessors(r),function(e){var t=u.node(e),n=t.order;!(n<a||i<n)||t.dummy&&u.node(r).dummy||h(c,e,r)})}),o=t+1,a=i)}),r}),c}function i(l,e){var o={};function u(t,e,n,r,i){var a;b.each(b.range(e,n),function(e){a=t[e],l.node(a).dummy&&b.each(l.predecessors(a),function(e){var t=l.node(e);t.dummy&&(t.order<r||t.order>i)&&h(o,e,a)})})}return b.reduce(e,function(r,i){var a,o=-1,s=0;return b.each(i,function(e,t){if("border"===l.node(e).dummy){var n=l.predecessors(e);n.length&&(a=l.node(n[0]).order,u(i,s,t,o,a),s=t,o=a)}u(i,s,i.length,a,r.length)}),i}),o}function h(e,t,n){if(n<t){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function d(e,t,n){if(n<t){var r=t;t=n,n=r}return b.has(e[t],n)}function u(e,t,s,l){var u={},c={},h={};return b.each(t,function(e){b.each(e,function(e,t){u[e]=e,c[e]=e,h[e]=t})}),b.each(t,function(e){var o=-1;b.each(e,function(e){var t=l(e);if(t.length)for(var n=((t=b.sortBy(t,function(e){return h[e]})).length-1)/2,r=Math.floor(n),i=Math.ceil(n);r<=i;++r){var a=t[r];c[e]===e&&o<h[a]&&!d(s,e,a)&&(c[a]=e,c[e]=u[e]=u[a],o=h[a])}})}),{root:u,align:c}}function c(i,e,t,n,r){var a,o,s,l,u,c,h,d,f,p,v={},g=(a=i,o=e,s=t,l=r,u=new x,c=a.graph(),d=c.nodesep,f=c.edgesep,p=l,h=function(e,t,n){var r,i=e.node(t),a=e.node(n),o=0;if(o+=i.width/2,b.has(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":r=-i.width/2;break;case"r":r=i.width/2}if(r&&(o+=p?r:-r),r=0,o+=(i.dummy?f:d)/2,o+=(a.dummy?f:d)/2,o+=a.width/2,b.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":r=a.width/2;break;case"r":r=-a.width/2}return r&&(o+=p?r:-r),r=0,o},b.each(o,function(e){var i;b.each(e,function(e){var t=s[e];if(u.setNode(t),i){var n=s[i],r=u.edge(n,t);u.setEdge(n,t,Math.max(h(a,e,i),r||0))}i=e})}),u),y={};b.each(g.nodes(),function n(e){b.has(y,e)||(y[e]=!0,v[e]=b.reduce(g.inEdges(e),function(e,t){return n(t.v),Math.max(e,v[t.v]+g.edge(t))},0))});var m=r?"borderLeft":"borderRight";return b.each(g.nodes(),function n(e){if(2!==y[e]){y[e]++;var t=i.node(e),r=b.reduce(g.outEdges(e),function(e,t){return n(t.w),Math.min(e,v[t.w]-g.edge(t))},Number.POSITIVE_INFINITY);r!==Number.POSITIVE_INFINITY&&t.borderType!==m&&(v[e]=Math.max(v[e],r))}}),b.each(n,function(e){v[e]=v[t[e]]}),v}function f(n,e){return b.min(e,function(e){var t=b.min(e,function(e,t){return e-a(n,t)/2});return b.max(e,function(e,t){return e+a(n,t)/2})-t})}function p(a,o){var s=b.min(o),l=b.max(o);b.each(["u","d"],function(i){b.each(["l","r"],function(e){var t,n=i+e,r=a[n];r!==o&&(t="l"===e?s-b.min(r):l-b.max(r))&&(a[n]=b.mapValues(r,function(e){return e+t}))})})}function v(r,i){return b.mapValues(r.ul,function(e,t){if(i)return r[i.toLowerCase()][t];var n=b.sortBy(b.pluck(r,t));return(n[1]+n[2])/2})}function a(e,t){return e.node(t).width}e.exports={positionX:function(a){var o,e=n.buildLayerMatrix(a),s=b.merge(r(a,e),i(a,e)),l={};b.each(["u","d"],function(i){o="u"===i?e:b.values(e).reverse(),b.each(["l","r"],function(e){"r"===e&&(o=b.map(o,function(e){return b.values(e).reverse()}));var t=b.bind("u"===i?a.predecessors:a.successors,a),n=u(a,o,s,t),r=c(a,o,n.root,n.align,"r"===e);"r"===e&&(r=b.mapValues(r,function(e){return-e})),l[i+e]=r})});var t=f(a,l);return p(l,t),v(l,a.graph().align)},findType1Conflicts:r,findType2Conflicts:i,addConflict:h,hasConflict:d,verticalAlignment:u,horizontalCompaction:c,alignCoordinates:p,findSmallestWidthAlignment:f,balance:v}},A.f[35]=function(e,t){var i=A.r(10),n=A.r(15),a=A.r(8).Graph;e.exports={debugOrdering:function(t){var e=n.buildLayerMatrix(t),r=new a({compound:!0,multigraph:!0}).setGraph({});return i.each(t.nodes(),function(e){r.setNode(e,{label:e}),r.setParent(e,"layer"+t.node(e).rank)}),i.each(t.edges(),function(e){r.setEdge(e.v,e.w,{},e.name)}),i.each(e,function(e,t){var n="layer"+t;r.setNode(n,{rank:"same"}),i.reduce(e,function(e,t){return r.setEdge(e,t,{style:"invis"}),t})}),r}}},A.f[36]=function(e,t){e.exports="0.7.4"},A.f[37]=function(e,t){var n=function(e,t){var n=e.replace(/[\.\/]+/g,"-");"-"===n.charAt(0)&&(n=n.substring(1));var r=document.getElementById(n);if(r)t&&(r.innerHTML=t);else{var i=document.createElement(t?"style":"link");i.id=n,i.type="text/css",t?i.innerHTML=t:(i.rel="stylesheet",i.href=e),document.getElementsByTagName("head")[0].appendChild(i)}};"undefined"!=typeof FuseBox&&FuseBox.on("async",function(e){if(/\.css$/.test(e))return n(e),!1}),e.exports=n},A.f[38]=function(e,t){var n=A.r(39);e.exports={Graph:n.Graph,json:A.r(43),alg:A.r(44),version:n.version}},A.f[39]=function(e,t){e.exports={Graph:A.r(40),version:A.r(42)}},A.f[40]=function(e,t){var l=A.r(41);e.exports=n;var s="\0",r="\0",u="";function n(e){this._isDirected=!l.has(e,"directed")||e.directed,this._isMultigraph=!!l.has(e,"multigraph")&&e.multigraph,this._isCompound=!!l.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=l.constant(void 0),this._defaultEdgeLabelFn=l.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function c(e,t){e[t]?e[t]++:e[t]=1}function a(e,t){--e[t]||delete e[t]}function h(e,t,n,r){var i=""+t,a=""+n;if(!e&&a<i){var o=i;i=a,a=o}return i+u+a+u+(l.isUndefined(r)?s:r)}function o(e,t){return h(e,t.v,t.w,t.name)}n.prototype._nodeCount=0,n.prototype._edgeCount=0,n.prototype.isDirected=function(){return this._isDirected},n.prototype.isMultigraph=function(){return this._isMultigraph},n.prototype.isCompound=function(){return this._isCompound},n.prototype.setGraph=function(e){return this._label=e,this},n.prototype.graph=function(){return this._label},n.prototype.setDefaultNodeLabel=function(e){return l.isFunction(e)||(e=l.constant(e)),this._defaultNodeLabelFn=e,this},n.prototype.nodeCount=function(){return this._nodeCount},n.prototype.nodes=function(){return l.keys(this._nodes)},n.prototype.sources=function(){return l.filter(this.nodes(),function(e){return l.isEmpty(this._in[e])},this)},n.prototype.sinks=function(){return l.filter(this.nodes(),function(e){return l.isEmpty(this._out[e])},this)},n.prototype.setNodes=function(e,t){var n=arguments;return l.each(e,function(e){1<n.length?this.setNode(e,t):this.setNode(e)},this),this},n.prototype.setNode=function(e,t){return l.has(this._nodes,e)?1<arguments.length&&(this._nodes[e]=t):(this._nodes[e]=1<arguments.length?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=r,this._children[e]={},this._children[r][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this},n.prototype.node=function(e){return this._nodes[e]},n.prototype.hasNode=function(e){return l.has(this._nodes,e)},n.prototype.removeNode=function(e){var t=this;if(l.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],l.each(this.children(e),function(e){this.setParent(e)},this),delete this._children[e]),l.each(l.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],l.each(l.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},n.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(l.isUndefined(t))t=r;else{for(var n=t+="";!l.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},n.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},n.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==r)return t}},n.prototype.children=function(e){if(l.isUndefined(e)&&(e=r),this._isCompound){var t=this._children[e];if(t)return l.keys(t)}else{if(e===r)return this.nodes();if(this.hasNode(e))return[]}},n.prototype.predecessors=function(e){var t=this._preds[e];if(t)return l.keys(t)},n.prototype.successors=function(e){var t=this._sucs[e];if(t)return l.keys(t)},n.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return l.union(t,this.successors(e))},n.prototype.filterNodes=function(n){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph()),l.each(this._nodes,function(e,t){n(t)&&r.setNode(t,e)},this),l.each(this._edgeObjs,function(e){r.hasNode(e.v)&&r.hasNode(e.w)&&r.setEdge(e,this.edge(e))},this);var i=this,a={};return this._isCompound&&l.each(r.nodes(),function(e){r.setParent(e,function e(t){var n=i.parent(t);return void 0===n||r.hasNode(n)?a[t]=n:n in a?a[n]:e(n)}(e))}),r},n.prototype.setDefaultEdgeLabel=function(e){return l.isFunction(e)||(e=l.constant(e)),this._defaultEdgeLabelFn=e,this},n.prototype.edgeCount=function(){return this._edgeCount},n.prototype.edges=function(){return l.values(this._edgeObjs)},n.prototype.setPath=function(e,n){var r=this,i=arguments;return l.reduce(e,function(e,t){return 1<i.length?r.setEdge(e,t,n):r.setEdge(e,t),t}),this},n.prototype.setEdge=function(){var e,t,n,r,i=!1,a=arguments[0];"object"==typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=a,t=arguments[1],n=arguments[3],2<arguments.length&&(r=arguments[2],i=!0)),e=""+e,t=""+t,l.isUndefined(n)||(n=""+n);var o=h(this._isDirected,e,t,n);if(l.has(this._edgeLabels,o))return i&&(this._edgeLabels[o]=r),this;if(!l.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=i?r:this._defaultEdgeLabelFn(e,t,n);var s=function(e,t,n,r){var i=""+t,a=""+n;if(!e&&a<i){var o=i;i=a,a=o}var s={v:i,w:a};r&&(s.name=r);return s}(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[o]=s,c(this._preds[t],e),c(this._sucs[e],t),this._in[t][o]=s,this._out[e][o]=s,this._edgeCount++,this},n.prototype.edge=function(e,t,n){var r=1===arguments.length?o(this._isDirected,e):h(this._isDirected,e,t,n);return this._edgeLabels[r]},n.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?o(this._isDirected,e):h(this._isDirected,e,t,n);return l.has(this._edgeLabels,r)},n.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?o(this._isDirected,e):h(this._isDirected,e,t,n),i=this._edgeObjs[r];return i&&(e=i.v,t=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[t],e),a(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},n.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=l.values(n);return t?l.filter(r,function(e){return e.v===t}):r}},n.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=l.values(n);return t?l.filter(r,function(e){return e.w===t}):r}},n.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},A.f[41]=function(e,t){var n;try{n=A.r(61)}catch(e){}n||(n=window._),e.exports=n},A.f[42]=function(e,t){e.exports="1.0.7"},A.f[43]=function(e,t){var a=A.r(41),n=A.r(40);e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:(i=e,a.map(i.nodes(),function(e){var t=i.node(e),n=i.parent(e),r={v:e};return a.isUndefined(t)||(r.value=t),a.isUndefined(n)||(r.parent=n),r})),edges:(r=e,a.map(r.edges(),function(e){var t=r.edge(e),n={v:e.v,w:e.w};return a.isUndefined(e.name)||(n.name=e.name),a.isUndefined(t)||(n.value=t),n}))};var r;var i;a.isUndefined(e.graph())||(t.value=a.clone(e.graph()));return t},read:function(e){var t=new n(e.options).setGraph(e.value);return a.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),a.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},A.f[44]=function(e,t){e.exports={components:A.r(45),dijkstra:A.r(46),dijkstraAll:A.r(48),findCycles:A.r(49),floydWarshall:A.r(51),isAcyclic:A.r(52),postorder:A.r(54),preorder:A.r(56),prim:A.r(57),tarjan:A.r(50),topsort:A.r(53)}},A.f[45]=function(e,t){var o=A.r(41);e.exports=function(t){var n,r={},i=[];function a(e){o.has(r,e)||(r[e]=!0,n.push(e),o.each(t.successors(e),a),o.each(t.predecessors(e),a))}return o.each(t.nodes(),function(e){n=[],a(e),n.length&&i.push(n)}),i}},A.f[46]=function(e,t){var n=A.r(41),i=A.r(47);e.exports=function(t,e,n,r){return function(e,n,a,t){var o,s,l={},u=new i,r=function(e){var t=e.v!==o?e.v:e.w,n=l[t],r=a(e),i=s.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+r);i<n.distance&&(n.distance=i,n.predecessor=o,u.decrease(t,i))};e.nodes().forEach(function(e){var t=e===n?0:Number.POSITIVE_INFINITY;l[e]={distance:t},u.add(e,t)});for(;0<u.size()&&(o=u.removeMin(),(s=l[o]).distance!==Number.POSITIVE_INFINITY);)t(o).forEach(r);return l}(t,String(e),n||a,r||function(e){return t.outEdges(e)})};var a=n.constant(1)},A.f[47]=function(e,t){var a=A.r(41);function n(){this._arr=[],this._keyIndices={}}(e.exports=n).prototype.size=function(){return this._arr.length},n.prototype.keys=function(){return this._arr.map(function(e){return e.key})},n.prototype.has=function(e){return a.has(this._keyIndices,e)},n.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},n.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},n.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),a.has(n,e))return!1;var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0},n.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},n.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},n.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,i=e;n<t.length&&(i=t[n].priority<t[i].priority?n:i,r<t.length&&(i=t[r].priority<t[i].priority?r:i),i!==e&&(this._swap(e,i),this._heapify(i)))},n.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);)this._swap(e,t),e=t},n.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,i=n[e],a=n[t];n[e]=a,n[t]=i,r[a.key]=e,r[i.key]=t}},A.f[48]=function(e,t){var a=A.r(46),o=A.r(41);e.exports=function(n,r,i){return o.transform(n.nodes(),function(e,t){e[t]=a(n,t,r,i)},{})}},A.f[49]=function(e,t){var n=A.r(41),r=A.r(50);e.exports=function(t){return n.filter(r(t),function(e){return 1<e.length||1===e.length&&t.hasEdge(e[0],e[0])})}},A.f[50]=function(e,t){var c=A.r(41);e.exports=function(a){var o=0,s=[],l={},u=[];return a.nodes().forEach(function(e){c.has(l,e)||function t(e){var n=l[e]={onStack:!0,lowlink:o,index:o++};if(s.push(e),a.successors(e).forEach(function(e){c.has(l,e)?l[e].onStack&&(n.lowlink=Math.min(n.lowlink,l[e].index)):(t(e),n.lowlink=Math.min(n.lowlink,l[e].lowlink))}),n.lowlink===n.index){for(var r,i=[];r=s.pop(),l[r].onStack=!1,i.push(r),e!==r;);u.push(i)}}(e)}),u}},A.f[51]=function(e,t){var n=A.r(41);e.exports=function(t,e,n){return r=t,i=e||o,a=n||function(e){return t.outEdges(e)},l={},u=r.nodes(),u.forEach(function(r){l[r]={},l[r][r]={distance:0},u.forEach(function(e){r!==e&&(l[r][e]={distance:Number.POSITIVE_INFINITY})}),a(r).forEach(function(e){var t=e.v===r?e.w:e.v,n=i(e);l[r][t]={distance:n,predecessor:r}})}),u.forEach(function(o){var s=l[o];u.forEach(function(e){var a=l[e];u.forEach(function(e){var t=a[o],n=s[e],r=a[e],i=t.distance+n.distance;i<r.distance&&(r.distance=i,r.predecessor=n.predecessor)})})}),l;var r,i,a,l,u};var o=n.constant(1)},A.f[52]=function(e,t){var n=A.r(53);e.exports=function(e){try{n(e)}catch(e){if(e instanceof n.CycleException)return!1;throw e}return!0}},A.f[53]=function(e,t){var o=A.r(41);function n(n){var r={},i={},a=[];if(o.each(n.sinks(),function e(t){if(o.has(i,t))throw new s;o.has(r,t)||(i[t]=!0,r[t]=!0,o.each(n.predecessors(t),e),delete i[t],a.push(t))}),o.size(r)!==n.nodeCount())throw new s;return a}function s(){}(e.exports=n).CycleException=s},A.f[54]=function(e,t){var n=A.r(55);e.exports=function(e,t){return n(e,t,"post")}},A.f[55]=function(e,t){var o=A.r(41);e.exports=function(t,e,n){o.isArray(e)||(e=[e]);var r=[],i={};return o.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(n,e,r,i,a){o.has(i,e)||(i[e]=!0,r||a.push(e),o.each(n.neighbors(e),function(e){t(n,e,r,i,a)}),r&&a.push(e))}(t,e,"post"===n,i,r)}),r}},A.f[56]=function(e,t){var n=A.r(55);e.exports=function(e,t){return n(e,t,"pre")}},A.f[57]=function(e,t){var l=A.r(41),u=A.r(40),c=A.r(47);e.exports=function(e,i){var a,t=new u,o={},s=new c;function n(e){var t=e.v===a?e.w:e.v,n=s.priority(t);if(void 0!==n){var r=i(e);r<n&&(o[t]=a,s.decrease(t,r))}}if(0===e.nodeCount())return t;l.each(e.nodes(),function(e){s.add(e,Number.POSITIVE_INFINITY),t.setNode(e)}),s.decrease(e.nodes()[0],0);var r=!1;for(;0<s.size();){if(a=s.removeMin(),l.has(o,a))t.setEdge(a,o[a]);else{if(r)throw new Error("Input graph is not connected: "+e);r=!0}e.nodeEdges(a).forEach(n)}return t}},A.f[58]=function(e,t){e.exports=A.r(59)},A.f[59]=function(s,e){(function(){var e,d,l,f,p,n,u,r,v,g,i,a,o,c,h,t;l=Math.floor,g=Math.min,d=function(e,t){return e<t?-1:t<e?1:0},v=function(e,t,n,r,i){var a;if(null==n&&(n=0),null==i&&(i=d),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)i(t,e[a=l((n+r)/2)])<0?r=a:n=a+1;return[].splice.apply(e,[n,n-n].concat(t)),t},n=function(e,t,n){return null==n&&(n=d),e.push(t),c(e,0,e.length-1,n)},p=function(e,t){var n,r;return null==t&&(t=d),n=e.pop(),e.length?(r=e[0],e[0]=n,h(e,0,t)):r=n,r},r=function(e,t,n){var r;return null==n&&(n=d),r=e[0],e[0]=t,h(e,0,n),r},u=function(e,t,n){var r;return null==n&&(n=d),e.length&&n(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],h(e,0,n)),t},f=function(n,e){var t,r,i,a,o,s;for(null==e&&(e=d),o=[],r=0,i=(a=function(){s=[];for(var e=0,t=l(n.length/2);0<=t?e<t:t<e;0<=t?e++:e--)s.push(e);return s}.apply(this).reverse()).length;r<i;r++)t=a[r],o.push(h(n,t,e));return o},o=function(e,t,n){var r;if(null==n&&(n=d),-1!==(r=e.indexOf(t)))return c(e,0,r,n),h(e,r,n)},i=function(e,t,n){var r,i,a,o,s;if(null==n&&(n=d),!(i=e.slice(0,t)).length)return i;for(f(i,n),a=0,o=(s=e.slice(t)).length;a<o;a++)r=s[a],u(i,r,n);return i.sort(n).reverse()},a=function(e,t,n){var r,i,a,o,s,l,u,c,h;if(null==n&&(n=d),10*t<=e.length){if(!(a=e.slice(0,t).sort(n)).length)return a;for(i=a[a.length-1],o=0,l=(u=e.slice(t)).length;o<l;o++)n(r=u[o],i)<0&&(v(a,r,0,null,n),a.pop(),i=a[a.length-1]);return a}for(f(e,n),h=[],s=0,c=g(t,e.length);0<=c?s<c:c<s;0<=c?++s:--s)h.push(p(e,n));return h},c=function(e,t,n,r){var i,a,o;for(null==r&&(r=d),i=e[n];t<n&&r(i,a=e[o=n-1>>1])<0;)e[n]=a,n=o;return e[n]=i},h=function(e,t,n){var r,i,a,o,s;for(null==n&&(n=d),i=e.length,a=e[s=t],r=2*t+1;r<i;)(o=r+1)<i&&!(n(e[r],e[o])<0)&&(r=o),e[t]=e[r],r=2*(t=r)+1;return e[t]=a,c(e,s,t,n)},e=function(){function t(e){this.cmp=null!=e?e:d,this.nodes=[]}return t.push=n,t.pop=p,t.replace=r,t.pushpop=u,t.heapify=f,t.updateItem=o,t.nlargest=i,t.nsmallest=a,t.prototype.push=function(e){return n(this.nodes,e,this.cmp)},t.prototype.pop=function(){return p(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},t.prototype.replace=function(e){return r(this.nodes,e,this.cmp)},t.prototype.pushpop=function(e){return u(this.nodes,e,this.cmp)},t.prototype.heapify=function(){return f(this.nodes,this.cmp)},t.prototype.updateItem=function(e){return o(this.nodes,e,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),t=function(){return e},s.exports=t()}).call(this)},A.f[60]=function(e,t){var a=NaN,o="[object Symbol]",s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,h=parseInt,n="object"==typeof self&&self&&self.Object===Object&&self||Function("return this")(),d=Object.prototype.toString,m=Math.max,b=Math.min,x=function(){return n.Date.now()};function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||(n=t)&&"object"==typeof n&&d.call(t)==o)return a;var t,n;if(w(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=w(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var i=u.test(e);return i||c.test(e)?h(e.slice(2),i?2:8):l.test(e)?a:+e}e.exports=function(r,i,e){var a,o,s,l,u,c,h=0,d=!1,f=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function p(e){var t=a,n=o;return a=o=void 0,h=e,l=r.apply(n,t)}function v(e){var t=e-c;return void 0===c||i<=t||t<0||f&&s<=e-h}function g(){var e,t,n=x();if(v(n))return y(n);u=setTimeout(g,(t=i-((e=n)-c),f?b(t,s-(e-h)):t))}function y(e){return u=void 0,t&&a?p(e):(a=o=void 0,l)}function n(){var e,t=x(),n=v(t);if(a=arguments,o=this,c=t,n){if(void 0===u)return h=e=c,u=setTimeout(g,i),d?p(e):l;if(f)return u=setTimeout(g,i),p(c)}return void 0===u&&(u=setTimeout(g,i)),l}return i=_(i)||0,w(e)&&(d=!!e.leading,s=(f="maxWait"in e)?m(_(e.maxWait)||0,i):s,t="trailing"in e?!!e.trailing:t),n.cancel=function(){void 0!==u&&clearTimeout(u),a=c=o=u=void(h=0)},n.flush=function(){return void 0===u?l:y(x())},n}},A.f[61]=function(m,b){(function(){var pi,e,t,vi="3.10.1",gi=1,yi=2,mi=4,bi=8,xi=16,wi=32,_i=64,Ei=128,Ci=256,ki=30,Ti="...",Pi=150,Ai=16,Ni=200,Si=1,Oi=2,Ii="Expected a function",Mi="__lodash_placeholder__",Ri="[object Arguments]",Bi="[object Array]",Di="[object Boolean]",Li="[object Date]",ji="[object Error]",zi="[object Function]",n="[object Map]",$i="[object Number]",Vi="[object Object]",Fi="[object RegExp]",r="[object Set]",qi="[object String]",i="[object WeakMap]",Hi="[object ArrayBuffer]",Xi="[object Float32Array]",Yi="[object Float64Array]",Ui="[object Int8Array]",Wi="[object Int16Array]",Gi="[object Int32Array]",Zi="[object Uint8Array]",Qi="[object Uint8ClampedArray]",Ki="[object Uint16Array]",Ji="[object Uint32Array]",ea=/\b__p \+= '';/g,ta=/\b(__p \+=) '' \+/g,na=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ra=/&(?:amp|lt|gt|quot|#39|#96);/g,ia=/[&<>"'`]/g,aa=RegExp(ra.source),oa=RegExp(ia.source),sa=/<%-([\s\S]+?)%>/g,la=/<%([\s\S]+?)%>/g,ua=/<%=([\s\S]+?)%>/g,ca=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ha=/^\w*$/,da=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,fa=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,pa=RegExp(fa.source),va=/[\u0300-\u036f\ufe20-\ufe23]/g,ga=/\\(\\)?/g,ya=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ma=/\w*$/,ba=/^0[xX]/,xa=/^\[object .+?Constructor\]$/,wa=/^\d+$/,_a=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ea=/($^)/,Ca=/['\n\r\u2028\u2029\\]/g,ka=(e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")),Ta=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Pa=-1,Aa={};Aa[Xi]=Aa[Yi]=Aa[Ui]=Aa[Wi]=Aa[Gi]=Aa[Zi]=Aa[Qi]=Aa[Ki]=Aa[Ji]=!0,Aa[Ri]=Aa[Bi]=Aa[Hi]=Aa[Di]=Aa[Li]=Aa[ji]=Aa[zi]=Aa[n]=Aa[$i]=Aa[Vi]=Aa[Fi]=Aa[r]=Aa[qi]=Aa[i]=!1;var Na={};Na[Ri]=Na[Bi]=Na[Hi]=Na[Di]=Na[Li]=Na[Xi]=Na[Yi]=Na[Ui]=Na[Wi]=Na[Gi]=Na[$i]=Na[Vi]=Na[Fi]=Na[qi]=Na[Zi]=Na[Qi]=Na[Ki]=Na[Ji]=!0,Na[ji]=Na[zi]=Na[n]=Na[r]=Na[i]=!1;var a={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},l={function:!0,object:!0},u={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},c={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},h=l.object&&b&&!b.nodeType&&b,d=l.object&&m&&!m.nodeType&&m,f=h&&d&&!1,p=l[typeof self]&&self&&self.Object&&self,v=l.object&&window&&window.Object&&window,g=d&&d.exports===h&&h,Sa=f||v!==(this&&this.window)&&v||p||this;function Oa(e,t){if(e!==t){var n=null===e,r=e===pi,i=e==e,a=null===t,o=t===pi,s=t==t;if(t<e&&!a||!i||n&&!o&&s||r&&s)return 1;if(e<t&&!n||!s||a&&!r&&i||o&&i)return-1}return 0}function Ia(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function Ma(e,t,n){if(t!=t)return qa(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Ra(e){return"function"==typeof e||!1}function Ba(e){return null==e?"":e+""}function Da(e,t){for(var n=-1,r=e.length;++n<r&&-1<t.indexOf(e.charAt(n)););return n}function La(e,t){for(var n=e.length;n--&&-1<t.indexOf(e.charAt(n)););return n}function ja(e,t){return Oa(e.criteria,t.criteria)||e.index-t.index}function za(e){return a[e]}function $a(e){return o[e]}function Va(e,t,n){return t?e=u[e]:n&&(e=c[e]),"\\"+e}function Fa(e){return"\\"+c[e]}function qa(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var a=e[i];if(a!=a)return i}return-1}function Ha(e){return!!e&&"object"==typeof e}function y(e){return e<=160&&9<=e&&e<=13||32==e||160==e||5760==e||6158==e||8192<=e&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function Xa(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;)e[n]===t&&(e[n]=Mi,a[++i]=n);return a}function Ya(e){for(var t=-1,n=e.length;++t<n&&y(e.charCodeAt(t)););return t}function Ua(e){for(var t=e.length;t--&&y(e.charCodeAt(t)););return t}function Wa(e){return s[e]}var Ga=function e(t){var N=(t=t?Ga.defaults(Sa.Object(),t,Ga.pick(Sa,Ta)):Sa).Array,n=t.Date,r=t.Error,g=t.Function,i=t.Math,a=t.Number,y=t.Object,m=t.RegExp,o=t.String,b=t.TypeError,s=N.prototype,l=y.prototype,u=o.prototype,c=g.prototype.toString,x=l.hasOwnProperty,h=0,w=l.toString,d=Sa._,f=m("^"+c.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),p=t.ArrayBuffer,_=t.clearTimeout,v=t.parseFloat,E=i.pow,C=l.propertyIsEnumerable,k=Bt(t,"Set"),T=t.setTimeout,P=s.splice,A=t.Uint8Array,S=Bt(t,"WeakMap"),O=i.ceil,I=Bt(y,"create"),M=i.floor,R=Bt(N,"isArray"),B=t.isFinite,D=Bt(y,"keys"),L=i.max,j=i.min,z=Bt(n,"now"),$=t.parseInt,V=i.random,F=a.NEGATIVE_INFINITY,q=a.POSITIVE_INFINITY,H=4294967295,X=H-1,Y=H>>>1,U=9007199254740991,W=S&&new S,G={};function Z(e){if(Ha(e)&&!cr(e)&&!(e instanceof J)){if(e instanceof K)return e;if(x.call(e,"__chain__")&&x.call(e,"__wrapped__"))return Jt(e)}return new K(e)}function Q(){}function K(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}Z.support={};function J(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=q,this.__views__=[]}function ee(){this.__data__={}}function te(e){var t=e?e.length:0;for(this.data={hash:I(null),set:new k};t--;)this.push(e[t])}function ne(e,t){var n=e.data;return("string"==typeof t||pr(t)?n.set.has(t):n.hash[t])?0:-1}function re(e,t){var n=-1,r=e.length;for(t||(t=N(r));++n<r;)t[n]=e[n];return t}function ie(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function ae(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function oe(e,t){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[++i]=o)}return a}function se(e,t){for(var n=-1,r=e.length,i=N(r);++n<r;)i[n]=t(e[n],n,e);return i}function le(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ue(e,t,n,r){var i=-1,a=e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function ce(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function he(e,t,n,r){return e!==pi&&x.call(r,n)?e:t}function de(e,t,n){for(var r=-1,i=Br(t),a=i.length;++r<a;){var o=i[r],s=e[o],l=n(s,t[o],o,e,t);(l==l?l===s:s!=s)&&(s!==pi||o in e)||(e[o]=l)}return e}function fe(e,t){return null==t?e:ve(t,Br(t),e)}function pe(e,t){for(var n=-1,r=null==e,i=!r&&Lt(e),a=i?e.length:0,o=t.length,s=N(o);++n<o;){var l=t[n];s[n]=i?jt(l,a)?e[l]:pi:r?pi:e[l]}return s}function ve(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var a=t[r];n[a]=e[a]}return n}function ge(e,t,n){var r=typeof e;return"function"==r?t===pi?e:Je(e,t,n):null==e?ti:"object"==r?Le(e):t===pi?si(e):je(e,t)}function ye(n,r,i,e,t,a,o){var s;if(i&&(s=t?i(n,e,t):i(n)),s!==pi)return s;if(!pr(n))return n;var l,u,c,h,d=cr(n);if(d){if(c=(u=n).length,h=new u.constructor(c),c&&"string"==typeof u[0]&&x.call(u,"index")&&(h.index=u.index,h.input=u.input),s=h,!r)return re(n,s)}else{var f=w.call(n),p=f==zi;if(f!=Vi&&f!=Ri&&(!p||t))return Na[f]?function(e,t,n){var r=e.constructor;switch(t){case Hi:return et(e);case Di:case Li:return new r(+e);case Xi:case Yi:case Ui:case Wi:case Gi:case Zi:case Qi:case Ki:case Ji:var i=e.buffer;return new r(n?et(i):i,e.byteOffset,e.length);case $i:case qi:return new r(e);case Fi:var a=new r(e.source,ma.exec(e));a.lastIndex=e.lastIndex}return a}(n,f,r):t?n:{};if("function"==typeof(l=(p?{}:n).constructor)&&l instanceof l||(l=y),s=new l,!r)return fe(s,n)}a||(a=[]),o||(o=[]);for(var v=a.length;v--;)if(a[v]==n)return o[v];return a.push(n),o.push(s),(d?ie:Se)(n,function(e,t){s[t]=ye(e,r,i,t,n,a,o)}),s}Z.templateSettings={escape:sa,evaluate:la,interpolate:ua,variable:"",imports:{_:Z}};var me=function(){function n(){}return function(e){if(pr(e)){n.prototype=e;var t=new n;n.prototype=pi}return t||{}}}();function be(e,t,n){if("function"!=typeof e)throw new b(Ii);return T(function(){e.apply(pi,n)},t)}function xe(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,a=It(),o=a==Ma,s=o&&t.length>=Ni?st(t):null,l=t.length;s&&(a=ne,o=!1,t=s);e:for(;++i<n;){var u=e[i];if(o&&u==u){for(var c=l;c--;)if(t[c]===u)continue e;r.push(u)}else a(t,u,0)<0&&r.push(u)}return r}var we=at(Se),_e=at(Oe,!0);function Ee(e,r){var i=!0;return we(e,function(e,t,n){return i=!!r(e,t,n)}),i}function Ce(e,r){var i=[];return we(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i}function ke(e,r,t,i){var a;return t(e,function(e,t,n){if(r(e,t,n))return a=i?t:e,!1}),a}function Te(e,t,n,r){r||(r=[]);for(var i=-1,a=e.length;++i<a;){var o=e[i];Ha(o)&&Lt(o)&&(n||cr(o)||ur(o))?t?Te(o,t,n,r):le(r,o):n||(r[r.length]=o)}return r}var Pe=ot(),Ae=ot(!0);function Ne(e,t){return Pe(e,t,Dr)}function Se(e,t){return Pe(e,t,Br)}function Oe(e,t){return Ae(e,t,Br)}function Ie(e,t){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];fr(e[o])&&(a[++i]=o)}return a}function Me(e,t,n){if(null!=e){n!==pi&&n in Qt(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&r<i;)e=e[t[r++]];return r&&r==i?e:pi}}function Re(e,t,n,r,i,a){return e===t||(null==e||null==t||!pr(e)&&!Ha(t)?e!=e&&t!=t:function(e,t,n,r,i,a,o){var s=cr(e),l=cr(t),u=Bi,c=Bi;s||((u=w.call(e))==Ri?u=Vi:u!=Vi&&(s=xr(e))),l||((c=w.call(t))==Ri?c=Vi:c!=Vi&&(l=xr(t)));var h=u==Vi,d=c==Vi,f=u==c;if(f&&!s&&!h)return function(e,t,n){switch(n){case Di:case Li:return+e==+t;case ji:return e.name==t.name&&e.message==t.message;case $i:return e!=+e?t!=+t:e==+t;case Fi:case qi:return e==t+""}return!1}(e,t,u);if(!i){var p=h&&x.call(e,"__wrapped__"),v=d&&x.call(t,"__wrapped__");if(p||v)return n(p?e.value():e,v?t.value():t,r,i,a,o)}if(!f)return!1;a||(a=[]),o||(o=[]);for(var g=a.length;g--;)if(a[g]==e)return o[g]==t;a.push(e),o.push(t);var y=(s?function(e,t,n,r,i,a,o){var s=-1,l=e.length,u=t.length;if(l!=u&&!(i&&l<u))return!1;for(;++s<l;){var c=e[s],h=t[s],d=r?r(i?h:c,i?c:h,s):pi;if(d!==pi){if(d)continue;return!1}if(i){if(!ce(t,function(e){return c===e||n(c,e,r,i,a,o)}))return!1}else if(c!==h&&!n(c,h,r,i,a,o))return!1}return!0}:function(e,t,n,r,i,a,o){var s=Br(e),l=s.length,u=Br(t).length;if(l!=u&&!i)return!1;for(var c=l;c--;){var h=s[c];if(!(i?h in t:x.call(t,h)))return!1}for(var d=i;++c<l;){h=s[c];var f=e[h],p=t[h],v=r?r(i?p:f,i?f:p,h):pi;if(!(v===pi?n(f,p,r,i,a,o):v))return!1;d||(d="constructor"==h)}if(!d){var g=e.constructor,y=t.constructor;if(g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0})(e,t,n,r,i,a,o);return a.pop(),o.pop(),y}(e,t,Re,n,r,i,a))}function Be(e,t,n){var r=t.length,i=r,a=!n;if(null==e)return!i;for(e=Qt(e);r--;){var o=t[r];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++r<i;){var s=(o=t[r])[0],l=e[s],u=o[1];if(a&&o[2]){if(l===pi&&!(s in e))return!1}else{var c=n?n(l,u,s):pi;if(!(c===pi?Re(u,l,n,!0):c))return!1}}return!0}function De(e,r){var i=-1,a=Lt(e)?N(e.length):[];return we(e,function(e,t,n){a[++i]=r(e,t,n)}),a}function Le(e){var t=Rt(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&e[n]===r&&(r!==pi||n in Qt(e))}}return function(e){return Be(e,t)}}function je(n,r){var i=cr(n),a=$t(n)&&qt(r),o=n+"";return n=Kt(n),function(e){if(null==e)return!1;var t=o;if(e=Qt(e),(i||!a)&&!(t in e)){if(null==(e=1==n.length?e:Me(e,qe(n,0,-1))))return!1;t=un(n),e=Qt(e)}return e[t]===r?r!==pi||t in e:Re(r,e[t],pi,!0)}}function ze(t){return function(e){return null==e?pi:e[t]}}function $e(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&jt(r)){var i=r;P.call(e,r,1)}}return e}function Ve(e,t){return e+M(V()*(t-e+1))}var Fe=W?function(e,t){return W.set(e,t),e}:ti;function qe(e,t,n){var r=-1,i=e.length;(t=null==t?0:+t||0)<0&&(t=i<-t?0:i+t),(n=n===pi||i<n?i:+n||0)<0&&(n+=i),i=n<t?0:n-t>>>0,t>>>=0;for(var a=N(i);++r<i;)a[r]=e[r+t];return a}function He(e,r){var i;return we(e,function(e,t,n){return!(i=r(e,t,n))}),!!i}function Xe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Ye(e,n,r){var t=Nt(),i=-1;return n=se(n,function(e){return t(e)}),Xe(De(e,function(t){return{criteria:se(n,function(e){return e(t)}),index:++i,value:t}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=Oa(i[r],a[r]);if(l){if(s<=r)return l;var u=n[r];return l*("asc"===u||!0===u?1:-1)}}return e.index-t.index}(e,t,r)})}function Ue(e,t){var n=-1,r=It(),i=e.length,a=r==Ma,o=a&&Ni<=i,s=o?st():null,l=[];s?(r=ne,a=!1):(o=!1,s=t?[]:l);e:for(;++n<i;){var u=e[n],c=t?t(u,n,e):u;if(a&&u==u){for(var h=s.length;h--;)if(s[h]===c)continue e;t&&s.push(c),l.push(u)}else r(s,c,0)<0&&((t||o)&&s.push(c),l.push(u))}return l}function We(e,t){for(var n=-1,r=t.length,i=N(r);++n<r;)i[n]=e[t[n]];return i}function Ge(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?qe(e,r?0:a,r?a+1:i):qe(e,r?a+1:0,r?i:a)}function Ze(e,t){var n=e;n instanceof J&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var a=t[r];n=a.func.apply(a.thisArg,le([n],a.args))}return n}function Qe(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t==t&&i<=Y){for(;r<i;){var a=r+i>>>1,o=e[a];(n?o<=t:o<t)&&null!==o?r=a+1:i=a}return i}return Ke(e,t,ti,n)}function Ke(e,t,n,r){t=n(t);for(var i=0,a=e?e.length:0,o=t!=t,s=null===t,l=t===pi;i<a;){var u=M((i+a)/2),c=n(e[u]),h=c!==pi,d=c==c;if(o)var f=d||r;else f=s?d&&h&&(r||null!=c):l?d&&(r||h):null!=c&&(r?c<=t:c<t);f?i=u+1:a=u}return j(a,X)}function Je(a,o,e){if("function"!=typeof a)return ti;if(o===pi)return a;switch(e){case 1:return function(e){return a.call(o,e)};case 3:return function(e,t,n){return a.call(o,e,t,n)};case 4:return function(e,t,n,r){return a.call(o,e,t,n,r)};case 5:return function(e,t,n,r,i){return a.call(o,e,t,n,r,i)}}return function(){return a.apply(o,arguments)}}function et(e){var t=new p(e.byteLength);return new A(t).set(new A(e)),t}function tt(e,t,n){for(var r=n.length,i=-1,a=L(e.length-r,0),o=-1,s=t.length,l=N(s+a);++o<s;)l[o]=t[o];for(;++i<r;)l[n[i]]=e[i];for(;a--;)l[o++]=e[i++];return l}function nt(e,t,n){for(var r=-1,i=n.length,a=-1,o=L(e.length-i,0),s=-1,l=t.length,u=N(o+l);++a<o;)u[a]=e[a];for(var c=a;++s<l;)u[c+s]=t[s];for(;++r<i;)u[c+n[r]]=e[a++];return u}function rt(s,l){return function(e,r,t){var i=l?l():{};if(r=Nt(r,t,3),cr(e))for(var n=-1,a=e.length;++n<a;){var o=e[n];s(i,o,r(o,n,e),e)}else we(e,function(e,t,n){s(i,e,r(e,t,n),n)});return i}}function it(l){return sr(function(e,t){var n=-1,r=null==e?0:t.length,i=2<r?t[r-2]:pi,a=2<r?t[2]:pi,o=1<r?t[r-1]:pi;for("function"==typeof i?(i=Je(i,o,5),r-=2):r-=(i="function"==typeof o?o:pi)?1:0,a&&zt(t[0],t[1],a)&&(i=r<3?pi:i,r=1);++n<r;){var s=t[n];s&&l(e,s,i)}return e})}function at(a,o){return function(e,t){var n=e?Mt(e):0;if(!Ft(n))return a(e,t);for(var r=o?n:-1,i=Qt(e);(o?r--:++r<n)&&!1!==t(i[r],r,i););return e}}function ot(l){return function(e,t,n){for(var r=Qt(e),i=n(e),a=i.length,o=l?a:-1;l?o--:++o<a;){var s=i[o];if(!1===t(r[s],s,r))break}return e}}function st(e){return I&&k?new te(e):null}function lt(a){return function(e){for(var t=-1,n=Kr(Hr(e)),r=n.length,i="";++t<r;)i=a(i,n[t],t);return i}}function ut(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=me(r.prototype),n=r.apply(t,e);return pr(n)?n:t}}function ct(a){return function e(t,n,r){r&&zt(t,n,r)&&(n=pi);var i=At(t,a,pi,pi,pi,pi,pi,n);return i.placeholder=e.placeholder,i}}function ht(n,r){return sr(function(e){var t=e[0];return null==t?t:(e.push(r),n.apply(pi,e))})}function dt(u,c){return function(e,t,n){if(n&&zt(e,t,n)&&(t=pi),1==(t=Nt(t,n,3)).length){var r=function(e,t,n,r){for(var i=-1,a=e.length,o=r,s=o;++i<a;){var l=e[i],u=+t(l);n(u,o)&&(o=u,s=l)}return s}(e=cr(e)?e:Zt(e),t,u,c);if(!e.length||r!==c)return r}return i=t,a=u,l=s=o=c,we(e,function(e,t,n){var r=+i(e,t,n);(a(r,s)||r===o&&r===l)&&(s=r,l=e)}),l;var i,a,o,s,l}}function ft(i,a){return function(e,t,n){if(t=Nt(t,n,3),cr(e)){var r=Ia(e,t,a);return-1<r?e[r]:pi}return ke(e,t,i)}}function pt(r){return function(e,t,n){return e&&e.length?Ia(e,t=Nt(t,n,3),r):-1}}function vt(r){return function(e,t,n){return ke(e,t=Nt(t,n,3),r,!0)}}function gt(l){return function(){for(var i,a=arguments.length,e=l?a:-1,t=0,o=N(a);l?e--:++e<a;){var n=o[t++]=arguments[e];if("function"!=typeof n)throw new b(Ii);!i&&K.prototype.thru&&"wrapper"==Ot(n)&&(i=new K([],!0))}for(e=i?-1:a;++e<a;){var r=Ot(n=o[e]),s="wrapper"==r?St(n):pi;i=s&&Vt(s[0])&&s[1]==(Ei|bi|wi|Ci)&&!s[4].length&&1==s[9]?i[Ot(s[0])].apply(i,s[3]):1==n.length&&Vt(n)?i[r]():i.thru(n)}return function(){var e=arguments,t=e[0];if(i&&1==e.length&&cr(t)&&t.length>=Ni)return i.plant(t).value();for(var n=0,r=a?o[n].apply(this,e):t;++n<a;)r=o[n].call(this,r);return r}}}function yt(r,i){return function(e,t,n){return"function"==typeof t&&n===pi&&cr(e)?r(e,t):i(e,Je(t,n,3))}}function mt(r){return function(e,t,n){return"function"==typeof t&&n===pi||(t=Je(t,n,3)),r(e,t,Dr)}}function bt(r){return function(e,t,n){return"function"==typeof t&&n===pi||(t=Je(t,n,3)),r(e,t)}}function xt(o){return function(e,i,t){var a={};return i=Nt(i,t,3),Se(e,function(e,t,n){var r=i(e,t,n);e=o?e:r,a[t=o?r:t]=e}),a}}function wt(r){return function(e,t,n){return e=Ba(e),(r?e:"")+kt(e,t,n)+(r?"":e)}}function _t(r){var i=sr(function(e,t){var n=Xa(t,i.placeholder);return At(e,r,pi,t,n)});return i}function Et(u,c){return function(e,t,n,r){var i,a,o,s,l=arguments.length<3;return"function"==typeof t&&r===pi&&cr(e)?u(e,t,n,l):(i=e,a=Nt(t,r,4),o=n,s=l,c(i,function(e,t,n){o=s?(s=!1,e):a(o,e,t,n)}),o)}}function Ct(d,f,p,v,g,y,m,b,x,w){var _=f&Ei,E=f&gi,C=f&yi,k=f&bi,T=f&mi,P=f&xi,A=C?pi:ut(d);return function e(){for(var t=arguments.length,n=t,r=N(t);n--;)r[n]=arguments[n];if(v&&(r=tt(r,v,g)),y&&(r=nt(r,y,m)),k||P){var i=e.placeholder,a=Xa(r,i);if((t-=a.length)<w){var o=b?re(b):pi,s=L(w-t,0);f|=k?wi:_i,f&=~(k?_i:wi),T||(f&=~(gi|yi));var l=[d,f,p,k?r:pi,k?a:pi,k?pi:r,k?pi:a,o,x,s],u=Ct.apply(pi,l);return Vt(d)&&Wt(u,l),u.placeholder=i,u}}var c=E?p:this,h=C?c[d]:d;return b&&(r=function(e,t){for(var n=e.length,r=j(t.length,n),i=re(e);r--;){var a=t[r];e[r]=jt(a,n)?i[a]:pi}return e}(r,b)),_&&x<r.length&&(r.length=x),this&&this!==Sa&&this instanceof e&&(h=A||ut(d)),h.apply(c,r)}}function kt(e,t,n){var r=e.length;if((t=+t)<=r||!B(t))return"";var i=t-r;return Wr(n=null==n?" ":n+"",O(i/n.length)).slice(0,i)}function Tt(e){var n=i[e];return function(e,t){return(t=t===pi?0:+t||0)?(t=E(10,t),n(e*t)/t):n(e)}}function Pt(a){return function(e,t,n,r){var i=Nt(n);return null==n&&i===ge?Qe(e,t,a):Ke(e,t,i(n,r,1),a)}}function At(e,t,n,r,i,a,o,s){var l=t&yi;if(!l&&"function"!=typeof e)throw new b(Ii);var u=r?r.length:0;if(u||(t&=~(wi|_i),r=i=pi),u-=i?i.length:0,t&_i){var c=r,h=i;r=i=pi}var d,f,p,v=l?pi:St(e),g=[e,t,n,r,i,c,h,a,o,s];if(v&&(function(e,t){var n=e[1],r=t[1],i=n|r,a=i<Ei,o=r==Ei&&n==bi||r==Ei&&n==Ci&&e[7].length<=t[8]||r==(Ei|Ci)&&n==bi;if(a||o){r&gi&&(e[2]=t[2],i|=n&gi?0:mi);var s=t[3];if(s){var l=e[3];e[3]=l?tt(l,s,t[4]):re(s),e[4]=l?Xa(e[3],Mi):re(t[4])}(s=t[5])&&(l=e[5],e[5]=l?nt(l,s,t[6]):re(s),e[6]=l?Xa(e[5],Mi):re(t[6])),(s=t[7])&&(e[7]=re(s)),r&Ei&&(e[8]=null==e[8]?t[8]:j(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}}(g,v),t=g[1],s=g[9]),g[9]=null==s?l?0:e.length:L(s-u,0)||0,t==gi)var y=(d=g[0],f=g[2],p=ut(d),function e(){return(this&&this!==Sa&&this instanceof e?p:d).apply(f,arguments)});else y=t!=wi&&t!=(gi|wi)||g[4].length?Ct.apply(pi,g):function(o,e,s,l){var u=e&gi,c=ut(o);return function e(){for(var t=-1,n=arguments.length,r=-1,i=l.length,a=N(i+n);++r<i;)a[r]=l[r];for(;n--;)a[r++]=arguments[++t];return(this&&this!==Sa&&this instanceof e?c:o).apply(u?s:this,a)}}.apply(pi,g);return(v?Fe:Wt)(y,g)}function Nt(e,t,n){var r=Z.callback||ei;return r=r===ei?ge:r,n?r(e,t,n):r}var St=W?function(e){return W.get(e)}:oi;function Ot(e){for(var t=e.name,n=G[t],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function It(e,t,n){var r=Z.indexOf||sn;return r=r===sn?Ma:r,e?r(e,t,n):r}var Mt=ze("length");function Rt(e){for(var t=$r(e),n=t.length;n--;)t[n][2]=qt(t[n][1]);return t}function Bt(e,t){var n=null==e?pi:e[t];return vr(n)?n:pi}function Dt(e,t,n){null==e||$t(t,e)||(e=1==(t=Kt(t)).length?e:Me(e,qe(t,0,-1)),t=un(t));var r=null==e?e:e[t];return null==r?pi:r.apply(e,n)}function Lt(e){return null!=e&&Ft(Mt(e))}function jt(e,t){return e="number"==typeof e||wa.test(e)?+e:-1,t=null==t?U:t,-1<e&&e%1==0&&e<t}function zt(e,t,n){if(!pr(n))return!1;var r=typeof t;if("number"==r?Lt(n)&&jt(t,n.length):"string"==r&&t in n){var i=n[t];return e==e?e===i:i!=i}return!1}function $t(e,t){var n=typeof e;return!!("string"==n&&ha.test(e)||"number"==n)||!cr(e)&&(!ca.test(e)||null!=t&&e in Qt(t))}function Vt(e){var t=Ot(e);if(!(t in J.prototype))return!1;var n=Z[t];if(e===n)return!0;var r=St(n);return!!r&&e===r[0]}function Ft(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=U}function qt(e){return e==e&&!pr(e)}function Ht(e,t){e=Qt(e);for(var n=-1,r=t.length,i={};++n<r;){var a=t[n];a in e&&(i[a]=e[a])}return i}function Xt(e,r){var i={};return Ne(e,function(e,t,n){r(e,t,n)&&(i[t]=e)}),i}var Yt,Ut,Wt=(Ut=Yt=0,function(e,t){var n=Hn(),r=Ai-(n-Ut);if(Ut=n,0<r){if(++Yt>=Pi)return e}else Yt=0;return Fe(e,t)});function Gt(e){for(var t=Dr(e),n=t.length,r=n&&e.length,i=!!r&&Ft(r)&&(cr(e)||ur(e)),a=-1,o=[];++a<n;){var s=t[a];(i&&jt(s,r)||x.call(e,s))&&o.push(s)}return o}function Zt(e){return null==e?[]:Lt(e)?pr(e)?e:y(e):Fr(e)}function Qt(e){return pr(e)?e:y(e)}function Kt(e){if(cr(e))return e;var i=[];return Ba(e).replace(da,function(e,t,n,r){i.push(n?r.replace(ga,"$1"):t||e)}),i}function Jt(e){return e instanceof J?e.clone():new K(e.__wrapped__,e.__chain__,re(e.__actions__))}var en=sr(function(e,t){return Ha(e)&&Lt(e)?xe(e,Te(t,!1,!0)):[]});function tn(e,t,n){return e&&e.length?((n?zt(e,t,n):null==t)&&(t=1),qe(e,t<0?0:t)):[]}function nn(e,t,n){var r=e?e.length:0;return r?((n?zt(e,t,n):null==t)&&(t=1),qe(e,0,(t=r-(+t||0))<0?0:t)):[]}var rn=pt(),an=pt(!0);function on(e){return e?e[0]:pi}function sn(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?L(r+n,0):n;else if(n){var i=Qe(e,t);return i<r&&(t==t?t===e[i]:e[i]!=e[i])?i:-1}return Ma(e,t,n||0)}var ln=sr(function(e){for(var t=e.length,n=t,r=N(c),i=It(),a=i==Ma,o=[];n--;){var s=e[n]=Lt(s=e[n])?s:[];r[n]=a&&120<=s.length?st(n&&s):null}var l=e[0],u=-1,c=l?l.length:0,h=r[0];e:for(;++u<c;)if(s=l[u],(h?ne(h,s):i(o,s,0))<0){for(n=t;--n;){var d=r[n];if((d?ne(d,s):i(e[n],s,0))<0)continue e}h&&h.push(s),o.push(s)}return o});function un(e){var t=e?e.length:0;return t?e[t-1]:pi}var cn=sr(function(e,t){var n=pe(e,t=Te(t));return $e(e,t.sort(Oa)),n});function hn(e){return tn(e,1)}var dn=Pt(),fn=Pt(!0);var pn=sr(function(e){return Ue(Te(e,!1,!0))});function vn(e,t,n,r){if(!e||!e.length)return[];null!=t&&"boolean"!=typeof t&&(n=zt(e,t,r=n)?pi:t,t=!1);var i=Nt();return null==n&&i===ge||(n=i(n,r,3)),t&&It()==Ma?function(e,t){for(var n,r=-1,i=e.length,a=-1,o=[];++r<i;){var s=e[r],l=t?t(s,r,e):s;r&&n===l||(n=l,o[++a]=s)}return o}(e,n):Ue(e,n)}function gn(e){if(!e||!e.length)return[];var t=-1,n=0;e=oe(e,function(e){if(Lt(e))return n=L(e.length,n),!0});for(var r=N(n);++t<n;)r[t]=se(e,ze(t));return r}function yn(e,t,n){if(!e||!e.length)return[];var r=gn(e);return null==t?r:(t=Je(t,n,4),se(r,function(e){return ue(e,t,pi,!0)}))}var mn=sr(function(e,t){return Lt(e)?xe(e,t):[]});var bn=sr(gn);function xn(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||cr(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}var wn=sr(function(e){var t=e.length,n=2<t?e[t-2]:pi,r=1<t?e[t-1]:pi;return 2<t&&"function"==typeof n?t-=2:(n=1<t&&"function"==typeof r?(--t,r):pi,r=pi),e.length=t,yn(e,n,r)});function _n(e){var t=Z(e);return t.__chain__=!0,t}function En(e,t,n){return t.call(n,e)}var Cn=sr(function(t){return t=Te(t),this.thru(function(e){return function(e,t){for(var n=-1,r=e.length,i=-1,a=t.length,o=N(r+a);++n<r;)o[n]=e[n];for(;++i<a;)o[n++]=t[i];return o}(cr(e)?e:[Qt(e)],t)})});var kn=sr(function(e,t){return pe(e,Te(t))}),Tn=rt(function(e,t,n){x.call(e,n)?++e[n]:e[n]=1});function Pn(e,t,n){var r=cr(e)?ae:Ee;return n&&zt(e,t,n)&&(t=pi),"function"==typeof t&&n===pi||(t=Nt(t,n,3)),r(e,t)}function An(e,t,n){return(cr(e)?oe:Ce)(e,t=Nt(t,n,3))}var Nn=ft(we),Sn=ft(_e,!0);var On=yt(ie,we),In=yt(function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e},_e),Mn=rt(function(e,t,n){x.call(e,n)?e[n].push(t):e[n]=[t]});function Rn(e,t,n,r){var i=e?Mt(e):0;return Ft(i)||(i=(e=Fr(e)).length),n="number"!=typeof n||r&&zt(t,n,r)?0:n<0?L(i+n,0):n||0,"string"==typeof e||!cr(e)&&br(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<It(e,t,n)}var Bn=rt(function(e,t,n){e[n]=t}),Dn=sr(function(e,n,r){var i=-1,a="function"==typeof n,o=$t(n),s=Lt(e)?N(e.length):[];return we(e,function(e){var t=a?n:o&&null!=e?e[n]:pi;s[++i]=t?t.apply(e,r):Dt(e,n,r)}),s});function Ln(e,t,n){return(cr(e)?se:De)(e,t=Nt(t,n,3))}var jn=rt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var zn=Et(ue,we),$n=Et(function(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n},_e);function Vn(e,t,n){if(n?zt(e,t,n):null==t)return 0<(r=(e=Zt(e)).length)?e[Ve(0,r-1)]:pi;var r,i=-1,a=_r(e),o=(r=a.length)-1;for(t=j(t<0?0:+t||0,r);++i<t;){var s=Ve(i,o),l=a[s];a[s]=a[i],a[i]=l}return a.length=t,a}function Fn(e,t,n){var r=cr(e)?ce:He;return n&&zt(e,t,n)&&(t=pi),"function"==typeof t&&n===pi||(t=Nt(t,n,3)),r(e,t)}var qn=sr(function(e,t){if(null==e)return[];var n=t[2];return n&&zt(t[0],t[1],n)&&(t.length=1),Ye(e,Te(t),[])});var Hn=z||function(){return(new n).getTime()};function Xn(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new b(Ii);var r=e;e=t,t=r}return function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=pi),n}}var Yn=sr(function(e,t,n){var r=gi;if(n.length){var i=Xa(n,Yn.placeholder);r|=wi}return At(e,r,t,n,i)}),Un=sr(function(e,t){for(var n=-1,r=(t=t.length?Te(t):Rr(e)).length;++n<r;){var i=t[n];e[i]=At(e[i],gi,e)}return e}),Wn=sr(function(e,t,n){var r=gi|yi;if(n.length){var i=Xa(n,Wn.placeholder);r|=wi}return At(t,r,e,n,i)}),Gn=ct(bi),Zn=ct(xi);function Qn(r,i,e){var a,o,s,l,u,c,h,d=0,f=!1,p=!0;if("function"!=typeof r)throw new b(Ii);if(i=i<0?0:+i||0,!0===e){var v=!0;p=!1}else pr(e)&&(v=!!e.leading,f="maxWait"in e&&L(+e.maxWait||0,i),p="trailing"in e?!!e.trailing:p);function t(e,t){t&&_(t),o=c=h=pi,e&&(d=Hn(),s=r.apply(u,a),c||o||(a=u=pi))}function g(){var e=i-(Hn()-l);e<=0||i<e?t(h,o):c=T(g,e)}function y(){t(p,c)}function n(){if(a=arguments,l=Hn(),u=this,h=p&&(c||!v),!1===f)var e=v&&!c;else{o||v||(d=l);var t=f-(l-d),n=t<=0||f<t;n?(o&&(o=_(o)),d=l,s=r.apply(u,a)):o||(o=T(y,t))}return n&&c?c=_(c):c||i===f||(c=T(g,i)),e&&(n=!0,s=r.apply(u,a)),!n||c||o||(a=u=pi),s}return n.cancel=function(){c&&_(c),o&&_(o),d=0,o=c=h=pi},n}var Kn=sr(function(e,t){return be(e,1,t)}),Jn=sr(function(e,t,n){return be(e,t,n)}),er=gt(),tr=gt(!0);function nr(i,a){if("function"!=typeof i||a&&"function"!=typeof a)throw new b(Ii);var o=function(){var e=arguments,t=a?a.apply(this,e):e[0],n=o.cache;if(n.has(t))return n.get(t);var r=i.apply(this,e);return o.cache=n.set(t,r),r};return o.cache=new nr.Cache,o}var rr=sr(function(n,r){if(r=Te(r),"function"!=typeof n||!ae(r,Ra))throw new b(Ii);var i=r.length;return sr(function(e){for(var t=j(e.length,i);t--;)e[t]=r[t](e[t]);return n.apply(this,e)})});var ir=_t(wi),ar=_t(_i),or=sr(function(e,t){return At(e,Ci,pi,pi,pi,Te(t))});function sr(a,o){if("function"!=typeof a)throw new b(Ii);return o=L(o===pi?a.length-1:+o||0,0),function(){for(var e=arguments,t=-1,n=L(e.length-o,0),r=N(n);++t<n;)r[t]=e[o+t];switch(o){case 0:return a.call(this,r);case 1:return a.call(this,e[0],r);case 2:return a.call(this,e[0],e[1],r)}var i=N(o+1);for(t=-1;++t<o;)i[t]=e[t];return i[o]=r,a.apply(this,i)}}function lr(e,t){return t<e}function ur(e){return Ha(e)&&Lt(e)&&x.call(e,"callee")&&!C.call(e,"callee")}var cr=R||function(e){return Ha(e)&&Ft(e.length)&&w.call(e)==Bi};function hr(e,t,n,r){var i=(n="function"==typeof n?Je(n,r,3):pi)?n(e,t):pi;return i===pi?Re(e,t,n):!!i}function dr(e){return Ha(e)&&"string"==typeof e.message&&w.call(e)==ji}function fr(e){return pr(e)&&w.call(e)==zi}function pr(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function vr(e){return null!=e&&(fr(e)?f.test(c.call(e)):Ha(e)&&xa.test(e))}function gr(e){return"number"==typeof e||Ha(e)&&w.call(e)==$i}function yr(e){var t,n;return!(!Ha(e)||w.call(e)!=Vi||ur(e)||!(x.call(e,"constructor")||"function"!=typeof(t=e.constructor)||t instanceof t))&&(Ne(e,function(e,t){n=t}),n===pi||x.call(e,n))}function mr(e){return pr(e)&&w.call(e)==Fi}function br(e){return"string"==typeof e||Ha(e)&&w.call(e)==qi}function xr(e){return Ha(e)&&Ft(e.length)&&!!Aa[w.call(e)]}function wr(e,t){return e<t}function _r(e){var t=e?Mt(e):0;return Ft(t)?t?re(e):[]:Fr(e)}function Er(e){return ve(e,Dr(e))}var Cr=it(function a(o,s,l,u,c){if(!pr(o))return o;var h=Lt(s)&&(cr(s)||xr(s)),d=h?pi:Br(s);return ie(d||s,function(e,t){if(d&&(e=s[t=e]),Ha(e))u||(u=[]),c||(c=[]),function(e,t,n,r,i,a,o){for(var s=a.length,l=t[n];s--;)if(a[s]==l)return e[n]=o[s];var u=e[n],c=i?i(u,l,n,e,t):pi,h=c===pi;h&&(Lt(c=l)&&(cr(l)||xr(l))?c=cr(u)?u:Lt(u)?re(u):[]:yr(l)||ur(l)?c=ur(u)?Er(u):yr(u)?u:{}:h=!1),a.push(l),o.push(c),h?e[n]=r(c,l,i,a,o):(c==c?c!==u:u==u)&&(e[n]=c)}(o,s,t,a,l,u,c);else{var n=o[t],r=l?l(n,e,t,o,s):pi,i=r===pi;i&&(r=e),r===pi&&(!h||t in o)||!i&&(r==r?r===n:n!=n)||(o[t]=r)}}),o}),kr=it(function(e,t,n){return n?de(e,t,n):fe(e,t)});var Tr=ht(kr,function(e,t){return e===pi?t:e}),Pr=ht(Cr,function e(t,n){return t===pi?n:Cr(t,n,e)}),Ar=vt(Se),Nr=vt(Oe),Sr=mt(Pe),Or=mt(Ae),Ir=bt(Se),Mr=bt(Oe);function Rr(e){return Ie(e,Dr(e))}var Br=D?function(e){var t=null==e?pi:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Lt(e)?Gt(e):pr(e)?D(e):[]}:Gt;function Dr(e){if(null==e)return[];pr(e)||(e=y(e));var t=e.length;t=t&&Ft(t)&&(cr(e)||ur(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,a=N(t),o=0<t;++r<t;)a[r]=r+"";for(var s in e)o&&jt(s,t)||"constructor"==s&&(i||!x.call(e,s))||a.push(s);return a}var Lr=xt(!0),jr=xt(),zr=sr(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=se(Te(t),o),Ht(e,xe(Dr(e),t));var r=Je(t[0],t[1],3);return Xt(e,function(e,t,n){return!r(e,t,n)})});function $r(e){e=Qt(e);for(var t=-1,n=Br(e),r=n.length,i=N(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i}var Vr=sr(function(e,t){return null==e?{}:"function"==typeof t[0]?Xt(e,Je(t[0],t[1],3)):Ht(e,Te(t))});function Fr(e){return We(e,Br(e))}var qr=lt(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)});function Hr(e){return(e=Ba(e))&&e.replace(_a,za).replace(va,"")}var Xr=lt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});var Yr=wt(),Ur=wt(!0);function Wr(e,t){var n="";if(e=Ba(e),(t=+t)<1||!e||!B(t))return n;for(;t%2&&(n+=e),e+=e,t=M(t/2););return n}var Gr=lt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Zr=lt(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))});function Qr(e,t,n){var r=e;return(e=Ba(e))?(n?zt(r,t,n):null==t)?e.slice(Ya(e),Ua(e)+1):(t+="",e.slice(Da(e,t),La(e,t)+1)):e}function Kr(e,t,n){return n&&zt(e,t,n)&&(t=pi),(e=Ba(e)).match(t||ka)||[]}var Jr=sr(function(e,t){try{return e.apply(pi,t)}catch(e){return dr(e)?e:new r(e)}});function ei(e,t,n){return n&&zt(e,t,n)&&(t=pi),Ha(e)?ni(e):ge(e,t)}function ti(e){return e}function ni(e){return Le(ye(e,!0))}var ri=sr(function(t,n){return function(e){return Dt(e,t,n)}}),ii=sr(function(t,n){return function(e){return Dt(t,e,n)}});function ai(r,e,t){if(null==t){var n=pr(e),i=n?Br(e):pi,a=i&&i.length?Ie(e,i):pi;(a?a.length:n)||(a=!1,t=e,e=r,r=this)}a||(a=Ie(e,Br(e)));var o=!0,s=-1,l=fr(r),u=a.length;!1===t?o=!1:pr(t)&&"chain"in t&&(o=t.chain);for(;++s<u;){var c=a[s],h=e[c];r[c]=h,l&&(r.prototype[c]=function(n){return function(){var e=this.__chain__;if(o||e){var t=r(this.__wrapped__);return(t.__actions__=re(this.__actions__)).push({func:n,args:arguments,thisArg:r}),t.__chain__=e,t}return n.apply(r,le([this.value()],arguments))}}(h))}return r}function oi(){}function si(e){return $t(e)?ze(e):(n=(t=e)+"",t=Kt(t),function(e){return Me(e,t,n)});var t,n}var li,ui=Tt("ceil"),ci=Tt("floor"),hi=dt(lr,F),di=dt(wr,q),fi=Tt("round");return Z.prototype=Q.prototype,(K.prototype=me(Q.prototype)).constructor=K,(J.prototype=me(Q.prototype)).constructor=J,ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ee.prototype.get=function(e){return"__proto__"==e?pi:this.__data__[e]},ee.prototype.has=function(e){return"__proto__"!=e&&x.call(this.__data__,e)},ee.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},te.prototype.push=function(e){var t=this.data;"string"==typeof e||pr(e)?t.set.add(e):t.hash[e]=!0},nr.Cache=ee,Z.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new b(Ii);var n=e;e=t,t=n}return e=B(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}},Z.ary=function(e,t,n){return n&&zt(e,t,n)&&(t=pi),t=e&&null==t?e.length:L(+t||0,0),At(e,Ei,pi,pi,pi,pi,t)},Z.assign=kr,Z.at=kn,Z.before=Xn,Z.bind=Yn,Z.bindAll=Un,Z.bindKey=Wn,Z.callback=ei,Z.chain=_n,Z.chunk=function(e,t,n){t=(n?zt(e,t,n):null==t)?1:L(M(t)||1,1);for(var r=0,i=e?e.length:0,a=-1,o=N(O(i/t));r<i;)o[++a]=qe(e,r,r+=t);return o},Z.compact=function(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var a=e[t];a&&(i[++r]=a)}return i},Z.constant=function(e){return function(){return e}},Z.countBy=Tn,Z.create=function(e,t,n){var r=me(e);return n&&zt(e,t,n)&&(t=pi),t?fe(r,t):r},Z.curry=Gn,Z.curryRight=Zn,Z.debounce=Qn,Z.defaults=Tr,Z.defaultsDeep=Pr,Z.defer=Kn,Z.delay=Jn,Z.difference=en,Z.drop=tn,Z.dropRight=nn,Z.dropRightWhile=function(e,t,n){return e&&e.length?Ge(e,Nt(t,n,3),!0,!0):[]},Z.dropWhile=function(e,t,n){return e&&e.length?Ge(e,Nt(t,n,3),!0):[]},Z.fill=function(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&zt(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=null==n?0:+n||0)<0&&(n=i<-n?0:i+n),(r=r===pi||i<r?i:+r||0)<0&&(r+=i),i=r<n?0:r>>>0,n>>>=0;n<i;)e[n++]=t;return e}(e,t,n,r)):[]},Z.filter=An,Z.flatten=function(e,t,n){var r=e?e.length:0;return n&&zt(e,t,n)&&(t=!1),r?Te(e,t):[]},Z.flattenDeep=function(e){return e&&e.length?Te(e,!0):[]},Z.flow=er,Z.flowRight=tr,Z.forEach=On,Z.forEachRight=In,Z.forIn=Sr,Z.forInRight=Or,Z.forOwn=Ir,Z.forOwnRight=Mr,Z.functions=Rr,Z.groupBy=Mn,Z.indexBy=Bn,Z.initial=function(e){return nn(e,1)},Z.intersection=ln,Z.invert=function(e,t,n){n&&zt(e,t,n)&&(t=pi);for(var r=-1,i=Br(e),a=i.length,o={};++r<a;){var s=i[r],l=e[s];t?x.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o},Z.invoke=Dn,Z.keys=Br,Z.keysIn=Dr,Z.map=Ln,Z.mapKeys=Lr,Z.mapValues=jr,Z.matches=ni,Z.matchesProperty=function(e,t){return je(e,ye(t,!0))},Z.memoize=nr,Z.merge=Cr,Z.method=ri,Z.methodOf=ii,Z.mixin=ai,Z.modArgs=rr,Z.negate=function(e){if("function"!=typeof e)throw new b(Ii);return function(){return!e.apply(this,arguments)}},Z.omit=zr,Z.once=function(e){return Xn(2,e)},Z.pairs=$r,Z.partial=ir,Z.partialRight=ar,Z.partition=jn,Z.pick=Vr,Z.pluck=function(e,t){return Ln(e,si(t))},Z.property=si,Z.propertyOf=function(t){return function(e){return Me(t,Kt(e),e+"")}},Z.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=It(),i=e.length;++n<i;)for(var a=0,o=e[n];-1<(a=r(t,o,a));)P.call(t,a,1);return t},Z.pullAt=cn,Z.range=function(e,t,n){n&&zt(e,t,n)&&(t=n=pi),e=+e||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=L(O((t-e)/((n=null==n?1:+n||0)||1)),0),a=N(i);++r<i;)a[r]=e,e+=n;return a},Z.rearg=or,Z.reject=function(e,r,t){var n=cr(e)?oe:Ce;return r=Nt(r,t,3),n(e,function(e,t,n){return!r(e,t,n)})},Z.remove=function(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,a=[],o=e.length;for(t=Nt(t,n,3);++i<o;){var s=e[i];t(s,i,e)&&(r.push(s),a.push(i))}return $e(e,a),r},Z.rest=hn,Z.restParam=sr,Z.set=function(e,t,n){if(null==e)return e;for(var r=t+"",i=-1,a=(t=null!=e[r]||$t(t,e)?[r]:Kt(t)).length,o=a-1,s=e;null!=s&&++i<a;){var l=t[i];pr(s)&&(i==o?s[l]=n:null==s[l]&&(s[l]=jt(t[i+1])?[]:{})),s=s[l]}return e},Z.shuffle=function(e){return Vn(e,q)},Z.slice=function(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&zt(e,t,n)&&(t=0,n=r),qe(e,t,n)):[]},Z.sortBy=function(e,r,t){if(null==e)return[];t&&zt(e,r,t)&&(r=pi);var i=-1;return r=Nt(r,t,3),Xe(De(e,function(e,t,n){return{criteria:r(e,t,n),index:++i,value:e}}),ja)},Z.sortByAll=qn,Z.sortByOrder=function(e,t,n,r){return null==e?[]:(r&&zt(t,n,r)&&(n=pi),cr(t)||(t=null==t?[]:[t]),cr(n)||(n=null==n?[]:[n]),Ye(e,t,n))},Z.spread=function(t){if("function"!=typeof t)throw new b(Ii);return function(e){return t.apply(this,e)}},Z.take=function(e,t,n){return e&&e.length?((n?zt(e,t,n):null==t)&&(t=1),qe(e,0,t<0?0:t)):[]},Z.takeRight=function(e,t,n){var r=e?e.length:0;return r?((n?zt(e,t,n):null==t)&&(t=1),qe(e,(t=r-(+t||0))<0?0:t)):[]},Z.takeRightWhile=function(e,t,n){return e&&e.length?Ge(e,Nt(t,n,3),!1,!0):[]},Z.takeWhile=function(e,t,n){return e&&e.length?Ge(e,Nt(t,n,3)):[]},Z.tap=function(e,t,n){return t.call(n,e),e},Z.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new b(Ii);return!1===n?r=!1:pr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Qn(e,t,{leading:r,maxWait:+t,trailing:i})},Z.thru=En,Z.times=function(e,t,n){if((e=M(e))<1||!B(e))return[];var r=-1,i=N(j(e,H));for(t=Je(t,n,1);++r<e;)r<H?i[r]=t(r):t(r);return i},Z.toArray=_r,Z.toPlainObject=Er,Z.transform=function(e,r,i,t){var n=cr(e)||xr(e);if(r=Nt(r,t,4),null==i)if(n||pr(e)){var a=e.constructor;i=n?cr(e)?new a:[]:me(fr(a)?a.prototype:pi)}else i={};return(n?ie:Se)(e,function(e,t,n){return r(i,e,t,n)}),i},Z.union=pn,Z.uniq=vn,Z.unzip=gn,Z.unzipWith=yn,Z.values=Fr,Z.valuesIn=function(e){return We(e,Dr(e))},Z.where=function(e,t){return An(e,Le(t))},Z.without=mn,Z.wrap=function(e,t){return At(t=null==t?ti:t,wi,pi,[e],[])},Z.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Lt(n))var r=r?le(xe(r,n),xe(n,r)):n}return r?Ue(r):[]},Z.zip=bn,Z.zipObject=xn,Z.zipWith=wn,Z.backflow=tr,Z.collect=Ln,Z.compose=tr,Z.each=On,Z.eachRight=In,Z.extend=kr,Z.iteratee=ei,Z.methods=Rr,Z.object=xn,Z.select=An,Z.tail=hn,Z.unique=vn,ai(Z,Z),Z.add=function(e,t){return(+e||0)+(+t||0)},Z.attempt=Jr,Z.camelCase=qr,Z.capitalize=function(e){return(e=Ba(e))&&e.charAt(0).toUpperCase()+e.slice(1)},Z.ceil=ui,Z.clone=function(e,t,n,r){return t&&"boolean"!=typeof t&&zt(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?ye(e,t,Je(n,r,1)):ye(e,t)},Z.cloneDeep=function(e,t,n){return"function"==typeof t?ye(e,!0,Je(t,n,1)):ye(e,!0)},Z.deburr=Hr,Z.endsWith=function(e,t,n){t+="";var r=(e=Ba(e)).length;return n=n===pi?r:j(n<0?0:+n||0,r),0<=(n-=t.length)&&e.indexOf(t,n)==n},Z.escape=function(e){return(e=Ba(e))&&oa.test(e)?e.replace(ia,$a):e},Z.escapeRegExp=function(e){return(e=Ba(e))&&pa.test(e)?e.replace(fa,Va):e||"(?:)"},Z.every=Pn,Z.find=Nn,Z.findIndex=rn,Z.findKey=Ar,Z.findLast=Sn,Z.findLastIndex=an,Z.findLastKey=Nr,Z.findWhere=function(e,t){return Nn(e,Le(t))},Z.first=on,Z.floor=ci,Z.get=function(e,t,n){var r=null==e?pi:Me(e,Kt(t),t+"");return r===pi?n:r},Z.gt=lr,Z.gte=function(e,t){return t<=e},Z.has=function(e,t){if(null==e)return!1;var n=x.call(e,t);if(!n&&!$t(t)){if(null==(e=1==(t=Kt(t)).length?e:Me(e,qe(t,0,-1))))return!1;t=un(t),n=x.call(e,t)}return n||Ft(e.length)&&jt(t,e.length)&&(cr(e)||ur(e))},Z.identity=ti,Z.includes=Rn,Z.indexOf=sn,Z.inRange=function(e,t,n){return t=+t||0,n===pi?(n=t,t=0):n=+n||0,e>=j(t,n)&&e<L(t,n)},Z.isArguments=ur,Z.isArray=cr,Z.isBoolean=function(e){return!0===e||!1===e||Ha(e)&&w.call(e)==Di},Z.isDate=function(e){return Ha(e)&&w.call(e)==Li},Z.isElement=function(e){return!!e&&1===e.nodeType&&Ha(e)&&!yr(e)},Z.isEmpty=function(e){return null==e||(Lt(e)&&(cr(e)||br(e)||ur(e)||Ha(e)&&fr(e.splice))?!e.length:!Br(e).length)},Z.isEqual=hr,Z.isError=dr,Z.isFinite=function(e){return"number"==typeof e&&B(e)},Z.isFunction=fr,Z.isMatch=function(e,t,n,r){return n="function"==typeof n?Je(n,r,3):pi,Be(e,Rt(t),n)},Z.isNaN=function(e){return gr(e)&&e!=+e},Z.isNative=vr,Z.isNull=function(e){return null===e},Z.isNumber=gr,Z.isObject=pr,Z.isPlainObject=yr,Z.isRegExp=mr,Z.isString=br,Z.isTypedArray=xr,Z.isUndefined=function(e){return e===pi},Z.kebabCase=Xr,Z.last=un,Z.lastIndexOf=function(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?L(r+n,0):j(n||0,r-1))+1;else if(n){var a=e[i=Qe(e,t,!0)-1];return(t==t?t===a:a!=a)?i:-1}if(t!=t)return qa(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1},Z.lt=wr,Z.lte=function(e,t){return e<=t},Z.max=hi,Z.min=di,Z.noConflict=function(){return Sa._=d,this},Z.noop=oi,Z.now=Hn,Z.pad=function(e,t,n){t=+t;var r=(e=Ba(e)).length;if(t<=r||!B(t))return e;var i=(t-r)/2,a=M(i);return(n=kt("",O(i),n)).slice(0,a)+e+n},Z.padLeft=Yr,Z.padRight=Ur,Z.parseInt=function(e,t,n){return(n?zt(e,t,n):null==t)?t=0:t&&(t=+t),e=Qr(e),$(e,t||(ba.test(e)?16:10))},Z.random=function(e,t,n){n&&zt(e,t,n)&&(t=n=pi);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(i=!(t=1)),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=V();return j(e+a*(t-e+v("1e-"+((a+"").length-1))),t)}return Ve(e,t)},Z.reduce=zn,Z.reduceRight=$n,Z.repeat=Wr,Z.result=function(e,t,n){var r=null==e?pi:e[t];return r===pi&&(null==e||$t(t,e)||(r=null==(e=1==(t=Kt(t)).length?e:Me(e,qe(t,0,-1)))?pi:e[un(t)]),r=r===pi?n:r),fr(r)?r.call(e):r},Z.round=fi,Z.runInContext=e,Z.size=function(e){var t=e?Mt(e):0;return Ft(t)?t:Br(e).length},Z.snakeCase=Gr,Z.some=Fn,Z.sortedIndex=dn,Z.sortedLastIndex=fn,Z.startCase=Zr,Z.startsWith=function(e,t,n){return e=Ba(e),n=null==n?0:j(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n},Z.sum=function(e,t,n){return n&&zt(e,t,n)&&(t=pi),1==(t=Nt(t,n,3)).length?function(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}(cr(e)?e:Zt(e),t):(r=t,i=0,we(e,function(e,t,n){i+=+r(e,t,n)||0}),i);var r,i},Z.template=function(o,e,t){var n=Z.templateSettings;t&&zt(o,e,t)&&(e=t=pi),o=Ba(o);var s,l,r=de(fe({},(e=de(fe({},t||e),n,he)).imports),n.imports,he),i=Br(r),a=We(r,i),u=0,c=e.interpolate||Ea,h="__p += '",d=m((e.escape||Ea).source+"|"+c.source+"|"+(c===ua?ya:Ea).source+"|"+(e.evaluate||Ea).source+"|$","g"),f="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Pa+"]")+"\n";o.replace(d,function(e,t,n,r,i,a){return n||(n=r),h+=o.slice(u,a).replace(Ca,Fa),t&&(s=!0,h+="' +\n__e("+t+") +\n'"),i&&(l=!0,h+="';\n"+i+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=a+e.length,e}),h+="';\n";var p=e.variable;p||(h="with (obj) {\n"+h+"\n}\n"),h=(l?h.replace(ea,""):h).replace(ta,"$1").replace(na,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var v=Jr(function(){return g(i,f+"return "+h).apply(pi,a)});if(v.source=h,dr(v))throw v;return v},Z.trim=Qr,Z.trimLeft=function(e,t,n){var r=e;return(e=Ba(e))?(n?zt(r,t,n):null==t)?e.slice(Ya(e)):e.slice(Da(e,t+"")):e},Z.trimRight=function(e,t,n){var r=e;return(e=Ba(e))?(n?zt(r,t,n):null==t)?e.slice(0,Ua(e)+1):e.slice(0,La(e,t+"")+1):e},Z.trunc=function(e,t,n){n&&zt(e,t,n)&&(t=pi);var r=ki,i=Ti;if(null!=t)if(pr(t)){var a="separator"in t?t.separator:a;r="length"in t?+t.length||0:r,i="omission"in t?Ba(t.omission):i}else r=+t||0;if(r>=(e=Ba(e)).length)return e;var o=r-i.length;if(o<1)return i;var s=e.slice(0,o);if(null==a)return s+i;if(mr(a)){if(e.slice(o).search(a)){var l,u,c=e.slice(0,o);for(a.global||(a=m(a.source,(ma.exec(a)||"")+"g")),a.lastIndex=0;l=a.exec(c);)u=l.index;s=s.slice(0,null==u?o:u)}}else if(e.indexOf(a,o)!=o){var h=s.lastIndexOf(a);-1<h&&(s=s.slice(0,h))}return s+i},Z.unescape=function(e){return(e=Ba(e))&&aa.test(e)?e.replace(ra,Wa):e},Z.uniqueId=function(e){var t=++h;return Ba(e)+t},Z.words=Kr,Z.all=Pn,Z.any=Fn,Z.contains=Rn,Z.eq=hr,Z.detect=Nn,Z.foldl=zn,Z.foldr=$n,Z.head=on,Z.include=Rn,Z.inject=zn,ai(Z,(li={},Se(Z,function(e,t){Z.prototype[t]||(li[t]=e)}),li),!1),Z.sample=Vn,Z.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Vn(e,t)}):Vn(this.value())},Z.VERSION=vi,ie(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Z[e].placeholder=Z}),ie(["drop","take"],function(r,i){J.prototype[r]=function(e){var t=this.__filtered__;if(t&&!i)return new J(this);e=null==e?1:L(M(e)||0,0);var n=this.clone();return t?n.__takeCount__=j(n.__takeCount__,e):n.__views__.push({size:e,type:r+(n.__dir__<0?"Right":"")}),n},J.prototype[r+"Right"]=function(e){return this.reverse()[r](e).reverse()}}),ie(["filter","map","takeWhile"],function(e,t){var r=t+1,i=r!=Oi;J.prototype[e]=function(e,t){var n=this.clone();return n.__iteratees__.push({iteratee:Nt(e,t,1),type:r}),n.__filtered__=n.__filtered__||i,n}}),ie(["first","last"],function(e,t){var n="take"+(t?"Right":"");J.prototype[e]=function(){return this[n](1).value()[0]}}),ie(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");J.prototype[e]=function(){return this.__filtered__?new J(this):this[n](1)}}),ie(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Le:si;J.prototype[e]=function(e){return this[n](r(e))}}),J.prototype.compact=function(){return this.filter(ti)},J.prototype.reject=function(t,e){return t=Nt(t,e,1),this.filter(function(e){return!t(e)})},J.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(0<e||t<0)?new J(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==pi&&(n=(t=+t||0)<0?n.dropRight(-t):n.take(t-e)),n)},J.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},J.prototype.toArray=function(){return this.take(q)},Se(J.prototype,function(h,e){var d=/^(?:filter|map|reject)|While$/.test(e),f=/^(?:first|last)$/.test(e),p=Z[f?"take"+("last"==e?"Right":""):e];p&&(Z.prototype[e]=function(){var t=f?[1]:arguments,n=this.__chain__,e=this.__wrapped__,r=!!this.__actions__.length,i=e instanceof J,a=t[0],o=i||cr(e);o&&d&&"function"==typeof a&&1!=a.length&&(i=o=!1);var s=function(e){return f&&n?p(e,1)[0]:p.apply(pi,le([e],t))},l={func:En,args:[s],thisArg:pi},u=i&&!r;if(f&&!n)return u?((e=e.clone()).__actions__.push(l),h.call(e)):p.call(pi,this.value())[0];if(f||!o)return this.thru(s);e=u?e:new J(this);var c=h.apply(e,t);return c.__actions__.push(l),new K(c,n)})}),ie(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?u:s)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);Z.prototype[e]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Se(J.prototype,function(e,t){var n=Z[t];if(n){var r=n.name;(G[r]||(G[r]=[])).push({name:t,func:n})}}),G[Ct(pi,yi).name]=[{name:"wrapper",func:pi}],J.prototype.clone=function(){var e=new J(this.__wrapped__);return e.__actions__=re(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=re(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=re(this.__views__),e},J.prototype.reverse=function(){if(this.__filtered__){var e=new J(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},J.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=cr(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=j(t,e+o);break;case"takeRight":e=L(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,h=c.length,d=0,f=j(l,this.__takeCount__);if(!n||i<Ni||i==l&&f==l)return Ze(r&&n?e.reverse():e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var v=-1,g=e[u+=t];++v<h;){var y=c[v],m=y.iteratee,b=y.type,x=m(g);if(b==Oi)g=x;else if(!x){if(b==Si)continue e;break e}}p[d++]=g}return p},Z.prototype.chain=function(){return _n(this)},Z.prototype.commit=function(){return new K(this.value(),this.__chain__)},Z.prototype.concat=Cn,Z.prototype.plant=function(e){for(var t,n=this;n instanceof Q;){var r=Jt(n);t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Z.prototype.reverse=function(){var e=this.__wrapped__,t=function(e){return n&&n.__dir__<0?e:e.reverse()};if(e instanceof J){var n=e;return this.__actions__.length&&(n=new J(this)),(n=n.reverse()).__actions__.push({func:En,args:[t],thisArg:pi}),new K(n,this.__chain__)}return this.thru(t)},Z.prototype.toString=function(){return this.value()+""},Z.prototype.run=Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=function(){return Ze(this.__wrapped__,this.__actions__)},Z.prototype.collect=Z.prototype.map,Z.prototype.head=Z.prototype.first,Z.prototype.select=Z.prototype.filter,Z.prototype.tail=Z.prototype.rest,Z}();h&&d?g?(d.exports=Ga)._=Ga:h._=Ga:Sa._=Ga}).call(this)},A.f[62]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(63);t.MF=n.MF,t.configure=n.configure,t.Router=n.Router,t.EventAggregator=n.EventAggregator,t.Logger=n.Logger,t.register=n.register,t.raiseEvent=n.raiseEvent,t.FetchClient=n.FetchClient,t.urlqueryStringify=n.urlqueryStringify,t.urlQueryParse=n.urlQueryParse,t.Cache=n.Cache,t.connectBehavior=n.connectBehavior,t.Queue=n.Queue,t.template=n.template;var r=A.r(70);t.ContainerClasses=r.ContainerClasses,t.ContainerAttributes=r.ContainerAttributes,t.ContainerElements=r.ContainerElements,t.ContainerValueConverters=r.ContainerValueConverters;var i=A.r(68);t.inject=i.inject,t.transient=i.transient,t.customAttribute=i.customAttribute,t.customElement=i.customElement,t.bindable=i.bindable,t.computedFrom=i.computedFrom,t.valueConverter=i.valueConverter,t.behavior=i.behavior,t.observable=i.observable;var a=A.r(101);t.BindingEngine=a.BindingEngine;var o=A.r(98);t.AttributeController=o.AttributeController,t.ElementController=o.ElementController,t.InterpolateController=o.InterpolateController,t.ViewController=o.ViewController,t.ViewParser=o.ViewParser,t.addAttribute=o.addAttribute;var s=A.r(80);t.IElement=s.IElement,t.IAttribute=s.IAttribute,t.IControllerArray=s.IControllerArray,t.IControllerObject=s.IControllerObject,t.IRepeatCache=s.IRepeatCache,t.CONSTANTS=s.CONSTANTS,t.IFetchConfig=s.IFetchConfig,t.IRouterExpression=s.IRouterExpression,t.IRouteConfiguration=s.IRouteConfiguration,t.IRouteConfig=s.IRouteConfig,t.IRouteConfigInternal=s.IRouteConfigInternal,t.IRouteConfigurationInternal=s.IRouteConfigurationInternal},A.f[63]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(64);t.DomEventHandler=n.DomEventHandler;var r=A.r(65);t.EventAggregator=r.EventAggregator;var i=A.r(66);t.Queue=i.Queue;var a=A.r(67);t.Router=a.Router;var o=A.r(96);t.configure=o.configure;var s=A.r(97);t.MF=s.MF;var l=A.r(149);t.Cache=l.Cache;var u=A.r(150);t.Logger=u.Logger;var c=A.r(151);t.raiseEvent=c.raiseEvent;var h=A.r(152);t.register=h.register;var d=A.r(153);t.FetchClient=d.FetchClient;var f=A.r(154);t.urlqueryStringify=f.urlqueryStringify,t.urlQueryParse=f.urlQueryParse;var p=A.r(155);t.connectBehavior=p.connectBehavior;var v=A.r(156);t.template=v.template},A.f[64]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.count=0,this.id=[],this.events=[],this.target=[],this.call=[],this.eventHandlerBinded=this.eventHandler.bind(this)}return e.prototype.listenFor=function(e,t,n){return this.count++,-1===this.events.indexOf(e)&&this.addEventListener(e),this.id.push(this.count),this.events.push(e),this.target.push(t),this.call.push(n),this.count},e.prototype.removeListener=function(e){this.id.splice(e,1);var t=this.events.splice(e,1);this.target.splice(e,1),this.call.splice(e,1),-1===this.events.indexOf(t)&&this.removeEventListener(t)},e.prototype.addEventListener=function(e){document.body.addEventListener(e,this.eventHandlerBinded,!1)},e.prototype.removeEventListener=function(e){document.body.removeEventListener(e,this.eventHandlerBinded,!1)},e.prototype.eventHandler=function(e){var t=this.target.indexOf(e.target),n=this.events[t];-1!==this.events.indexOf(e.type)&&-1!==t&&-1!==t&&n===e.type&&this.call[t](e)},e}();t.DomEventHandler=n},A.f[65]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.channels={}}return e.prototype.publish=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.channels[e]))for(var r=0,i=this.channels[e].length;r<i;r++)this.channels[e][r].apply(this,t)},e.prototype.unsubscribe=function(e,t){if(Array.isArray(this.channels[e]))for(var n=0,r=this.channels[e].length;n<r;n++)this.channels[e][n]===t&&this.channels[e].splice(n,1)},e.prototype.subscribe=function(e,t){Array.isArray(this.channels[e])||(this.channels[e]=[]),this.channels[e].push(t)},e}();t.EventAggregator=n},A.f[66]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.count=0,this.tasks=[],this.topQueue=[],this.started=!1,this.index=-1}return e.prototype.finsished=function(){return 0===this.count},e.prototype.add=function(e){var t=this;this.count++,this.tasks.push(e),this.started||(this.started=!0,setTimeout(function(){t.flush()},0))},e.prototype.flush=function(){if(this.tasks.reverse(),this.tasks.length<600){this.topQueue=new Array(this.tasks.length);for(var e=0,t=this.tasks.length;e<t;e++)this.topQueue[e]=this.tasks.pop()}else{600!==this.topQueue.length&&(this.topQueue=new Array(600));for(e=0,t=600;e<t;e++)this.topQueue[e]=this.tasks.pop()}this.tasks.reverse(),(this.index=0)===this.topQueue.length&&(this.started=!1),this.runTasks()},e.prototype.reFlush=function(){var e=this;setTimeout(function(){e.flush()},0)},e.prototype.runTasks=function(){var t,n=this,e=this.topQueue[this.index];this.index++,t=function(){var e=n.topQueue[n.index];n.index++,e?(e.call(t),n.count--):n.index>n.topQueue.length-1?n.reFlush():n.started=!1},e&&(e.call(t),this.count--)},e}();t.Queue=n},A.f[67]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__awaiter||function(a,o,s,l){return new(s||(s=Promise))(function(e,t){function n(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((l=l.apply(a,o||[])).next())})},a=this&&this.__generator||function(n,r){var i,a,o,e,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=A.r(63),s=A.r(68),l=function(){function e(e){this.isNavigating=!0,this.config={},this.routes=[],this.routesData=[],this.curRoute=0,this.lastRouter="",this.loadedRouterElements=[],this.allRoutes=[],this.eventAggregator=e,this.urlHash=window.location.hash.replace("#",""),this.hashChangeBinded=this.hashChange.bind(this),this.init()}var t;return e.prototype.succeessRoute=function(e){e.success?this.oldUrlHash=this.urlHash:(this.urlHash=this.oldUrlHash,this.isNavigating=!1,this.skipNext=!0,window.location.hash=this.urlHash)},e.prototype.detached=function(){window.removeEventListener("hashchange",this.hashChangeBinded)},e.prototype.registerRouterElement=function(e){this.loadedRouterElements.push(e)},e.prototype.unregisterRouterElement=function(e){-1!==this.loadedRouterElements.indexOf(e)&&this.loadedRouterElements.splice(this.loadedRouterElements.indexOf(e),1)},e.prototype.hashChange=function(){var e=this;this.skipNext?this.skipNext=!1:(this.isNavigating=!0,requestAnimationFrame(function(){e.parseRouters(0)}))},e.prototype.routerViewInit=function(e){var t=this;this.isNavigating=!0,requestAnimationFrame(function(){t.routerViewUpdate(e)})},e.prototype.addRouter=function(e){console.warn("use addRouterConfig, this will be removed in the future"),this.parseAddedRouter(e)},e.prototype.addRouterConfig=function(e){this.parseAddedRouter(e)},e.prototype.setAuthHandler=function(e){this.authCaller=e},e.prototype.setUnknowRouteHandler=function(e){this.unknownCaller=e},e.prototype.getRoutesFor=function(e,t){return this.config[e]?t?this.config[e].routes:this.config[e].routes.filter(function(e){return e.isNav}):[]},e.prototype.getCurrentRouteTitle=function(e){return this.config[e]?this.config[e].routes[void 0!==this.curRoute?this.curRoute:0].title:void 0},e.prototype.getCurrentRoute=function(e){return this.config[e]?this.config[e].routes[void 0!==this.curRoute?this.curRoute:0].route:void 0},e.prototype.getCurrentRouteIndex=function(e){return this.config[e]?this.curRoute:0},e.prototype.getCurrentModule=function(e){return this.config[e]?this.config[e].routes[void 0!==this.curRoute?this.curRoute:0].modulePath:void 0},e.prototype.getCurrentClass=function(e){return this.config[e]?this.config[e].routes[void 0!==this.curRoute?this.curRoute:0].moduleClass:void 0},e.prototype.loadCurrentModule=function(t){return i(this,void 0,Promise,function(){return a(this,function(e){switch(e.label){case 0:return this.lastRouter!==t&&(this.curRoute=0),[4,this.config[t]];case 1:return[2,e.sent()?this.config[t].routes[void 0!==this.curRoute?this.curRoute:0].load():void 0]}})})},e.prototype.getParams=function(r,e){var t=e.split("/").map(function(e){return e.replace(":","")}).filter(function(e){return!!e}),i={};return r&&t.forEach(function(e,t){var n=r.urlParamsIndexes.indexOf(t);-1!==n&&(i[r.urlParams[n]]=e)}),i},e.prototype.navigateTo=function(e,t){void 0===t&&(t={}),location.hash=this.setParams(e,t)},e.prototype.setParams=function(e,n){void 0===n&&(n={});var t=new RegExp(":([a-zA-Z0-9_]*)","g"),r=e.match(t);r=r?r.map(function(e){return e.replace(":","")}):[];var i=[],a=e.split("/").map(function(e){return e.replace(":","")}).filter(function(e){return!!e}),o="";return a.forEach(function(e,t){void 0!==n[e]?(o+=n[e],i.push(t)):o=o+""+e,a.length-1!==t&&(o+="/")}),o},e.prototype.init=function(){window.addEventListener("hashchange",this.hashChangeBinded)},e.prototype.parseAddedRouter=function(r){var i=this;this.config[r.name]&&console.error("router already exist, override not allowed",r.name),this.config[r.name]=r,this.config[r.name].childrenRouters=[],this.config[r.name].childrenMainRoutes=[],this.config[r.name].childrenMainRoutesRegex=[],this.config[r.name].routes.forEach(function(e,t){e.belongsTo=r.name,e.index=t,e.parent=r.parent,e.parent&&!i.config[r.parent]&&i.config[r.parent].routes&&0<i.config[r.parent].routes.length&&console.error("parent route does not exist",r.parent,r.parentRoute);var n=i.getRouteUrl(r,e.route);e.expression=i.getExpression(n),e.href="#"+n.replace("*",""),e.cleanUrl=n.replace("*",""),!1!==e.isNav&&!0!==e.isNav||console.warn('use "nav", "isNav" will be removed in the future'),e.isNav=!e.notNav,!1!==e.nav&&!0!==e.nav||(e.isNav=e.nav),i.routes.push(n),i.routesData.push(e)}),r.parent&&(this.config[r.parent]?(this.config[r.parent].childrenRouters.push(r.name),this.config[r.parent].childrenMainRoutes.push(r.parentRoute),this.config[r.parent].childrenMainRoutesRegex.push(this.getExpression(r.parentRoute).fullUrlRegexWeakEndString)):console.error("parent router missing",r.parent))},e.prototype.getExpression=function(e){var t=new RegExp(":([a-zA-Z0-9_-]*)","g"),n=e.match(t);n=n?n.map(function(e){return e.replace(":","")}):[];var r=[],i=e.split("/").map(function(e){return e.replace(":","")}).filter(function(e){return!!e}),a="",o=!1;return i.forEach(function(e,t){i.length-1===t&&e&&0<e.length&&"*"===e.charAt(e.length-1)&&(o=!0,e=e.replace("*",""),i[t]=e),-1!==n.indexOf(e)?(a+="([a-zA-Z0-9_-]*)",r.push(t)):a=a+"("+e+")",i.length-1!==t&&(a+="/")}),this.allRoutes.push(o?a+"($|/)":a+"($|/$)"),{fullUrlRegexString:o?a+"($|/)":a+"($|/$)",fullUrlRegexWeakEndString:a,urls:i,urlParamsIndexes:r,urlParams:n}},e.prototype.getRouteUrl=function(e,t){var n="";e.parent?n=this.getRouteUrl(this.config[e.parent],e.parentRoute)+"/"+t:n=t;return n},e.prototype.parseRouters=function(e){this.isNavigating=!0,this.urlHash=window.location.hash.replace("#","");var t=this.getRoutesFor(this.loadedRouterElements[e].name,!0)[this.loadedRouterElements[e].routeIndex];if(0===this.urlHash.search(t.expression.fullUrlRegexWeakEndString)){var n=this.config[this.loadedRouterElements[e].name];if(n&&0<n.childrenMainRoutes.length){var r=!1;n.childrenMainRoutesRegex.forEach(function(e){0===t.route.search(e)&&(r=!0)});var i=this.getParams(t.expression,this.urlHash),a=this.loadedRouterElements[e].currentParams,o=!0;for(var s in i)i[s]!==a[s]&&(o=!1);r&&o?this.parseRouters(e+1):this.routerViewInit(this.loadedRouterElements[e].name)}else this.routerViewInit(this.loadedRouterElements[e].name)}else this.routerViewInit(this.loadedRouterElements[e].name)},e.prototype.routerViewUpdate=function(e){var t=this;if(this.isNavigating=!0,this.urlHash=window.location.hash.replace("#",""),"#"!==window.location.hash&&""!==window.location.hash){var n,r,i,a=!1,o=!1;this.allRoutes.forEach(function(e){0===t.urlHash.search(e)&&(o=!0)}),this.getRoutesFor(e,!0).forEach(function(e){0===t.urlHash.search(o?e.expression.fullUrlRegexWeakEndString:e.expression.fullUrlRegexString)&&(t.curRoute=e.index,n=e.belongsTo,r=e.expression,i=e.auth,a=!0)}),this.lastRouter=a?n:(this.curRoute=0,e);var s=void 0;if(!a&&this.unknownCaller&&(s=this.unknownCaller.call(this.urlHash)),void 0!==s)window.location.hash=s;else{var l=!0;this.authCaller&&i&&(l=this.authCaller.call(this.urlHash)),l&&this.eventAggregator.publish("mf-router"+this.lastRouter,this.getParams(r,this.urlHash))}}""===window.location.hash&&(this.curRoute=0,this.lastRouter=e,this.eventAggregator.publish("mf-router"+this.lastRouter))},e=n([s.inject(o.EventAggregator),r("design:paramtypes",["function"==typeof(t=void 0!==o.EventAggregator&&o.EventAggregator)?t:Object])],e)}();t.Router=l},A.f[68]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(69);t.inject=n.inject;var r=A.r(76);t.transient=r.transient;var i=A.r(77);t.customAttribute=i.customAttribute;var a=A.r(78);t.customElement=a.customElement;var o=A.r(79);t.bindable=o.bindable;var s=A.r(92);t.observable=s.observable;var l=A.r(93);t.computedFrom=l.computedFrom;var u=A.r(94);t.valueConverter=u.valueConverter;var c=A.r(95);t.behavior=c.behavior},A.f[69]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(70);t.inject=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){n.ContainerClasses.setDep(e,t)}}},A.f[70]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(71);t.ContainerClasses=n.ContainerClasses;var r=A.r(72);t.ContainerAttributes=r.ContainerAttributes;var i=A.r(73);t.ContainerElements=i.ContainerElements;var a=A.r(74);t.ContainerValueConverters=a.ContainerValueConverters;var o=A.r(75);t.ContainerBehavior=o.ContainerBehavior},A.f[71]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=new Map,n=new Map,i=new Map,a=function(){function e(){}return e.get=function(e){return this.getInstance(e)},e.getInstance=function(e){return i.has(e)?this.create(e):(n.get(e)||n.set(e,this.create(e)),n.get(e))},e.create=function(e){var n=this,t=r.get(e)||[];return t=t.map(function(t){try{return n.get(t)}catch(e){return t}}),new(e.bind.apply(e,[void 0].concat(t)))},e.setDep=function(e,t){r.set(e,t)},e.regTransient=function(e){i.has(e)||i.set(e,null)},e}();t.ContainerClasses=a},A.f[72]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=new Map,r=function(){function e(){}return e.regAttribute=function(e,t){n.has(t)||n.set(t,e),n.has(t)||n.set(t,e)},e.findAttribute=function(e){return n.has(e)?n.get(e):null},e}();t.ContainerAttributes=r},A.f[73]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=new Map,r=function(){function e(){}return e.regElement=function(e,t){n.has(t)||n.set(t,e)},e.findElement=function(e){return n.has(e)?n.get(e):null},e}();t.ContainerElements=r},A.f[74]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=new Map,r=function(){function e(){}return e.regConverter=function(e,t){n.has(t)||n.set(t,e)},e.findConverter=function(e){return n.has(e)?n.get(e):null},e}();t.ContainerValueConverters=r},A.f[75]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=new Map,r=function(){function e(){}return e.regBehavior=function(e,t){n.has(t)||n.set(t,e)},e.findBehavior=function(e){return n.has(e)?n.get(e):null},e}();t.ContainerBehavior=r},A.f[76]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(70);t.transient=function(e){n.ContainerClasses.regTransient(e)}},A.f[77]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(70),r=A.r(70);t.customAttribute=function(t){return function(e){n.ContainerClasses.regTransient(e),r.ContainerAttributes.regAttribute(e,t)}}},A.f[78]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(70),r=A.r(70);t.customElement=function(t){return function(e){n.ContainerClasses.regTransient(e),r.ContainerElements.regElement(e,t)}}},A.f[79]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=A.r(80);t.bindable=function(r){var i;return i=r,function(e,t){e[a.CONSTANTS.META_BINDABLE]||(e[a.CONSTANTS.META_BINDABLE]={});var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase();r&&(r.attribute||(r.attribute=n)),e[a.CONSTANTS.META_BINDABLE][t]||(e[a.CONSTANTS.META_BINDABLE][t]={key:t,options:i||{attribute:n}})}}},A.f[80]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(81);t.IElement=n.IElement;var r=A.r(82);t.IAttribute=r.IAttribute;var i=A.r(83);t.IControllerArray=i.IControllerArray;var a=A.r(84);t.IControllerObject=a.IControllerObject;var o=A.r(85);t.IRepeatCache=o.IRepeatCache;var s=A.r(86);t.CONSTANTS=s.CONSTANTS;var l=A.r(87);t.IListener=l.IListener;var u=A.r(88);t.ITokens=u.ITokens;var c=A.r(89);t.INode=c.INode;var h=A.r(90);t.IRouterExpression=h.IRouterExpression,t.IRouteConfiguration=h.IRouteConfiguration,t.IRouteConfig=h.IRouteConfig,t.IRouteConfigInternal=h.IRouteConfigInternal,t.IRouteConfigurationInternal=h.IRouteConfigurationInternal;var d=A.r(91);t.IFetchConfig=d.IFetchConfig},A.f[81]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},A.f[82]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},A.f[83]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},A.f[84]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},A.f[85]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},A.f[86]=function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.CONSTANTS||(t.CONSTANTS={}))[n.META_BINDABLE="__meta_bindable"]="META_BINDABLE",n[n.META_COMPUTEDFROM="__meta_computed_from"]="META_COMPUTEDFROM",n[n.ELEMENT_DETACH="__MF__detach"]="ELEMENT_DETACH",n[n.ELEMENT_BINDED="__MF__binded"]="ELEMENT_BINDED",n[n.ELEMENT_ADD="__MF__add"]="ELEMENT_ADD"},A.f[87]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},A.f[88]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},A.f[89]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},A.f[90]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},A.f[91]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},A.f[92]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(80);t.observable=function(n){var r;return r=n,function(e,t){e[i.CONSTANTS.META_BINDABLE]||(e[i.CONSTANTS.META_BINDABLE]={}),n&&(n.attribute||(n.attribute=null)),e[i.CONSTANTS.META_BINDABLE][t]||(e[i.CONSTANTS.META_BINDABLE][t]={key:t,observableOnly:!0,options:r||{attribute:null}})}}},A.f[93]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=A.r(80);t.computedFrom=function(){for(var n,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n=e,function(e,t){e[r.CONSTANTS.META_COMPUTEDFROM]||(e[r.CONSTANTS.META_COMPUTEDFROM]={}),e[r.CONSTANTS.META_COMPUTEDFROM][t]||(e[r.CONSTANTS.META_COMPUTEDFROM][t]={key:t,attributes:n||{attributes:[]}})}}},A.f[94]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(70),r=A.r(70);t.valueConverter=function(t){return function(e){n.ContainerClasses.regTransient(e),r.ContainerValueConverters.regConverter(e,t)}}},A.f[95]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(70),r=A.r(70);t.behavior=function(t){return function(e){n.ContainerClasses.regTransient(e),r.ContainerBehavior.regBehavior(e,t)}}},A.f[96]=function(e,t){var n=this&&this.__awaiter||function(a,o,s,l){return new(s||(s=Promise))(function(e,t){function n(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((l=l.apply(a,o||[])).next())})},i=this&&this.__generator||function(n,r){var i,a,o,e,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=A.r(70),o=A.r(97);t.configure=function(r){return n(this,void 0,Promise,function(){var t,n;return i(this,function(e){switch(e.label){case 0:return t=a.ContainerClasses.get(o.MF),n=a.ContainerClasses.get(r),null!==document.body?[3,1]:[2,new Promise(function(e){document.addEventListener("DOMContentLoaded",function(){e(t.setRootApp(n))})})];case 1:return[4,t.setRootApp(n)];case 2:return[2,e.sent()]}})})}},A.f[97]=function(e,t){var n=this&&this.__awaiter||function(a,o,s,l){return new(s||(s=Promise))(function(e,t){function n(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((l=l.apply(a,o||[])).next())})},r=this&&this.__generator||function(n,r){var i,a,o,e,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(98),a=A.r(132),o=A.r(137),s=A.r(139),l=function(){function e(){this.count=0,window.Reflect||(window.Reflect=Object),this.register(o.MfRouter,s.ValueAttribute,s.IfAttribute,s.DelgateEventsAttribute,s.RepeatAttribute,s.MiscAttributes,s.CssAttribute,s.ModelAttribute,s.TriggerEventsAttribute,a.SignalBehavior,a.ThrottleBehavior,a.DebounceBehavior,a.TriggerBehavior)}return e.prototype.setRootApp=function(e){return this.app=e,this},e.prototype.start=function(t){return n(this,void 0,void 0,function(){return r(this,function(e){return this.node=t,i.ViewParser.parseAndCreateElement(this.app,this.node,this),[2]})})},e.prototype.register=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},e}();t.MF=l},A.f[98]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(99);t.AttributeController=n.AttributeController;var r=A.r(128);t.ElementController=r.ElementController;var i=A.r(130);t.InterpolateController=i.InterpolateController;var a=A.r(100);t.ViewController=a.ViewController;var o=A.r(129);t.ViewParser=o.ViewParser;var s=A.r(131);t.addAttribute=s.addAttribute},A.f[99]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=A.r(100),o=A.r(70),n=A.r(101),s=A.r(63),r=function(){function e(e,t,n,r,i){this.parent=e,this.element=t,this.attribute=n,this.logger=s.Logger.getLogger(n.name,"attribute"),this.class=o.ContainerClasses.get(r),this.element=t,"if.bind"===n.name||"repeat.for"===n.name?t&&(t.$view=new a.ViewController(t),t.$view.addAttribute(this)):i.addAttribute(this)}return e.prototype.init=function(){this.create()},e.prototype.create=function(){this.logger.log("created",this.attribute.name,this.attribute.value),this.class.$element=this.element,this.class.$parent=this.parent,this.class.$attribute=this.attribute,n.BindingEngine.subscribeClassMetaBinding(this.class),this.class.created&&this.class.created()},e.prototype.attached=function(){this.logger.log("attached",this.attribute.name,this.attribute.value),this.class.attached&&this.class.attached()},e.prototype.detached=function(){this.logger.log("detached",this.attribute.name,this.attribute.value),this.class.detached&&this.class.detached(),n.BindingEngine.unSubscribeClassMetaBinding(this.class),this.parent=null,this.element=null,this.attribute=null,this.class.$element=null,this.class.$parent=null,this.class.$attribute=null,this.class=null},e}();t.AttributeController=r},A.f[100]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.count=0,this.element=e}return e.prototype.addElement=function(e){this.count++,this.items||(this.items={}),this.items["e"+this.count]=e},e.prototype.addAttribute=function(e){this.count++,this.items||(this.items={}),this.items["a"+this.count]=e},e.prototype.addInterpolate=function(e){this.count++,this.items||(this.items={}),this.items["i"+this.count]=e},e.prototype.getElement=function(){return this.element},e.prototype.clearView=function(){for(var e in this.items)this.items[e].detached&&this.items[e].detached();this.items=null,this.element=null},e}();t.ViewController=n},A.f[101]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(102);t.BindingEngine=n.BindingEngine},A.f[102]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=A.r(103),o=A.r(105),s=A.r(108),n=A.r(113),r=A.r(116),i=A.r(117),l=A.r(119),u=A.r(120),c=A.r(121),h=A.r(125),d=A.r(126),f=A.r(127),p=A.r(63),v=function(){function e(){}return e.tokenizeParseAndTraverseAST=function(e,t){var n;if(p.Cache.expressionMap.has(e)){n=p.Cache.expressionMap.get(e).ast}else{var r=o.tokenize(e);n=s.generateAST(r)}return a.traverseAST(n,t)},e.printTokensAndAST=function(e,t){var n=o.tokenize(e),r=s.generateAST(n),i=a.traverseAST(r,t);console.log("tokens:",n),console.log("ast:",r),console.log("result:",i)},e.tokenize=o.tokenize,e.traverseAST=a.traverseAST,e.generateAST=s.generateAST,e.valueConvert=a.valueConvert,e.getBehavior=a.getBehavior,e.createBindingExpression=n.createBindingExpression,e.setValue=r.setValue,e.subscribeClassProperty=i.subscribeClassProperty,e.unSubscribeClassProperty=l.unSubscribeClassProperty,e.evaluateExpression=u.evaluateExpression,e.subscribeClassArray=c.subscribeClassArray,e.unSubscribeClassArray=h.unSubscribeClassArray,e.unSubscribeClassMetaBinding=d.unSubscribeClassMetaBinding,e.subscribeClassMetaBinding=f.subscribeClassMetaBinding,e}();t.BindingEngine=v},A.f[103]=function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0});var u,l=A.r(70),o=A.r(104),h=((n=function(){}).operator=function(e,t,n){switch(e){case"+":return t+n;case"-":return n?t-n:-t;case"*":return t*n;case"!":return!t;case"%":return t%n;case">":return n<t;case"<":return t<n;case">=":return n<=t;case"&&":return t&&n;case"||":return t||n;case"<=":return t<=n;case"+=":return t+n;case"-=":return t-n;case"===":return t===n;case"!==":return t!==n;case"/":return t/n;case"^":return t^n}},n.checkArity=function(e,t,n){var r;return e&&"literal"===e.arity&&(r=e.value),e&&"variable"===e.arity&&(r=h.variable(e,t,n)),e&&"binary"===e.arity&&(r=h.binary(e,t,n)),e&&"unary"===e.arity&&(r=h.binary(e,t,n)),e&&"ternary"===e.arity&&(r=h.ternary(e,t,n)),e&&"valueConverter"===e.arity&&(r=h.valueConverter(e,t,n)),r},n.variable=function(e,t,n){var r;try{switch(!0){case"null"===e.value&&"variable"===e.arity:return null;case"undefined"===e.value&&"variable"===e.arity:return;case"$this"===e.value&&"variable"===e.arity&&e.root:return t;case"$event"===e.value&&"variable"===e.arity&&e.root:return t.$event;case"variable"===e.arity&&"string"==typeof e.value&&"TRUE"===e.value.toUpperCase():return!0;case"variable"===e.arity&&"string"==typeof e.value&&"FALSE"===e.value.toUpperCase():return!1}var i=t;t.isMultiContext&&(i=t.ctx);var a=!1;e.value&&"string"===e.value[0]&&"$"!==e.value[0][0]&&(a=!0),r=(a||e.root&&(i=o.contextOfObject(e.value,i)),i[e.value])}catch(e){}return r},n.binary=function(t,n,r){var e,i,a;switch(!0){case!0===t.assignment:try{var o=n.isMultiContext?n.ctx:n;"binary"===t.arity&&("+="===t.value||"-="===t.value?"variable"===t.first.arity?o[t.first.value]=h.operator(t.value,o[t.first.value],h.checkArity(t.second,n,r)):(o[t.first.first.value]||(o[t.first.first.value]={}),o[t.first.first.value][t.first.second.value]=h.operator(t.value,o[t.first.first.value][t.first.second.value],h.checkArity(t.second,n,r))):"variable"===t.first.arity?o[t.first.value]=h.checkArity(t.second,n,r):(o[t.first.first.value]||(o[t.first.first.value]={}),o[t.first.first.value][t.first.second.value]=h.checkArity(t.second,n,r)))}catch(e){console.error("only simple assigments are supported, sorry",t)}break;case"{"===t.value:var s={};t.first.forEach(function(e){s[e.key]=h.checkArity(e,n,r)}),i=s;break;case t.isObject:a=h.checkArity(t.first,n,r),t.contextReset?e=a[e=h.checkArity(t.second,r,r)]:(e=h.checkArity(t.second,a,r),a&&t.first&&"variable"===t.first.arity&&t.second&&"literal"===t.second.arity&&(e=a[e]),a&&t.first&&"binary"===t.first.arity&&t.second&&"literal"===t.second.arity&&(e=a[e])),i=e;break;case!t.isFunction:a=h.checkArity(t.first,n,r),e=h.checkArity(t.second,n,r),i=h.operator(t.value,a,e);break;default:var l=[];t.second.forEach(function(e){l.push(h.evaluate(e,r))});var u=n;n.isMultiContext&&(u=n.ctx);var c=u[t.first.value];if(u&&u.overrideContext)for(;u.overrideContext;)u.overrideContext[t.first.value]&&(c=u.overrideContext[t.first.value]),u=u.overrideContext;c?i=c.apply(u,l):console.warn("method does not exist:"+t.first.value)}return i},n.ternary=function(e,t,n){var r=h.checkArity(e.first,t,n),i=h.checkArity(e.second,t,n),a=h.checkArity(e.third,t,n);return r?i:a},n.valueConverter=function(t,n,r){var e,i=[];t.args.forEach(function(e){i.push(h.checkArity(e,n,r))});var a,o=l.ContainerValueConverters.findConverter(t.value);if(o){a=l.ContainerClasses.get(o);try{e=u?a.fromView.apply(n,i):a.toView.apply(n,i)}catch(e){console.warn("value converter failed:"+t.value)}}else console.warn("value converter does not exist:"+t.value);return e},n.evaluate=function(e,t){u=!1;for(var n=Array.isArray(e)?e:[e],r=[],i=0;i<n.length;i++){var a=void 0;switch(!0){case"literal"===n[i].arity:a=n[i].value;break;case"unary"===n[i].arity:case"binary"===n[i].arity:a=h.binary(n[i],t,t);break;case"variable"===n[i].arity:a=h.variable(n[i],t,t);break;case"ternary"===n[i].arity:a=h.ternary(n[i],t,t);break;case"behavior"===n[i].arity:break;case"valueConverter"===n[i].arity:a=h.valueConverter(n[i],t,t);break;default:console.warn("unknown expression")}r.push(a)}return 1<r.length?r.join(""):r[0]},n.traverseOnlyValueConverter=function(e,t,n,r){var i,a=[];t.args.forEach(function(e,t){0<t&&a.push(h.checkArity(e,n,r))}),a=[e].concat(a);var o,s=l.ContainerValueConverters.findConverter(t.value);if(s){o=l.ContainerClasses.get(s);try{i=u?o.fromView.apply(n,a):o.toView.apply(n,a)}catch(e){console.warn("value converter failed:"+t.value)}}else console.warn("value converter does not exist:"+t.value);return i},n.evaluateConverterFromViewOnly=function(e,t,n,r){for(var i=Array.isArray(e)?e:[e],a=[],o=!(u=!0),s=0;s<i.length;s++){var l=void 0;switch(!0){case"valueConverter"===i[s].arity:o=!0,l=h.traverseOnlyValueConverter(t,i[s],n,r)}l&&a.push(l)}return 1<a.length?a.join(""):o?a[0]:t},n.getBehaviorFunctions=function(e){for(var t=Array.isArray(e)?e:[e],n=[],r=0;r<t.length;r++){var i=void 0;switch(!0){case"behavior"===t[r].arity:i={name:t[r].value,args:t[r].args.map(function(e){return e.value})}}i&&n.push(i)}return n},n);t.traverseAST=function(e,t){return h.evaluate(e,t)},t.valueConvert=function(e,t,n){return h.evaluateConverterFromViewOnly(e,n,t,t)},t.getBehavior=function(e){return h.getBehaviorFunctions(e)}},A.f[104]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=A.r(63);t.contextOfObject=function(e,t){var n,r=a.Cache.keyMaps.getCreate(e)[0],i=t;if(t.isMultiContext&&(i=t.ctx),"string"==typeof r&&"$"!==r[0]&&i&&i.overrideContext)for(;i.overrideContext;)r in(i=i.overrideContext)&&(n=i);return n||t}},A.f[105]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(106);t.tokenize=function(e){return new n.Tokenizer(e).start()}},A.f[106]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=new(A.r(107).CharCodes),n=function(){function e(e){this.baseTokens=[],this.tokens=[],this.chars=[],this.curChar=null,this.curCharNo=0,this.curtype=null,this.expressionOriginal=e,this.isMix=-1!==e.indexOf("${"),this.isMix=!!this.isMix||-1!==e.indexOf("@{"),this.isOutsideExpression=this.isMix,this.expression=this.setStrings(this.expressionOriginal),this.expression=this.removeWhitespaceExpressions(this.expression),this.curChar=this.expression.charCodeAt(this.curCharNo),this.expressionLength=this.expression.length}return e.prototype.start=function(){return this.generateBaseTokens(),this.combineBaseTokens(),this.tokens},e.prototype.setStrings=function(e){var t=this.isOutsideExpression,n="";t&&(n='"');for(var r=0,i=0;i<e.length;i++)switch(!0){case t&&e.charCodeAt(i)==="$".charCodeAt(0)&&e.charCodeAt(i+1)==="{".charCodeAt(0):r++,n=n+'"'+e[i],t=!1;break;case!t&&e.charCodeAt(i)==="$".charCodeAt(0)&&e.charCodeAt(i+1)==="{".charCodeAt(0):r++,n+=e[i];break;case t&&e.charCodeAt(i)==="@".charCodeAt(0)&&e.charCodeAt(i+1)==="{".charCodeAt(0):r++,n=n+'"'+e[i],t=!1;break;case!t&&e.charCodeAt(i)==="@".charCodeAt(0)&&e.charCodeAt(i+1)==="{".charCodeAt(0):r++,n+=e[i];break;case!t&&e.charCodeAt(i)==="}".charCodeAt(0):--r?n+=e[i]:(n=n+e[i]+'"',t=!0);break;default:n+=e[i]}return t&&(n+='"'),n},e.prototype.removeWhitespaceExpressions=function(e){for(var t,n=!1,r="",i=0;i<e.length;i++)switch(!0){case!n&&a.STRING_START_END.has(e.charCodeAt(i)):r+=e[i],t=e.charCodeAt(i),n=!0;break;case n&&t===e.charCodeAt(i):r+=e[i],n=!1;break;case!n&&a.WHITESPACE.has(e.charCodeAt(i)):break;default:r+=e[i]}return r},e.prototype.parsedAllChars=function(){return!(this.curCharNo<this.expressionLength)},e.prototype.advanceChar=function(){this.curCharNo++,this.curChar=this.expression.charCodeAt(this.curCharNo)},e.prototype.addToken=function(){var e=this.chars.map(function(e){return String.fromCharCode(e)}).join("");this.baseTokens.push({type:this.curtype,value:"number"===this.curtype?parseFloat(e):e}),this.chars=[],this.curtype=null},e.prototype.generateBaseTokens=function(){for(var e=this.parsedAllChars();!e;){switch(!0){case null===this.curtype&&a.NUMBER.has(this.curChar):for(this.curtype="number";a.NUMBER.has(this.curChar)&&!this.parsedAllChars();)this.chars.push(this.curChar),this.advanceChar();this.addToken();break;case null===this.curtype&&a.STRING_START_END.has(this.curChar):this.curtype="string";var t=this.curChar;for(this.advanceChar();t!==this.curChar&&!this.parsedAllChars();)this.chars.push(this.curChar),this.advanceChar();this.advanceChar(),this.addToken();break;case null===this.curtype&&a.OPERATOR.has(this.curChar):this.curtype="operator",this.chars.push(this.curChar),this.advanceChar(),this.addToken();break;default:for(this.curtype="variable";!a.OPERATOR.has(this.curChar)&&!this.parsedAllChars();)this.chars.push(this.curChar),this.advanceChar();this.addToken()}e=this.parsedAllChars()}},e.prototype.advanceNextBaseToken=function(){this.baseTokenNo++,this.token=this.baseTokens[this.baseTokenNo]},e.prototype.combineBaseTokens=function(){for(this.tokens=[],this.baseTokenNo=0;this.baseTokenNo<this.baseTokens.length;)switch(this.token=this.baseTokens[this.baseTokenNo],!0){case"variable"===this.token.type:var e=this.tokens[this.tokens.length-1];(!e||e&&"."!==e.value&&"["!==e.value)&&(this.token.root=!0),this.tokens.push(this.token),this.advanceNextBaseToken();break;case"string"===this.token.type:this.tokens.push(this.token),this.advanceNextBaseToken();break;case"operator"===this.token.type:var t=this.baseTokens[this.baseTokenNo+1]?this.baseTokens[this.baseTokenNo+1]:void 0,n=this.baseTokens[this.baseTokenNo+2]?this.baseTokens[this.baseTokenNo+2]:void 0;t&&"operator"===t.type&&a.OPERATOR_COMBO.has(this.token.value+t.value)?(n&&"operator"===n.type&&a.OPERATOR_COMBO.has(this.token.value+t.value+n.value)?(this.token.value=this.token.value+t.value+n.value,this.tokens.push(this.token),this.baseTokens.splice(this.baseTokenNo,1)):(this.token.value=this.token.value+t.value,this.tokens.push(this.token)),this.baseTokens.splice(this.baseTokenNo,1),this.advanceNextBaseToken()):"-"===this.token.value&&"number"===t.type&&0<this.tokens.length&&"operator"===this.tokens[this.tokens.length-1].type?this.token.type="number":"$"!==this.token.value&&"_"!==this.token.value||"variable"!==t.type?(this.tokens.push(this.token),this.advanceNextBaseToken()):(t.value=this.token.value+t.value,this.baseTokens.splice(this.baseTokenNo,1));break;case"number"===this.token.type:for(var r=this.baseTokens[this.baseTokenNo+1]?this.baseTokens[this.baseTokenNo+1]:void 0;r&&"number"===r.type;)this.token.value=this.token.value+r.value,this.token.value=1*this.token.value,this.baseTokens.splice(this.baseTokenNo,1),r=this.baseTokens[this.baseTokenNo+1]?this.baseTokens[this.baseTokenNo+1]:void 0;this.tokens.push(this.token),this.advanceNextBaseToken()}},e}();t.Tokenizer=n},A.f[107]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var t=this;this.WHITESPACE=new Set,[32,10,13].map(function(e){return t.WHITESPACE.add(e)}),this.STRING_START_END=new Set,["'",'"',"`"].map(function(e){return t.STRING_START_END.add(e.charCodeAt(0))}),this.OPERATOR=new Set,["=","!",">","<","+","-","*","/","%","@","^","(",")","|","&","?",":",",","{",,"}","[","]","$","."].map(function(e){return t.OPERATOR.add(e.charCodeAt(0))}),this.NUMBER=new Set,["1","2","3","4","5","6","7","8","9","0"].map(function(e){return t.NUMBER.add(e.charCodeAt(0))}),this.OPERATOR_COMBO=new Set,["===","==","+=","-=","!=","&&","||","!==",">=","<=","${","@{"].map(function(e){return t.OPERATOR_COMBO.add(e)})};t.CharCodes=n},A.f[108]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(109),r=A.r(111),i=A.r(112),a=new n.AST,o=new r.SymbolContainer;a.addSymbolContainer(o),i.addSymbols(a),t.generateAST=function(e){return a.start(e)}},A.f[109]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=A.r(110),n=function(){function e(){this.currentStatement=null,this.currentTokenIndex=0,this.assignment=function(e){var t=this;return this.infixr(e,10,function(e){return"."!==e.id&&"["!==e.id&&"variable"!==e.arity&&e.error("Bad lvalue."),this.first=e,this.second=t.expression(9),this.assignment=!0,this.arity="binary",this})}}return e.prototype.start=function(e){return this.tokens=e,this.currentStatement=null,this.currentTokenIndex=0,this.currentToken=null,this.advance(),this.statements()},e.prototype.addSymbolContainer=function(e){this.symbolContainer=e},e.prototype.symbol=function(e,t){var n=this.symbolContainer[e];return t=t||0,n?t>=n.lbp&&(n.lbp=t):((n=new r.SymbolTemplate).id=n.value=e,n.lbp=t,this.symbolContainer[e]=n),n},e.prototype.prefix=function(e,t){var n=this.symbol(e),r=this;return n.nud=t||function(){return this.first=r.expression(70),this.arity="unary",this},n},e.prototype.infix=function(e,t,n){var r=this.symbol(e,t),i=this;return r.led=n||function(e){return this.first=e,this.second=i.expression(t),this.arity="binary",this},r},e.prototype.infixr=function(e,t,n){var r=this.symbol(e,t),i=this;return r.led=n||function(e){return this.first=e,this.second=i.expression(t-1),this.arity="binary",this},r},e.prototype.stmt=function(e,t){var n=this.symbol(e);return n.std=t,n},e.prototype.statement=function(){var e=this.currentToken;return e.std?(this.advance(),e.std()):this.expression(0)},e.prototype.statements=function(){var e;for(this.statementsArray=[];"}"!==this.currentToken.id&&"(end)"!==this.currentToken.id;)(e=this.statement())&&this.statementsArray.push(e);return 0===this.statementsArray.length?null:1===this.statementsArray.length?this.statementsArray[0]:this.statementsArray},e.prototype.advance=function(e){var t,n,r,i;if((r=this.tokens[this.currentTokenIndex])&&e){var a=this.tokens[this.currentTokenIndex+1];if("}"===e&&a&&("|"===a.value||"&"===a.value))return;var o=this.tokens[this.currentTokenIndex-1];if("}"===e&&o&&("|"===o.value||"&"===o.value))return}if(!(this.currentTokenIndex>=this.tokens.length))return this.currentTokenIndex+=1,i=r.value,"variable"===(t=r.type)?(t="variable",n=this.symbolContainer["(variable)"]):"operator"===t?(n=this.symbolContainer[i])||console.warn("Unknown operator.",r):"string"===t||"number"===t?(t="literal",n=this.symbolContainer["(literal)"]):console.warn("Unexpected token.",r),this.currentToken=Object.create(n),this.currentToken.value=i,this.currentToken.arity=t,r.root&&(this.currentToken.root=!0),this.currentToken;this.currentToken=this.symbolContainer["(end)"]},e.prototype.expression=function(e){var t,n=this.currentToken;this.advance(),t=n.nud();try{for(;e<this.currentToken.lbp;)n=this.currentToken,this.advance(),t=n.led(t)}catch(e){console.warn("parser fail")}return t},e}();t.AST=n},A.f[110]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.nud=function(){console.error("Undefined.")},e.prototype.led=function(){console.error("Missing operator.")},e}();t.SymbolTemplate=n},A.f[111]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){};t.SymbolContainer=n},A.f[112]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.addSymbols=function(e){var r=e;r.symbol("(literal)").nud=function(){return this},r.symbol("(variable)").nud=function(){return this},r.symbol("(function)").nud=function(){return this},r.symbol("(end)"),r.symbol("(name)"),r.symbol(":"),r.symbol(";"),r.symbol(")"),r.symbol("]"),r.symbol("}"),r.symbol(","),r.infix("+",50),r.infix("-",50),r.infix("*",60),r.infix("%",60),r.infix("/",60),r.infix("===",40),r.infix("!==",40),r.infix("==",40),r.infix("!=",40),r.infix("<",40),r.infix("<=",40),r.infix(">",40),r.infix("^",70),r.infix(">=",40),r.infix("?",20,function(e){return this.first=e,this.second=r.expression(0),r.advance(":"),this.third=r.expression(0),this.arity="ternary",this}),r.infix(".",80,function(e){return this.first=e,"variable"!==r.currentToken.arity&&r.currentToken.error("Expected a property name."),r.currentToken.arity="variable",this.second=r.currentToken,this.arity="binary",this.isObject=!0,r.advance(),this}),r.infix("[",80,function(e){return this.first=e,this.second=r.expression(0),this.arity="binary",this.isObject=!0,this.contextReset=!0,r.advance("]"),this}),r.infix("(",80,function(e){if(!e)return r.expression(0);var t=[];if(this.arity="binary",this.isFunction=!0,this.first=e,this.second=t,"unary"===e.arity&&"function"===e.id||"variable"===e.arity||"("===e.id||"&&"===e.id||"||"===e.id||"?"===e.id||e.error("Expected a variable name."),")"!==r.currentToken.id)for(;t.push(r.expression(0)),","===r.currentToken.id;)r.advance(",");return r.advance(")"),this}),r.prefix("-"),r.prefix("!"),r.prefix("(",function(){var e=r.expression(0);return"|"===r.currentToken.value&&(r.valueConverter=r.expression(0)),"&"===r.currentToken.value?r.behavior=r.expression(0):r.advance(")"),e}),r.prefix("{",function(){var e=[];if("}"!==r.currentToken.value)for(;;){var t=r.currentToken;"variable"!==t.arity&&t.arity,r.advance(),r.advance(":");var n=r.expression(0);if(n.key=t.value,e.push(n),","!==r.currentToken.value)break;r.advance(",")}return r.advance("}"),this.first=e,this.arity="unary",this}),r.assignment("="),r.assignment("+="),r.assignment("-="),r.prefix("|",function(){this.arity="valueConverter";var e=r.expression(0);this.value=e.value;var t=[];for(this.args=t;":"===r.currentToken.id;)r.advance(","),t.push(r.expression(0));return this.args.unshift(r.statementsArray.pop()),r.currentStatement=this}),r.prefix("&",function(){this.arity="behavior";var e=r.expression(0);this.value=e.value;var t=[];for(this.args=t;":"===r.currentToken.id;)r.advance(","),t.push(r.expression(0));return this}),r.prefix("${",function(){return this.e=r.expression(0),r.advance("}"),this.e}),r.prefix("@{",function(){var e=r.expression(0);return r.advance("}"),e}),r.infixr("&&",30),r.infixr("||",30),r.symbol(";").nud=function(){return null}}},A.f[113]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var f=A.r(105),p=A.r(108),v=A.r(114),g=A.r(63),y=A.r(80),m=A.r(104);t.createBindingExpression=function(e,n,t){var r,i=[];if(e){if(t.attributesValues)i=t.attributesValues;else{var a=void 0,o=[],s=[];if(g.Cache.expressionMap.has(e)){var l=g.Cache.expressionMap.get(e);r=l.ast,a=l.tokens,o=l.tokenValues,s=l.tokenObject}else{a=f.tokenize(e),r=p.generateAST(a);var u=null,c=[];a.forEach(function(e){"variable"===e.type?(u?u+=e.value:u=e.value,c.push(e.value)):"operator"===e.type&&"."===e.value?u&&(u+="."):u&&(o.push(u),u=null,s.push(c),c=[])}),u&&(o.push(u),s.push(c),c=[],u=null),g.Cache.expressionMap.set(e,{ast:r,tokens:a,tokenValues:o,tokenObject:s})}o.forEach(function(e){var t=m.contextOfObject(e,n);"string"==typeof e&&"$"!==e[0]&&t&&t.__proto__&&t.__proto__[y.CONSTANTS.META_COMPUTEDFROM]&&t.__proto__[y.CONSTANTS.META_COMPUTEDFROM][e]?t.__proto__[y.CONSTANTS.META_COMPUTEDFROM][e].attributes.forEach(function(e){-1===i.indexOf(e)&&i.push(e)}):-1===i.indexOf(e)&&i.push(e)}),t.setAst(r)}for(var h=0;h<i.length;h++){var d=m.contextOfObject(i[h],n);v.ClassPropertyObserverCreator.create(d||n,i[h],t)}t.init(),t.attributesValues=i}},t.removeBindingExpression=function(e,t,n){if(e&&n.attributesValues)for(var r=n.attributesValues,i=0;i<r.length;i++){var a=m.contextOfObject(r[i],t);v.ClassPropertyObserverCreator.remove(a||t,r[i],n)}}},A.f[114]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(115),i=A.r(63),a=function(){},r=function(){function r(){}return r.create=function(e,t,n){this.classRef=e,this.keyParts=i.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts[this.keyNo],r.processKeys(n),r.clear()},r.remove=function(e,t,n){this.classRef=e,this.keyParts=i.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts&&this.keyParts[this.keyNo],r.removeKeys(n),r.clear()},r.clear=function(){this.classRef=null,this.keyParts=null,this.keyNo=null,this.keyBlock=null},r.nextKey=function(){this.keyNo++,this.keyBlock=this.keyParts[this.keyNo]},r.processKeys=function(e){this.classRef.__observer||Object.defineProperty(this.classRef,"__observer",{writable:!0,configurable:!0,value:new a}),this.classRef.__observer[this.keyBlock]?(this.classRef.__observer[this.keyBlock].subscribe(e),this.classRef.__observer[this.keyBlock].observe()):(this.classRef.__observer[this.keyBlock]=new n.ClassPropertyObserver(this.classRef,this.keyBlock),this.classRef.__observer[this.keyBlock].subscribe(e)),this.keyNo!==this.keyParts.length-1&&1<this.keyParts.length&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.processKeys(e))},r.removeKeys=function(e){this.classRef&&this.classRef.__observer&&this.classRef.__observer[this.keyBlock]&&this.classRef.__observer[this.keyBlock].unsubscribe(e),this.keyNo!==this.keyParts.length-1&&1<this.keyParts.length&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.removeKeys(e))},r}();t.ClassPropertyObserverCreator=r},A.f[115]=function(e,t){var r,i,a,o,s;Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._class=e,this.key=t,this.setterBind=this.setter.bind(this),this.getterBind=this.getter.bind(this),"object"==typeof this._class&&(this.value=this._class[this.key],this.observe())}return e.prototype.unsubscribe=function(e){this.c1===e&&(this.c1=null),this.c2===e&&(this.c2=null),this.c3===e&&(this.c3=null),this.c4===e&&(this.c4=null),this.c5===e&&(this.c5=null),this.callers&&-1!==this.callers.indexOf(e)&&this.callers.splice(this.callers.indexOf(e),1)},e.prototype.subscribe=function(e){this.c1!==e&&this.c2!==e&&this.c3!==e&&this.c4!==e&&this.c5!==e&&(this.c1?this.c2?this.c3?this.c4?this.c5?(this.callers||(this.callers=[]),-1===this.callers.indexOf(e)&&this.callers.push(e)):this.c5=e:this.c4=e:this.c3=e:this.c2=e:this.c1=e)},e.prototype.forceUpdate=function(){if(this.c1&&(r=this.c1,this.c1=void 0,r.update()),this.c2&&(i=this.c2,this.c2=void 0,i.update()),this.c3&&(a=this.c3,this.c3=void 0,a.update()),this.c4&&(o=this.c4,this.c4=void 0,o.update()),this.c5&&(s=this.c5,this.c5=void 0,s.update()),this.callers&&0<this.callers.length){var e=this.callers.slice();this.callers=[];for(var t=0;t<e.length;t++)e[t].update()}},e.prototype.observe=function(){var e=Reflect.getOwnPropertyDescriptor(this._class.__proto__,this.key),t=null;e&&(t=e.get||e.set)&&console.warn("skipping dirty observer - no-dirty  //todo remove this message"),null===t&&(Reflect.defineProperty(this._class,this.key,{configurable:!0,enumerable:!0,set:this.setterBind,get:this.getterBind})||console.warn("This key could not be observed:"+this.key))},e.prototype.setter=function(e){if(e!==this.value&&("object"==typeof e&&(e&&e.__observer&&(e.__observer=null),e&&e.__observerArray&&(e.__observerArray=null)),this.value=e,this.c1&&(r=this.c1,this.c1=void 0,r.update()),this.c2&&(i=this.c2,this.c2=void 0,i.update()),this.c3&&(a=this.c3,this.c3=void 0,a.update()),this.c4&&(o=this.c4,this.c4=void 0,o.update()),this.c5&&(s=this.c5,this.c5=void 0,s.update()),this.callers&&0<this.callers.length)){var t=this.callers.slice();this.callers=[];for(var n=0;n<t.length;n++)t[n].update()}},e.prototype.getter=function(){return this.value},e}();t.ClassPropertyObserver=n},A.f[116]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var u=A.r(104),c=A.r(63);t.setValue=function(n,t,r){n=u.contextOfObject(t,n);var i=c.Cache.keyMaps.getCreate(t);try{var a;1<i.length?i.forEach(function(e,t){e&&(t===i.length-1?a[e]=r:a=0===t?n[e]:a[e])}):n[t]=r}catch(e){try{console.warn("key not found, rebuilding",t);var o,s={};i.forEach(function(e,t){e&&(t===i.length-1?0===t?(s[e]={},o=s[e]):o[e]=r:o=0===t?(s[e]={},s[e]):(o[e]={},o[e]))});var l=n;i.forEach(function(e,t){e&&(t===i.length-1?l[e]||(l[e]=s[e]):(l[e]||(l[e]=s[e]),s=s[e],l=l[e]))})}catch(e){console.error("key not found",t)}}}},A.f[117]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(118);t.subscribeClassProperty=function(e,t,n){var r=new i.PropertyObserverHandler(t,n);r.bind(e),n.caller=r}},A.f[118]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=A.r(103),n=A.r(113),i=A.r(63),a=A.r(70),o=function(){function e(e,t){this.value=void 0,this.oldValue=void 0,this.newValue=void 0,this.isWaiting=!1,this.isNew=!0,this.expression=e,this.listener=t,this.queue=a.ContainerClasses.get(i.Queue)}return e.prototype.bind=function(e){this.observing=!0,this.context=e,n.createBindingExpression(this.expression,this.context,this)},e.prototype.setAst=function(e){this.ast=e,this.curBehavior||this.connectBehavior()},e.prototype.init=function(){if(this.isNew){this.isNew=!1;var e=this.value,t=r.traverseAST(this.ast,this.context);this.value=t,this.listenerCall(t,e),this.isNew=!1}},e.prototype.connectBehavior=function(){var n=this,e=r.getBehavior(this.ast);e&&e.forEach(function(e){if("signal"===e.name){var t=a.ContainerBehavior.findBehavior(e.name);t&&(n.curBehavior=new t(n,e.args))}})},e.prototype.update=function(){this.observing&&(this.oldValue=this.value,this.newValue=r.traverseAST(this.ast,this.context),this.oldValue!==this.newValue?(this.value=this.newValue,this.isWaiting||(this.isWaiting=!0,this.queue.add(this))):(this.oldValue=null,this.newValue=null),this.bind(this.context))},e.prototype.listenerCall=function(e,t){this.listener&&this.listener.call(e,t)},e.prototype.call=function(e){var t=this.newValue,n=this.oldValue;this.oldValue=null,this.newValue=null,this.listenerCall(t,n),this.isWaiting=!1,e()},e.prototype.unbind=function(){this.observing&&n.removeBindingExpression(this.expression,this.context,this),this.listener.caller=null,this.observing=!1,this.context=null,this.listener=null,this.value=null},e}();t.PropertyObserverHandler=o},A.f[119]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.unSubscribeClassProperty=function(e,t){t.caller&&t.caller.unbind()}},A.f[120]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(103),a=A.r(105),o=A.r(108),s=A.r(63);t.evaluateExpression=function(e,t){if(e){var n=void 0;if(s.Cache.astMap.has(e))n=s.Cache.astMap.get(e);else{var r=a.tokenize(e);n=o.generateAST(r),s.Cache.astMap.set(e,n)}return i.traverseAST(n,t)}return""}},A.f[121]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(122);t.subscribeClassArray=function(e,t,n){var r=new i.ArrayObserverHandler(t,n);r.bind(e),n.caller=r}},A.f[122]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(123),r=A.r(63),i=A.r(70),a=function(){function e(e,t){this.expression=e,this.listener=t,this.isWaiting=!1,this.data=void 0,this.expression=e,this.listener=t,this.isWaiting=null,this.queue=i.ContainerClasses.get(r.Queue)}return e.prototype.bind=function(e){this.observing=!0,this.context=e,n.ClassArrayObserverCreator.create(this.context,this.expression,this)},e.prototype.update=function(e){this.data=e,this.observing&&(this.isWaiting||(this.isWaiting=!0,this.queue.add(this)),this.bind(this.context))},e.prototype.call=function(e){var t=this.data;this.data=null,this.listener&&this.listener.call(t),this.isWaiting=!1,e()},e.prototype.unbind=function(){this.observing&&n.ClassArrayObserverCreator.remove(this.context,this.expression,this),this.listener.caller=null,this.listener=null,this.observing=!1,this.context=null,this.data=null,this.expression=null},e}();t.ArrayObserverHandler=a},A.f[123]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(124),i=A.r(63),a=function(){},r=function(){function r(){}return r.create=function(e,t,n){this.classRef=e,this.keyParts=i.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts[this.keyNo],r.processKeys(n),r.clear()},r.remove=function(e,t,n){this.classRef=e,this.keyParts=i.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts[this.keyNo],r.removeKeys(n),r.clear()},r.clear=function(){this.classRef=null,this.keyParts=null,this.keyNo=null,this.keyBlock=null},r.nextKey=function(){this.keyNo++,this.keyBlock=this.keyParts[this.keyNo]},r.processKeys=function(e){this.classRef.__observerArray||Object.defineProperty(this.classRef,"__observerArray",{writable:!0,configurable:!0,value:new a}),this.classRef.__observerArray[this.keyBlock]?(this.classRef.__observerArray[this.keyBlock].subscribe(e),this.classRef.__observerArray[this.keyBlock].observe()):(this.classRef.__observerArray[this.keyBlock]=new n.ClassArrayObserver(this.classRef,this.keyBlock),this.classRef.__observerArray[this.keyBlock].subscribe(e)),this.keyNo!==this.keyParts.length-1&&1<this.keyParts.length&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.processKeys(e))},r.removeKeys=function(e){this.classRef.__observerArray&&this.classRef.__observerArray[this.keyBlock]&&this.classRef.__observerArray[this.keyBlock].unsubscribe(e),this.keyNo!==this.keyParts.length-1&&1<this.keyParts.length&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.removeKeys(e))},r}();t.ClassArrayObserverCreator=r},A.f[124]=function(e,t){var r,i,a,o,s;Object.defineProperty(t,"__esModule",{value:!0});["pop","push","reverse","shift","sort","splice","unshift","sort"].forEach(function(t){var n=Array.prototype[t];Array.prototype[t]=function(){var e=n.apply(this,arguments);return this.__array_observer__class&&this.__array_observer__class.check(arguments,t),e}});var n=function(){function e(e,t){this._class=e,this.key=t,this.internalEvents=[],this.timer=null,"object"==typeof this._class&&this.observe()}return e.prototype.subscribe=function(e){this.c1!==e&&this.c2!==e&&this.c3!==e&&this.c4!==e&&this.c5!==e&&(this.c1?this.c2?this.c3?this.c4?this.c5?(this.callers||(this.callers=[]),-1===this.callers.indexOf(e)&&this.callers.push(e)):this.c5=e:this.c4=e:this.c3=e:this.c2=e:this.c1=e)},e.prototype.unsubscribe=function(e){this.c1===e&&(this.c1=null),this.c2===e&&(this.c2=null),this.c3===e&&(this.c3=null),this.c4===e&&(this.c4=null),this.c5===e&&(this.c5=null),this.callers&&-1!==this.callers.indexOf(e)&&this.callers.splice(this.callers.indexOf(e),1)},e.prototype.check=function(e,t){var n=this;clearTimeout(this.timer),this.timer=0,this.internalEvents.push({event:t,args:e}),this.timer=setTimeout(function(){if(n.c1&&(r=n.c1,n.c1=void 0,r.update(n.internalEvents)),n.c2&&(i=n.c2,n.c2=void 0,i.update(n.internalEvents)),n.c3&&(a=n.c3,n.c3=void 0,a.update(n.internalEvents)),n.c4&&(o=n.c4,n.c4=void 0,o.update(n.internalEvents)),n.c5&&(s=n.c5,n.c5=void 0,s.update(n.internalEvents)),n.callers&&0<n.callers.length){var e=n.callers.slice();n.callers=[],e.forEach(function(e){e.update(n.internalEvents)})}n.internalEvents=null,n.internalEvents=[],n._class[n.key]&&n._class[n.key].__observer&&n._class[n.key].__observer.length&&n._class[n.key].__observer.length.forceUpdate()},0)},e.prototype.observe=function(){this._class[this.key]&&Array.isArray(this._class[this.key])&&Object.defineProperty(this._class[this.key],"__array_observer__class",{writable:!0,configurable:!0,value:this})},e}();t.ClassArrayObserver=n},A.f[125]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.unSubscribeClassArray=function(e,t){t.caller&&t.caller.unbind()}},A.f[126]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var u=A.r(80),c=A.r(119);t.unSubscribeClassMetaBinding=function(e){var t=e.__proto__[u.CONSTANTS.META_BINDABLE];if(t)for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n],a=t[i].options.subscribeInternal;a&&c.unSubscribeClassProperty(e,a);var o=t[i].options.subscribeExternal;if(e.$parent&&o&&e.$element){var s=e.$element,l=t[i].options.attribute+".bind";s.getAttribute(l)&&c.unSubscribeClassProperty(e.$parent,o)}}}},A.f[127]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var g=A.r(117),y=A.r(102),r=A.r(80),m=function(){function e(e,t,n){this._class=e,this.key=t,this.meta=n}return e.prototype.call=function(e,t){if(t!==e){var n=this.key,r=this._class,i=this.meta;r[n+"Changed"]&&r[n+"Changed"](e,t),i[n].options.changeHandler&&r[i[n].options.changeHandler]("key",e,t),r.$parent&&n in r.$parent&&r.$parent[n]!==e&&(r.$parent[n]=e)}},e}();t.subscribeClassMetaBinding=function(f){var p=f.__proto__[r.CONSTANTS.META_BINDABLE];if(p)for(var v=Object.keys(p),e=function(n){var e=new m(f,n,p);if(g.subscribeClassProperty(f,n,e),p[n].options.subscribeInternal=e,!0===p[n].observableOnly);else if(f.$attributes&&!f.$attribute){if(f.$element&&f.$parent){var t=f.$element,r=p[n].options.attribute+".bind";if(o=t.getAttribute(r)){var i=Object.create({call:function(e,t){t!==e&&(f[n]=e)}});g.subscribeClassProperty(f.$parent,o,i),p[n].options.subscribeExternal=i}else r=""+p[n].options.attribute,(o=t.getAttribute(r))&&(-1!==o.indexOf("${")||-1!==o.indexOf("@{")?(d=y.BindingEngine.tokenizeParseAndTraverseAST(o,f.$parent))&&(f[n]=d):f[n]=o)}}else if(f.$element&&f.$parent)if(1===v.length&&"value"===n){t=f.$element;var a=(r=f.$attribute.name).indexOf(".bind"),o=t.getAttribute(r);-1!==a?(i=Object.create({call:function(e,t){t!==e&&(f[n]=e)}}),g.subscribeClassProperty(f.$parent,o,i),p[n].options.subscribeExternal=i):(o=t.getAttribute(r))&&(-1!==o.indexOf("${")||-1!==o.indexOf("@{")?(d=y.BindingEngine.tokenizeParseAndTraverseAST(o,f.$parent))&&(f[n]=d):f[n]=o)}else{t=f.$element;var s,l=f.$attribute.name,u=p[n].options.attribute+".bind",c=t.getAttribute(l)?t.getAttribute(l).split(";"):null;if(c)if(c.forEach(function(e){var t=e.split(":");t&&t[0].trim()===u&&(s=t[1])}),s)i=Object.create({call:function(e,t){t!==e&&(f[n]=e)}}),g.subscribeClassProperty(f.$parent,s,i),p[n].options.subscribeExternal=i;else{var h,d;u=""+p[n].options.attribute,c.forEach(function(e){var t=e.split(":");t&&t[0].trim()===u&&(h=t[1])}),h&&(-1!==h.indexOf("${")||-1!==h.indexOf("@{")?(d=y.BindingEngine.tokenizeParseAndTraverseAST(h,f.$parent))&&(f[n]=d):f[n]=h)}}},t=0,n=v;t<n.length;t++)e(n[t])}},A.f[128]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=A.r(129),a=A.r(100),o=A.r(70),i=A.r(101),s=A.r(63),n=function(){function e(e,t,n,r,i){this._process=!0,this.internalAttached=!1,this.logger=s.Logger.getLogger(t.tagName,"element"),this.parent=e,this.element=t,this.templateString=i,this._class=n||o.ContainerClasses.get(r),t&&!t.$view&&(t.$view=new a.ViewController(t)),t.$view.addElement(this)}return e.prototype.init=function(){var n=this;if(this._class.$element=this.element,this._class.$parent=this.parent,this._class.$attributes=this.element.attributes,i.BindingEngine.subscribeClassMetaBinding(this._class),this._class.loadTemplate){var e=this._class.loadTemplate();Promise.resolve(e).then(function(e){n.templateString=n.templateString||e;var t=[];if(n.template=r.ViewParser.createTemplate(null,n.templateString),n.create(),n.processContent(),n._process&&(t=r.ViewParser.parseNodes(n.template,n._class,n.element.$view)),n._process)for(;n.template.childNodes.length;)n.element.appendChild(n.template.firstChild);t.reverse(),n.contentProcessed(t),t.forEach(function(e){e.attached&&e.attached()}),n.internalAttached=!0,n.attached()})}else console.error("missing loadTemplate() function");return this},e.prototype.create=function(){this.logger.log("create"),this._class.created&&this._class.created()},e.prototype.processContent=function(){this.logger.log("processContent"),this._class.processContent&&(this._process=this._class.processContent(this.template))},e.prototype.contentProcessed=function(e){this.logger.log("contentProcessed"),this._class.contentProcessed&&this._process&&this._class.contentProcessed(e)},e.prototype.attached=function(){this.internalAttached&&this._class.$element.parentNode&&(this._class.$element.parentNode?this.logger.log("attached"):this.logger.log("attached","missing parent node")),this._class.attached&&this.internalAttached&&this._class.$element.parentNode&&(this.internalAttached=!1,this._class.attached())},e.prototype.detached=function(){this.logger.log("detached"),this._class.detached&&this._class.detached(),i.BindingEngine.unSubscribeClassMetaBinding(this._class),this.parent=null,this.element=null,this._class.$element=null,this._class.$parent=null,this._class.$attributes=null,this._class=null},e}();t.ElementController=n},A.f[129]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var b=A.r(70),x=A.r(70),s=A.r(63),w=A.r(99),_=A.r(128),E=A.r(130),n=function(){function o(){}return o.parseAndCreateElement=function(e,t,n,r){return new _.ElementController(n,t,e,null,r).init()},o.cleanTemplate=function(e){var r=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];8===n.nodeType||3===n.nodeType&&!/\S/.test(n.nodeValue)?(e.removeChild(n),t--):1===n.nodeType&&r(n),n=null}};r(e)},o.createTemplate=function(e,t){var n;if(s.Cache.templateMap.has(t))n=s.Cache.templateMap.get(t);else{var r=document.createElement("div");r.innerHTML=t.default||t;var i=r.firstElementChild;if(!i.content)for(i.content=document.createDocumentFragment();i.childNodes[0];)i.content.appendChild(i.childNodes[0]);n=document.createElement(e||"mf-template"),o.cleanTemplate(i.content),n.appendChild(i.content),s.Cache.templateMap.set(t,n)}var a=n.cloneNode(!0);return n=null,a},o.clearAllViews=function(e){for(var t,n=document.createNodeIterator(e,NodeFilter.SHOW_ALL,function(e){return e.$view?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t=n.nextNode();)t.$view.clearView()},o.parseNodes=function(e,v,g){var y=[],m=function(e){for(var t=0;t<e.childNodes.length;t++){var n=!1,r=e.childNodes[t];if(r.getAttribute){var i=r.getAttributeNode("repeat.for");if(i){n=!0;var a=x.ContainerAttributes.findAttribute(i.name);(u=new w.AttributeController(v,r,i,a,g)).init(),u&&y.push(u)}else{var o=r.getAttributeNode("if.bind");if(o){n=!0;a=x.ContainerAttributes.findAttribute(o.name);(u=new w.AttributeController(v,r,o,a,g)).init(),u&&y.push(u)}}}if(!n)for(var s=r.attributes||[],l=0;l<s.length;l++){var u,c=s[l],h=x.ContainerAttributes.findAttribute(c.name);if(!h&&c.name&&!(h=x.ContainerAttributes.findAttribute(c.name.replace(".bind","")))&&c.name&&(h=x.ContainerAttributes.findAttribute("mframejs-ending-with."+c.name.split(".")[1])),h)(u=new w.AttributeController(v,r,c,h,g)).init(),u&&y.push(u);else if(-1!==c.value.indexOf("${")||-1!==c.value.indexOf("@{"))(p=new E.InterpolateController(v,c,g)).init(),y.push(p)}if(!n)if(1===r.nodeType){var d=b.ContainerElements.findElement(r.localName);if(d){var f=new _.ElementController(v,r,null,d,null);f.init(),y.push(f)}else r.childNodes&&m(r)}else{var p;if(r.textContent)if(-1!==r.textContent.indexOf("${")||-1!==r.textContent.indexOf("@{"))(p=new E.InterpolateController(v,r,g)).init(),y.push(p)}}};return m({childNodes:[e]}),y},o.parseNodesWithCache=function(e,o,t,s){var l,u=[],c=t.next,h=function(e){for(var t=0;t<e.childNodes.length;t++){if(l=e.childNodes[t],(c=c&&c.next)&&c.controllers)for(var n=0;n<c.controllers.length;n++){var r=c.controllers[n];switch(r.type){case"attribute-controller":case"attribute":i=l.attributes[r.attributeNumber];(a=new w.AttributeController(o,l,i,r.container,s)).init(),u.push(a);break;case"interpolate-attribute-value":var i=l.attributes[r.attributeNumber];(a=new E.InterpolateController(o,i,s)).init(),u.push(a);break;case"interpolate-node-textContent":(a=new E.InterpolateController(o,l,s)).init(),u.push(a);break;case"custom-element":var a;(a=new _.ElementController(o,l,null,r.container,null)).init(),u.push(a);break;default:console.error("error in viewparser")}}!0!==c.controller&&l.childNodes&&h(l)}};return h(e),u},o.createNodeParseCache=function(e){var d,f=function(e){for(var t=function(e,t){e.controllers||(e.controllers=[]),e.controllers.push(t)},n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(d.next={},(d=d.next).tagName=r.tagName,r.getAttribute){var i="repeat.for";if(r.getAttributeNode(i)){for(var a=r.attributes,o=0;o<a.length;o++)if(a[o].name===i){var s=x.ContainerAttributes.findAttribute(i);t(d,{name:i,type:"attribute-controller",attributeNumber:o,container:s}),d.controller=!0}}else{var l="if.bind";if(r.getAttributeNode(l))for(a=r.attributes,o=0;o<a.length;o++)if(a[o].name===l){s=x.ContainerAttributes.findAttribute(l);t(d,{name:l,type:"attribute-controller",attributeNumber:o,container:s}),d.controller=!0}}if(!d.controller)for(a=r.attributes||[],o=0;o<a.length;o++){var u=a[o],c=x.ContainerAttributes.findAttribute(u.name);!c&&u.name&&!(c=x.ContainerAttributes.findAttribute(u.name.replace(".bind","")))&&u.name&&(c=x.ContainerAttributes.findAttribute("mframejs-ending-with."+u.name.split(".")[1])),c?t(d,{name:u.name,type:"attribute",attributeNumber:o,container:c}):-1===u.value.indexOf("${")&&-1===u.value.indexOf("@{")||t(d,{name:u.name,type:"interpolate-attribute-value",attributeNumber:o})}}if(!0!==d.controller){if(1===r.nodeType){var h=b.ContainerElements.findElement(r.localName);h&&(t(d,{controller:!0,name:r.tagName,type:"custom-element",container:h}),d.controller=!0)}else r.textContent&&(-1===r.textContent.indexOf("${")&&-1===r.textContent.indexOf("@{")||t(d,{type:"interpolate-node-textContent"}));r.childNodes&&f(r)}}},t={};return d=t,f({childNodes:[e]}),t},o}();t.ViewParser=n},A.f[130]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(101),r=A.r(63),i=function(){function e(e){this.firstRun=!0,this.name="Interpolate",this.node=e}return e.prototype.call=function(e,t){(t!==e||this.firstRun)&&(this.firstRun=!1,2===this.node.nodeType?this.node.value=e:this.node.data=e)},e}(),a=function(){function e(e,t,n){this.attr=!1,t.data||(this.attr=!0),this.logger=r.Logger.getLogger(this.attr?t.value.trim():t.data.trim(),"interpolate"),this.parent=e,this.node=t,n.addInterpolate(this)}return e.prototype.init=function(){this.logger.log("init"),this.subscribeInternal=new i(this.node),n.BindingEngine.subscribeClassProperty(this.parent,this.attr?this.node.value:this.node.data,this.subscribeInternal)},e.prototype.attached=function(){this.logger.log("attached")},e.prototype.detached=function(){this.logger.log("detached"),n.BindingEngine.unSubscribeClassProperty(this.parent,this.subscribeInternal),this.subscribeInternal=null,this.parent=null,this.node=null},e}();t.InterpolateController=a},A.f[131]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var h=A.r(70),d=A.r(99),f=A.r(130);t.addAttribute=function(e,t,n,r,i){var a=[];if(e.getAttribute){e.setAttribute(n,r);var o=e.getAttributeNode(n),s=e.$view,l=h.ContainerAttributes.findAttribute(o.name);if(!l&&o.name&&!(l=h.ContainerAttributes.findAttribute(o.name.replace(".bind","")))&&o.name&&(l=h.ContainerAttributes.findAttribute("mframejs-ending-with."+o.name.split(".")[1])),l){var u=new d.AttributeController(t,e,o,l,s);u.init(),u&&(i&&u.attached(),a.push(u))}else if(-1!==o.value.indexOf("${")){var c=new f.InterpolateController(t,o,s);c.init(),i&&c.attached(),a.push(c)}}return a}},A.f[132]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(133);t.SignalBehavior=n.SignalBehavior;var r=A.r(134);t.ThrottleBehavior=r.ThrottleBehavior;var i=A.r(135);t.DebounceBehavior=i.DebounceBehavior;var a=A.r(136);t.TriggerBehavior=a.TriggerBehavior},A.f[133]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(68),a=A.r(63),o=A.r(70).ContainerClasses.get(a.EventAggregator),s=function(){function e(e,t){this.name=t[0]||"undefined",e.listener&&"Interpolate"===e.listener.name&&(e.unbindBackup=e.unbind,e.unbind=function(){this.unbindBackup()},o.subscribe("signal-"+this.name,function(){e.update()}))}return e=n([i.behavior("signal"),r("design:paramtypes",[Object,Object])],e)}();t.SignalBehavior=s},A.f[134]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(68),a=function(){function e(t,e){var n=e[0]||100;t.eventHandlerBinded&&(t.eventHandlerBindedBackup=t.eventHandlerBinded,t.detachedBackup=t.detached,t.detached=function(){t.detachedBackup()},t.eventHandlerBinded=function(){var e=this;this.timerBehavior||(this.timerBehavior=setTimeout(function(){t.eventHandlerBindedBackup(),e.timerBehavior=null},n))}.bind(t))}return e=n([i.behavior("throttle"),r("design:paramtypes",[Object,Object])],e)}();t.ThrottleBehavior=a},A.f[135]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(68),a=function(){function e(e,t){var n=t[0]||100;e.eventHandlerBinded&&(e.eventHandlerBindedBackup=e.eventHandlerBinded,e.detachedBackup=e.detached,e.detached=function(){e.detachedBackup()},e.eventHandlerBinded=function(){this.timerBehavior&&(clearTimeout(this.timerBehavior),this.timerBehavior=null),this.timerBehavior=setTimeout(function(){e.eventHandlerBindedBackup()},n)}.bind(e))}return e=n([i.behavior("debounce"),r("design:paramtypes",[Object,Object])],e)}();t.DebounceBehavior=a},A.f[136]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(68),a=function(){function e(e,t){var n=t;e.eventHandlerBinded&&"trigger"in e&&n&&(e.trigger=n)}return e=n([i.behavior("updateTrigger"),r("design:paramtypes",[Object,Object])],e)}();t.TriggerBehavior=a},A.f[137]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(138);t.MfRouter=n.MfRouter},A.f[138]=function(e,t){var r=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__awaiter||function(a,o,s,l){return new(s||(s=Promise))(function(e,t){function n(e){try{i(l.next(e))}catch(e){t(e)}}function r(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((l=l.apply(a,o||[])).next())})},o=this&&this.__generator||function(n,r){var i,a,o,e,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(o=2&t[0]?a.return:t[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,t[1])).done)return o;switch(a=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,a=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){s.label=t[1];break}if(6===t[0]&&s.label<o[1]){s.label=o[1],o=t;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(t);break}o[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],a=0}finally{i=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=A.r(63),l=A.r(63),u=A.r(68),c=A.r(68),h=A.r(70),d=A.r(98),n=function(){function e(e,t){this.eventAggregator=e,this.router=t,this.name=""}var t,n;return e.prototype.created=function(){this.postEvents&&this.postEvents.toUpperCase&&"TRUE"===this.postEvents.toUpperCase()?this.postEvents=!0:this.postEvents=!1,this.router.registerRouterElement(this)},e.prototype.attached=function(){this.updatebinded=this.update.bind(this),this.name?this.eventAggregator.subscribe("mf-router"+this.name,this.updatebinded):console.error("router-name element attribute missing!"),this.started=!0,this.loaded||this.router.routerViewInit(this.name)},e.prototype.detached=function(){this.instanceOld&&this.RemoveOldInstance(),this.router.unregisterRouterElement(this),this.eventAggregator.unsubscribe("mf-router"+this.name,this.updatebinded)},e.prototype.loadTemplate=function(){return a(this,void 0,void 0,function(){var t,n,r;return o(this,function(e){switch(e.label){case 0:return this.started?[3,1]:[2,"<template></template>"];case 1:return e.trys.push([1,6,,7]),this.route=this.router.getCurrentRoute(this.name),this.routeIndex=this.router.getCurrentRouteIndex(this.name),[4,this.router.loadCurrentModule(this.name)];case 2:return void 0===(t=e.sent())&&console.warn("route not found"+this.route),n=this.router.getCurrentClass(this.name),(!t||t&&!t[n])&&console.warn("route class not found:",n),r=h.ContainerClasses.get(t[this.router.getCurrentClass(this.name)]),(this.instance=r).loadTemplate?[4,r.loadTemplate()]:[3,4];case 3:return[2,e.sent()];case 4:console.error("missing loadtemplate",this.route),e.label=5;case 5:return[3,7];case 6:return[2,"<template>"+e.sent()+"</template>"];case 7:return[2]}})})},e.prototype.update=function(r){var i=this;this.currentParams=r,this.instanceOld&&this.RemoveOldInstance(),this.instanceOld=this.instance;var e=!0;if(this.instanceOld&&this.instanceOld.canDeactivate&&(e=this.instanceOld.canDeactivate())&&(e=this.anyDeactivate(this.instanceOld.$element)),e){this.view=document.createElement("view");var a=this.view;a.style.display="none",this.loadTemplate().then(function(e){i.loaded=!0;var t,n=d.ViewParser.parseAndCreateElement(i.instance,a,i,e);i.$element.appendChild(a),n.attached(),i.instance.activate&&(t=i.instance.activate(r,i.router.getRoutesFor(i.name,!0),i.routeIndex)),Promise.resolve(t).then(function(){i.view===a&&(a.style.display="block",i.RemoveOldInstance()),i.instance.activated&&i.instance.activated(r)}),i.postEvents&&i.eventAggregator.publish("mf-router-"+i.name,{type:"routeActivate",route:i.route,name:i.name,routeIndex:i.routeIndex}),i.router.succeessRoute({route:i.route,success:!0})})}else this.instanceOld=null,this.router.succeessRoute({route:this.route,success:!1})},e.prototype.RemoveOldInstance=function(){if(this.router.isNavigating=!1,this.instanceOld&&this.$element){if(this.instanceOld.detached&&this.instanceOld.detached(),this.instanceOld.$element){var e=this.$element.removeChild(this.instanceOld.$element);d.ViewParser.clearAllViews(e),this.instanceOld.$element=null,this.instanceOld.$parent=null,this.instanceOld.$attributes=null,this.instanceOld.$element=null}this.instanceOld=null}},e.prototype.anyDeactivate=function(e){for(var t,n=!0,r=document.createNodeIterator(e,NodeFilter.SHOW_ALL,function(e){return e.$view?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t=r.nextNode();)if(t&&t.$view){var i=t.$view.items;for(var a in i)if(i[a]._class&&i[a]._class.canDeactivate&&!(n=i[a]._class.canDeactivate()))return n}return n},r([u.bindable({attribute:"router-name"}),i("design:type",Object)],e.prototype,"name",void 0),r([u.bindable({attribute:"post-events"}),i("design:type",Object)],e.prototype,"postEvents",void 0),e=r([u.customElement("mf-router"),c.inject(l.EventAggregator,s.Router),i("design:paramtypes",["function"==typeof(t=void 0!==l.EventAggregator&&l.EventAggregator)?t:Object,"function"==typeof(n=void 0!==s.Router&&s.Router)?n:Object])],e)}();t.MfRouter=n},A.f[139]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=A.r(140);t.IfAttribute=n.IfAttribute;var r=A.r(141);t.ValueAttribute=r.ValueAttribute;var i=A.r(142);t.DelgateEventsAttribute=i.DelgateEventsAttribute;var a=A.r(143);t.TriggerEventsAttribute=a.TriggerEventsAttribute;var o=A.r(144);t.RepeatAttribute=o.RepeatAttribute;var s=A.r(146);t.MiscAttributes=s.MiscAttributes;var l=A.r(147);t.CssAttribute=l.CssAttribute;var u=A.r(148);t.ModelAttribute=u.ModelAttribute},A.f[140]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r=A.r(68),i=A.r(98),a=A.r(101),o=function(){function e(){}return e.prototype.created=function(){this.value=this.$attribute.value,this.$element.attributes.removeNamedItem("if.bind"),this.$element&&this.$element.$view&&(this.$view=this.$element.$view),this.$element.$ifbindview=!0,this.elementClone=this.$element.cloneNode(!0),this.$element.style.display="None",this.added=!1},e.prototype.attached=function(){var t=this;this.anchor=document.createComment("mf-if-bind"),this.$view&&(this.anchor.$view=this.$view),this.$element.parentNode.insertBefore(this.anchor,this.$element),this.remove(),this.subscribeCall={name:"ifAttribute",value:this.value,call:function(e){switch(!0){case e&&!t.added:t.added=!0,t.add();break;case!e&&t.added:t.remove()}}},a.BindingEngine.subscribeClassProperty(this.$parent,this.value,this.subscribeCall)},e.prototype.detached=function(){a.BindingEngine.unSubscribeClassProperty(this.$parent,this.subscribeCall),this.remove(),this.anchor&&(this.anchor.parentNode.removeChild(this.anchor),this.anchor=null)},e.prototype.add=function(){var e=this.elementClone.cloneNode(!0);(this.$element=e).$view=new i.ViewController(e);var t=i.ViewParser.parseNodes(this.$element,this.$parent,e.$view);this.anchor.parentNode.insertBefore(this.$element,this.anchor),t.forEach(function(e){e.attached&&e.attached()}),t=null},e.prototype.remove=function(){this.added&&(this.added=!1,i.ViewParser.clearAllViews(this.$element)),this.$element&&(this.anchor.parentNode.removeChild(this.$element),this.$element=null)},e=n([r.customAttribute("if.bind")],e)}();t.IfAttribute=o},A.f[141]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(68),m=A.r(101),a=A.r(63),o=function(){function e(e){this.node=e,this.firstRun=!0,this.name="valueAttribute"}return e.prototype.call=function(e,t){if(t!==e||this.firstRun){switch(this.value=e,!0){case"textarea"===this.node.type:case"checkbox"!==this.node.type&&"radio"!==this.node.type&&"select-multiple"!==this.node.type&&"select-one"!==this.node.type:this.node.value=e||"";break;case"checkbox"===this.node.type:var n=this.node.hasAttribute("model.bind")?this.node.getAttributeNode("model.bind"):null;if(n&&n.getContent)(u=n.getContent())&&(Array.isArray(e)?-1!==e.indexOf(u.value)?this.node.checked=!0:this.node.checked=!1:e===u.value?this.node.checked=!0:this.node.checked=!1);else Array.isArray(e)?console.warn("error: value is array, this should not happen"):this.node.checked=e||!1;break;case"radio"===this.node.type:if(this.node){var r=this.node.hasAttribute("model.bind")?this.node.getAttributeNode("model.bind"):null;if(r&&r.getContent)(u=r.getContent())&&e===u.value&&(this.node.checked=!0)}break;case"select-one"===this.node.type:for(var i=this.node.options,a=null,o=0;o<i.length;o++){var s=i[o].hasAttribute("model.bind")?i[o].getAttributeNode("model.bind"):null;if(s&&s.getContent)(u=s.getContent())&&(Array.isArray(e)?e[0]===u.value&&(a=o):e===u.value&&(a=o))}this.node.selectedIndex=a;break;case"select-multiple"===this.node.type:var l=this.node.options;for(o=0;o<l.length;o++){var u,c=l[o].hasAttribute("model.bind")?l[o].getAttributeNode("model.bind"):null;if(c&&c.getContent)(u=c.getContent())&&(Array.isArray(e)?(-1!==e.indexOf(u.value)?l[o].selected=!0:l[o].selected=!1,0===e.length&&null===u.value&&(l[o].selected=!0)):e===u.value?l[o].selected=!0:l[o].selected=!1)}}this.firstRun=!1}},e}();t.PropertyChangeHandler=o;var s=function(){function e(){this.valueConverters=[],this.eventHandlerBinded=this.eventHandler.bind(this)}return e.prototype.attached=function(){"select-multiple"===this.$element.type&&this.propertyChangeHandler.call(this.propertyChangeHandler.value,"somethign % its not")},e.prototype.created=function(){var t=this;switch(this.expressionValue=this.$attribute.value,this.attributeName=this.expressionValue.split("|")[0].trim().split("&")[0].trim(),this.trigger=null,this.name=this.$attribute.name,this.propertyChangeHandler=new o(this.$element),!0){case"INPUT"===this.$element.tagName&&"checkbox"!==this.$element.type&&"radio"!==this.$element.type&&"select-multiple"!==this.$element.type&&"select-one"!==this.$element.type||"TEXTAREA"===this.$element.tagName:m.BindingEngine.subscribeClassProperty(this.$parent,this.expressionValue,this.propertyChangeHandler),a.connectBehavior(this.expressionValue,this),this.trigger?this.trigger.forEach(function(e){t.$element.addEventListener(e,t.eventHandlerBinded,!1)}):this.$element.addEventListener("input",this.eventHandlerBinded,!1);break;case"INPUT"===this.$element.tagName&&"checkbox"===this.$element.type:m.BindingEngine.subscribeClassProperty(this.$parent,this.expressionValue,this.propertyChangeHandler),a.connectBehavior(this.expressionValue,this),this.trigger?this.trigger.forEach(function(e){t.$element.addEventListener(e,t.eventHandlerBinded,!1)}):this.$element.addEventListener("click",this.eventHandlerBinded,!1);break;case"INPUT"===this.$element.tagName&&"radio"===this.$element.type:m.BindingEngine.subscribeClassProperty(this.$parent,this.expressionValue,this.propertyChangeHandler),a.connectBehavior(this.expressionValue,this),this.trigger?this.trigger.forEach(function(e){t.$element.addEventListener(e,t.eventHandlerBinded,!1)}):this.$element.addEventListener("click",this.eventHandlerBinded,!1);break;case"SELECT"===this.$element.tagName:m.BindingEngine.subscribeClassProperty(this.$parent,this.expressionValue,this.propertyChangeHandler),a.connectBehavior(this.expressionValue,this),this.trigger?this.trigger.forEach(function(e){t.$element.addEventListener(e,t.eventHandlerBinded,!1)}):this.$element.addEventListener("change",this.eventHandlerBinded,!1)}},e.prototype.runValueConverter=function(e){var t=a.Cache.expressionMap.get(this.expressionValue);return m.BindingEngine.valueConvert(t.ast,this.$parent,e)},e.prototype.detached=function(){var t=this;switch(!0){case"INPUT"===this.$element.tagName&&"checkbox"!==this.$element.type&&"radio"!==this.$element.type&&"select-multiple"!==this.$element.type&&"select-one"!==this.$element.type||"TEXTAREA"===this.$element.tagName:this.trigger?this.trigger.forEach(function(e){t.$element.removeEventListener(e,t.eventHandlerBinded)}):this.$element.removeEventListener("input",this.eventHandlerBinded);break;case"INPUT"===this.$element.tagName&&"checkbox"===this.$element.type:this.trigger?this.trigger.forEach(function(e){t.$element.removeEventListener(e,t.eventHandlerBinded)}):this.$element.removeEventListener("click",this.eventHandlerBinded);break;case"INPUT"===this.$element.tagName&&"radio"===this.$element.type:this.trigger?this.trigger.forEach(function(e){t.$element.removeEventListener(e,t.eventHandlerBinded)}):this.$element.removeEventListener("click",this.eventHandlerBinded);break;case"SELECT"===this.$element.tagName:this.trigger?this.trigger.forEach(function(e){t.$element.removeEventListener(e,t.eventHandlerBinded)}):this.$element.removeEventListener("change",this.eventHandlerBinded);break;default:this.$attribute.$parent=null}this.propertyChangeHandler.caller&&m.BindingEngine.unSubscribeClassProperty(this.$parent,this.propertyChangeHandler)},e.prototype.eventHandler=function(){switch(!0){case"INPUT"===this.$element.tagName&&"checkbox"!==this.$element.type&&"radio"!==this.$element.type&&"select-multiple"!==this.$element.type&&"select-one"!==this.$element.type||"TEXTAREA"===this.$element.tagName:var e=this.$element.value;"number"===this.$element.type&&(e=this.$element.valueAsNumber),"date"===this.$element.type&&(e=this.$element.valueAsDate),m.BindingEngine.setValue(this.$parent,this.attributeName,this.runValueConverter(e));break;case"INPUT"===this.$element.tagName&&"checkbox"===this.$element.type:var t=this.$element.hasAttribute("model.bind")?this.$element.getAttributeNode("model.bind"):null;if(t){var n,r=t.getContent().value,i=m.BindingEngine.evaluateExpression(this.$attribute.nodeValue,this.$parent),a=Array.isArray(i),o=this.$element.checked;if(a)if(o)-1===(n=i.indexOf(r))&&(i=i.concat([this.runValueConverter(r)]),m.BindingEngine.setValue(this.$parent,this.attributeName,i));else-1!==(n=i.indexOf(r))?(i.splice(n,1),i.__array_observer__class||(i=i.slice()),m.BindingEngine.setValue(this.$parent,this.attributeName,i)):this.$element.checked=!1;else m.BindingEngine.setValue(this.$parent,this.attributeName,this.runValueConverter(r)||!1)}else m.BindingEngine.setValue(this.$parent,this.attributeName,this.$element.checked||!1);break;case"INPUT"===this.$element.tagName&&"radio"===this.$element.type:var s=this.$element.hasAttribute("model.bind")?this.$element.getAttributeNode("model.bind"):null;if(s){var l=m.BindingEngine.evaluateExpression(s.nodeValue,s.getContent().$parent);m.BindingEngine.setValue(this.$parent,this.attributeName,this.runValueConverter(l))}else m.BindingEngine.setValue(this.$parent,this.attributeName,this.runValueConverter(this.$element.checked));break;case"SELECT"===this.$element.tagName:var u=m.BindingEngine.evaluateExpression(this.$attribute.nodeValue,this.$parent),c=Array.isArray(u),h=this.$element.selectedOptions.length,d=null;if(1<h){for(var f=[],p=0;p<h;p++){var v=(y=this.$element.selectedOptions[p]).hasAttribute("model.bind")?y.getAttributeNode("model.bind"):null,g=m.BindingEngine.evaluateExpression(v.nodeValue,v.getContent().$parent);f.push(this.runValueConverter(g))}d=f}else if(0===h)d=null;else{var y;v=(y=this.$element.selectedOptions[0]).hasAttribute("model.bind")?y.getAttributeNode("model.bind"):null;d=m.BindingEngine.evaluateExpression(v.nodeValue,v.getContent().$parent)}c?m.BindingEngine.setValue(this.$parent,this.attributeName,Array.isArray(d)?d:null===d?[]:[d]):m.BindingEngine.setValue(this.$parent,this.attributeName,Array.isArray(d)?d.map(function(e){return e}):d)}},e=n([i.customAttribute("value.bind"),i.customAttribute("checked.bind"),r("design:paramtypes",[])],e)}();t.ValueAttribute=s},A.f[142]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var i=A.r(68),a=A.r(101),o=A.r(63),s=function(){function e(){}return e.prototype.created=function(){this.name=this.$attribute.name.replace(".delegate",""),this.value=this.$attribute.value,this.expressionValue=this.$attribute.value,this.eventHandlerBinded=this.eventHandler.bind(this),o.connectBehavior(this.expressionValue,this),this.$element.addEventListener(this.name,this.eventHandlerBinded,!1)},e.prototype.attached=function(){},e.prototype.detached=function(){this.$element.removeEventListener(this.name,this.eventHandlerBinded)},e.prototype.eventHandler=function(e){a.BindingEngine.tokenizeParseAndTraverseAST(this.value,{ctx:this.$parent,$event:e,isMultiContext:!0})},e=n([i.customAttribute("mframejs-ending-with.delegate"),r("design:paramtypes",[])],e)}();t.DelgateEventsAttribute=s},A.f[143]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r=A.r(68),i=A.r(101),a=A.r(63),o=function(){function e(){}return e.prototype.created=function(){this.name=this.$attribute.name.replace(".trigger",""),this.value=this.$attribute.value,this.expressionValue=this.$attribute.value,this.eventHandlerBinded=this.eventHandler.bind(this),a.connectBehavior(this.expressionValue,this),this.$element.addEventListener(this.name,this.eventHandlerBinded,!1)},e.prototype.attached=function(){},e.prototype.detached=function(){this.$element.removeEventListener(this.name,this.eventHandlerBinded)},e.prototype.eventHandler=function(e){i.BindingEngine.tokenizeParseAndTraverseAST(this.value,{ctx:this.$parent,$event:e,isMultiContext:!0})},e=n([r.customAttribute("mframejs-ending-with.trigger")],e)}();t.TriggerEventsAttribute=o},A.f[144]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r=A.r(68),o=A.r(98),s=A.r(98),i=A.r(101),a=A.r(145),l=function(){function e(){this.templateArray=[],this.arrayType="object"}return e.prototype.setArrayLocalVariables=function(e,t){e.$index=t,e.$even=t%2==0,e.$odd=t%2!=0,e.$last=t===this.templateArray.length-1,e.$first=0===t},e.prototype.created=function(){this.value=this.$attribute.value,this.overrideContext=this.$parent,this.loopBinded=this.loopArray.bind(this),this.$element&&this.$element.$view&&(this.$view=this.$element.$view),this.$element.attributes.removeNamedItem("repeat.for"),this.elementClone=this.$element.cloneNode(!0),this.$element.style.display="None",this.temp=document.createElement("div");var e=document.createElement("div");if(e.appendChild(this.elementClone),this.repeatTemplateCache=o.ViewParser.createNodeParseCache(e),this.anchor=document.createComment("mf-repeat-for"),this.$view&&(this.anchor.$view=this.$view),this.repeatForArray=this.value.split(" of "),this.repeatForArray=this.repeatForArray.map(function(e){return e.trim()}),2!==this.repeatForArray.length)console.error("unknown expression in repeat:"+this.value);else{if(this.rowInstanceName=this.repeatForArray[0],this.arrayVariableName=this.repeatForArray[1],this.arrayExpression=this.repeatForArray[1],this.arrayVariableName.indexOf("|")){var t=this.arrayVariableName.split("|").map(function(e){return e.trim()});this.arrayVariableName=t[0]}this.$array=i.BindingEngine.evaluateExpression(this.arrayExpression,this.$parent);var n=this.$array;Array.isArray(n)?(this.subscribeArray(),this.subscribePropArray()):"number"==typeof n?(this.arrayType="number",this.subscribePropSimple()):"string"==typeof n?(this.arrayType="string",this.subscribePropSimple()):(this.subscribeArray(),this.subscribePropArray())}},e.prototype.loopArray=function(e,t,n){var r=this.$array;if(r){if(e){if(t)for(var i=this.templateArray.length-t,a=0;a<this.templateArray.length;a++)if(a<i)this.templateArray[a].ctx[this.rowInstanceName]!==r[a]&&(this.templateArray[a].ctx[this.rowInstanceName]=r[a]);else{var o=this.templateArray.pop();a--,this.clearInRow(o)}if(n)for(i=r.length-n,a=0;a<r.length;a++)a<i?this.templateArray[a].ctx[this.rowInstanceName]!==this.$array[a]&&(this.templateArray[a].ctx[this.rowInstanceName]=this.$array[a]):this.push(r[a])}else for(a=0;a<this.$array.length;a++)this.templateArray[a].ctx[this.rowInstanceName]!==r[a]&&(this.templateArray[a].ctx[this.rowInstanceName]=r[a]);this.updateInternals()}},e.prototype.loopArrayNumber=function(e,t,n){var r=this.templateArray.length+1;if(r){if(e){if(t)for(var i=this.templateArray.length-t,a=0;a<this.templateArray.length;a++)if(i<=a){var o=this.templateArray.pop();a--,this.clearInRow(o)}if(n)for(i=r,a=0;a<r+n;a++)i<=a&&this.push(a)}else for(a=0;a<this.$array;a++)this.templateArray[a].ctx[this.rowInstanceName]!==a&&(this.templateArray[a].ctx[this.rowInstanceName]=a);this.updateInternals()}},e.prototype.detached=function(){this.clearTemplateArray(),this.arrayMethodCallHandler&&i.BindingEngine.unSubscribeClassArray(this.$parent,this.arrayMethodCallHandler),this.arrayPropertyChangeHandler&&i.BindingEngine.unSubscribeClassProperty(this.$parent,this.arrayPropertyChangeHandler),this.arrayPropertyChangeHandlerLocal&&i.BindingEngine.unSubscribeClassProperty(this.$parent,this.arrayPropertyChangeHandlerLocal),this.$array=null,this.arrayMethodCallHandler=null,this.arrayPropertyChangeHandler=null,this.arrayPropertyChangeHandlerLocal=null,this.propertyChangeHandlerSimple=null},e.prototype.attached=function(){var t=this;this.remove(),this.isAttached=!0,this.$array=i.BindingEngine.evaluateExpression(this.arrayExpression,this.$parent);var e=this.$array;if(Array.isArray(e))e.forEach(function(e){t.push(e)});else{if("number"===this.arrayType&&this.templateArray.length!==e){this.clearTemplateArray();for(var n=0;n<e;n++)this.push(n+1)}if("string"===this.arrayType){var r="string"==typeof e?e.length:0;if(this.templateArray.length!==r){this.clearTemplateArray();for(n=0;n<r;n++)this.push(e[n])}}}this.updateInternals()},e.prototype.subscribeArray=function(){this.arrayMethodCallHandler||(this.arrayMethodCallHandler=new a.ArrayMethodCallHandler(this)),i.BindingEngine.subscribeClassArray(this.$parent,this.arrayVariableName,this.arrayMethodCallHandler)},e.prototype.subscribePropArray=function(){if(this.arrayPropertyChangeHandler?console.error("subscribePropArray fail, called when set",this.arrayExpression,this.arrayVariableName):this.arrayPropertyChangeHandler=new a.ArrayPropertyChange(this),i.BindingEngine.subscribeClassProperty(this.$parent,this.arrayVariableName,this.arrayPropertyChangeHandler),this.arrayVariableName!==this.arrayExpression){this.arrayPropertyChangeHandlerLocal||(this.arrayPropertyChangeHandlerLocal=new a.ArrayPropertyChange(this));var e=this.arrayExpression.replace(this.arrayVariableName,"$array");i.BindingEngine.subscribeClassProperty(this,e,this.arrayPropertyChangeHandlerLocal)}},e.prototype.subscribePropSimple=function(){this.propertyChangeHandlerSimple||(this.propertyChangeHandlerSimple=new a.PropertyChangeSimple(this)),i.BindingEngine.subscribeClassProperty(this.$parent,this.arrayVariableName,this.propertyChangeHandlerSimple)},e.prototype.push=function(e,t){var n=this.elementClone.cloneNode(!0),r={};r[this.rowInstanceName]=e,r.overrideContext=this.$parent,this.temp.appendChild(n),n.$view=new s.ViewController(n);var i=o.ViewParser.parseNodesWithCache(this.temp,r,this.repeatTemplateCache,n.$view);if(void 0===t){var a=this.templateArray.length;this.templateArray.push({ctx:r,template:n}),this.setArrayLocalVariables(r,this.templateArray.length-1),a?this.anchor.parentNode.insertBefore(n,this.templateArray[a-1].template.nextSibling):this.anchor.parentNode.insertBefore(n,this.anchor.nextSibling)}else this.templateArray.splice(t,0,{ctx:r,template:n}),this.templateArray[t+1]?this.anchor.parentNode.insertBefore(n,this.templateArray[t+1].template):this.anchor.parentNode.appendChild(n);i.forEach(function(e){e.attached&&e.attached()})},e.prototype.pop=function(){if(0<this.templateArray.length){var e=this.templateArray.pop();this.clearInRow(e),this.updateInternals()}},e.prototype.updateInternals=function(){var n=this;this.templateArray.forEach(function(e,t){n.setArrayLocalVariables(e.ctx,t)})},e.prototype.shift=function(){if(0<this.templateArray.length){var e=this.templateArray.shift();this.clearInRow(e),this.updateInternals()}},e.prototype.splice=function(e){var t=this;if(0<this.templateArray.length){for(var n=e[0],r=0===e[0]&&void 0===e[1]?this.templateArray.length:e[1],i=[],a=2;a<e.length;a++)e[a]&&i.push(e[a]);if(r)for(a=n+r-1;n-1<a;a--){var o=this.templateArray.splice(a,1)[0];this.clearInRow(o)}i.forEach(function(e){t.push(e,n)}),this.updateInternals()}},e.prototype.clearTemplateArray=function(){var t=document.createElement("div");this.templateArray.forEach(function(e){t.appendChild(e.template)}),this.templateArray.forEach(function(e){o.ViewParser.clearAllViews(e.template)}),t=null,this.templateArray=[]},e.prototype.remove=function(){this.clearTemplateArray(),this.$element.parentNode.replaceChild(this.anchor,this.$element)},e.prototype.clearInRow=function(e){if(e){var t=void 0;e.template.$ifbindview?o.ViewParser.clearAllViews(e.template):(t=e.template.parentNode.removeChild(e.template),o.ViewParser.clearAllViews(t),t=null)}},e=n([r.customAttribute("repeat.for")],e)}();t.RepeatAttribute=l},A.f[145]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=A.r(101),n=function(){function e(e){this.repeat=e,this.name="repeat"+this.repeat.value}return e.prototype.call=function(e){var r=this,i=!0;e.forEach(function(e){switch(e.event){case"push":for(var t=0;t<e.args.length;)r.repeat.push(e.args[t]),t++;r.repeat.updateInternals();break;case"reverse":case"sort":if(i){i=!1;var n=r.repeat.$array;n&&n.forEach(function(e,t){r.repeat.templateArray[t].ctx[r.repeat.rowInstanceName]=e})}break;case"shift":r.repeat.shift();break;case"pop":r.repeat.pop();break;case"splice":r.repeat.splice(e.args)}})},e}();t.ArrayMethodCallHandler=n;var i=function(){function e(e,t){this.repeat=e,this.expression=t,this.name="repeat"+this.repeat.value}return e.prototype.call=function(){var t=this;if(this.repeat.isAttached){var e=r.BindingEngine.evaluateExpression(this.repeat.arrayExpression,this.repeat.$parent);if(Array.isArray(e)&&this.repeat.templateArray.length!==e.length)if(this.repeat.$array=e,0!==this.repeat.templateArray.length&&0!==e.length)this.repeat.templateArray.length>e.length?this.repeat.loopBinded(!0,this.repeat.templateArray.length-e.length,0):this.repeat.loopBinded(!0,0,e.length-this.repeat.templateArray.length),r.BindingEngine.unSubscribeClassArray(this.repeat.$parent,this.repeat.arrayMethodCallHandler),this.repeat.subscribeArray();else{this.repeat.clearTemplateArray();var n=r.BindingEngine.evaluateExpression(this.repeat.arrayExpression,this.repeat.$parent);Array.isArray(n)&&(n.forEach(function(e){t.repeat.push(e)}),r.BindingEngine.unSubscribeClassArray(this.repeat.$parent,this.repeat.arrayMethodCallHandler),this.repeat.subscribeArray(),n=null)}else Array.isArray(e)?(this.repeat.$array=e,this.repeat.loopBinded()):(this.repeat.$array=Array.isArray(e)?e:[],this.repeat.clearTemplateArray()),r.BindingEngine.unSubscribeClassArray(this.repeat.$parent,this.repeat.arrayMethodCallHandler),e&&this.repeat.subscribeArray()}},e}();t.ArrayPropertyChange=i;var a=function(){function e(e){this.repeat=e,this.name="repeat"+this.repeat.value}return e.prototype.call=function(e){if(this.repeat.isAttached){if("string"===this.repeat.arrayType){var t="string"==typeof e?e.length:0;if(this.repeat.templateArray.length!==t){this.repeat.clearTemplateArray();for(var n=0;n<t;n++)this.repeat.push(e[n])}}"number"===this.repeat.arrayType&&("number"!=typeof e&&(console.warn("repeat not number:",e),e=0),this.repeat.templateArray.length!==e&&(this.repeat.templateArray.length<e?this.repeat.loopArrayNumber(!0,0,e-this.repeat.templateArray.length):this.repeat.loopArrayNumber(!0,this.repeat.templateArray.length-e,0)))}},e}();t.PropertyChangeSimple=a},A.f[146]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r=A.r(68),i=A.r(101),a=function(){function e(){}return e.prototype.created=function(){var n=this;this.value=this.$attribute.value,this.name=this.$attribute.name.replace(".bind",""),this.init=!0,this.subscribeInternal={name:this.name+"Attribute(misc)",value:this.value,call:function(e,t){if(t!==e||n.init)switch(n.init=!1,n.name){case"readonly":e?n.$element.readOnly=e:n.$element.removeAttribute(n.name);break;case"src":e?n.$element.src=e:n.$element.removeAttribute(n.name);break;case"disabled":e?n.$element.disabled=e:n.$element.removeAttribute(n.name);break;case"class":n.$element.className=e||"";break;case"show":n.$element.style.display=e?"block":"none";break;default:n.$element.setAttribute(n.name,e)}}},i.BindingEngine.subscribeClassProperty(this.$parent,this.value,this.subscribeInternal)},e.prototype.detached=function(){i.BindingEngine.unSubscribeClassProperty(this.$parent,this.subscribeInternal)},e.prototype.attached=function(){this.$element.removeAttribute(this.$attribute.name)},e=n([r.customAttribute("href.bind"),r.customAttribute("readonly.bind"),r.customAttribute("disabled.bind"),r.customAttribute("show.bind"),r.customAttribute("class.bind"),r.customAttribute("src.bind")],e)}();t.MiscAttributes=a},A.f[147]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r=A.r(68),i=A.r(101),a=function(){function e(){this.lastStyles=[]}return e.prototype.created=function(){var n=this;this.value=this.$attribute.value,this.$element.removeAttribute(this.$attribute.name),this.subscribeInternal={name:"cssAttribute:",value:this.value,call:function(e,t){t!==e&&n.splitAndInsert(e)}},i.BindingEngine.subscribeClassProperty(this.$parent,this.value,this.subscribeInternal)},e.prototype.splitAndInsert=function(e){var t=this;try{var n=(e=null==e?"":e).split(";").map(function(e){return e.split(":")}).filter(function(e){return 2===e.length}).map(function(e){return{attribute:e[0],value:e[1].replace(/ /g,"")}}),r=[];n.forEach(function(e){r.push(e.attribute.trim()),t.$element.style[e.attribute.trim()]=e.value.trim()}),this.lastStyles.forEach(function(e){-1===r.indexOf(e)&&(t.$element.style[e]=null)}),this.lastStyles=r}catch(e){console.error("could not parse css values")}},e.prototype.detached=function(){i.BindingEngine.unSubscribeClassProperty(this.$parent,this.subscribeInternal)},e=n([r.customAttribute("css")],e)}();t.CssAttribute=a},A.f[148]=function(e,t){var n=this&&this.__decorate||function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(o=(a<3?i(o):3<a?i(t,n,o):i(t,n))||o);return 3<a&&o&&Object.defineProperty(t,n,o),o};Object.defineProperty(t,"__esModule",{value:!0});var r=A.r(68),i=A.r(101),a=function(){function e(){}return e.prototype.created=function(){var n=this;this.$attribute.getContent=function(){return n},this.expression=this.$attribute.value,this.subscribeInternal={name:"modelAttribute:",value:this.value,call:function(e,t){t!==e&&(n.value=e)}},i.BindingEngine.subscribeClassProperty(this.$parent,this.expression,this.subscribeInternal)},e.prototype.detached=function(){this.$attribute.getContent=null},e=n([r.customAttribute("model.bind")],e)}();t.ModelAttribute=a},A.f[149]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=new Map,r=new Map,i=new Map,a=new Map,o={},s=function(e){return e.split(/\.|\[([^\]]+)\]\.?/).filter(function(e){return e||null})},l=function(){function e(){}return e.clear=function(){n.clear(),r.clear(),i.clear(),a.clear(),o={}},e.templateMap=n,e.expressionMap=r,e.astMap=i,e.splitMap=a,e.keyMaps={has:function(e){return!!o[e]},get:function(e){return o[e]},set:function(e){var t=s(e);return o[e]=t},getCreate:function(e){if(o[e])return o[e];var t=s(e);return o[e]=t}},e}();t.Cache=l},A.f[150]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,i=!1,a=1e4,n=function(){function n(e,t){this.id=a,a++,this.name=e,this.category=t||"unamed"}return n.getLogger=function(e,t){return i?new n(e,t):r},n.enable=function(){i=!0},n.disable=function(){i=!1},n.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i&&console.warn("Log["+this.id+"] - ["+this.category+"] - ["+this.name+"] ",e.join(" - "))},n}();t.Logger=n,r=new n("na","na")},A.f[151]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.raiseEvent=function(e,t,n,r){var i=new CustomEvent(t,{detail:void 0!==n?n:{},bubbles:r||!1});return e.dispatchEvent(i),i}},A.f[152]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e=e}},A.f[153]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){void 0===e&&(e={}),this.config=e,this.setConfig(e)}return e.prototype.setConfig=function(e){e.defaultUrl&&(this.config.defaultUrl=e.defaultUrl),e.cache&&(this.config.cache=e.cache),e.credentials&&(this.config.credentials=e.credentials),e.headers&&(this.config.headers=e.headers),e.method&&(this.config.method=e.method),e.mode&&(this.config.mode=e.mode),e.redirect&&(this.config.redirect=e.redirect),e.referrer&&(this.config.referrer=e.referrer)},e.prototype.getConfig=function(){return this.config},e.prototype.fetch=function(e,t){var n=this.config.defaultUrl?this.config.defaultUrl+e:e,r={body:t.body?t.body:void 0,cache:t.cache||this.config.cache,credentials:t.credentials||this.config.credentials,headers:t.headers||this.config.headers,method:t.method||this.config.method,mode:t.mode||this.config.mode,redirect:t.redirect||this.config.redirect,referrer:t.referrer||this.config.referrer};return fetch(n,r)},e}();t.FetchClient=n},A.f[154]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=Object.prototype.hasOwnProperty;function a(e){return decodeURIComponent(e.replace(/\+/g," "))}t.urlQueryParse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);r[a(t[1])]=a(t[2]));return r},t.urlqueryStringify=function(e,t){t=t||"";var n=[];for(var r in"string"!=typeof t&&(t="?"),e)i.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""}},A.f[155]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=A.r(101),o=A.r(149),s=A.r(70);t.connectBehavior=function(e,r){if(-1!==e.indexOf("&")){var t=o.Cache.expressionMap.get(e);if(!t){var n=a.BindingEngine.tokenize(e);(t={}).ast=a.BindingEngine.generateAST(n),o.Cache.expressionMap.set(e,{ast:t.ast,tokens:n})}var i=a.BindingEngine.getBehavior(t.ast);i&&i.forEach(function(e){var t=s.ContainerBehavior.findBehavior(e.name);if(t){var n=new t(r,e.args);n=n}})}}},A.f[156]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.template=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="<template>"+e[0][0],r=[].slice.call(e,1),i=0;i<r.length;++i)n+=r[i].replace("this.","")+e[0][i+1];return n+"</template>"}};window;var e=A.r(0);if(e)for(var t in e)window[t]=e[t];A.r(0)}($fsx);